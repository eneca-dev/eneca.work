# üß™ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è E2E —Ç–µ—Å—Ç–æ–≤

## üìã –û–±–∑–æ—Ä

–î–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å **–≤—ã–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** —Å –∏–∑–≤–µ—Å—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏, –∫–æ—Ç–æ—Ä–æ–≥–æ –º–æ–∂–Ω–æ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –±–µ–∑ —Ä–∏—Å–∫–∞ –¥–ª—è —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

---

## üéØ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ç–µ—Å—Ç–æ–≤–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

### –ë–∞–∑–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
- **Email**: `test.user.e2e@eneca.test` (–Ω–µ —Ä–µ–∞–ª—å–Ω—ã–π email, **–ø–æ–ª–µ —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è**)
- **–ò–º—è**: `TestUser`
- **–§–∞–º–∏–ª–∏—è**: `E2E`
- **–†–æ–ª—å**: `user` (–æ–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –Ω–µ –∞–¥–º–∏–Ω)
- **–ü–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ**: `–ù–µ–ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ—Ç–¥–µ–ª—ã` ‚ö†Ô∏è **–í–∞–∂–Ω–æ –¥–ª—è —Ç–µ—Å—Ç–æ–≤**
- **–û—Ç–¥–µ–ª**: `–¢–µ—Å—Ç–æ–≤—ã–π –æ—Ç–¥–µ–ª` ‚ö†Ô∏è **–í–∞–∂–Ω–æ –¥–ª—è —Ç–µ—Å—Ç–æ–≤**
- **–ö–æ–º–∞–Ω–¥–∞**: `–¢–µ—Å—Ç –ö–æ–º–∞–Ω–¥–∞` ‚ö†Ô∏è **–í–∞–∂–Ω–æ –¥–ª—è —Ç–µ—Å—Ç–æ–≤**
- **–î–æ–ª–∂–Ω–æ—Å—Ç—å**: "–ë–µ–∑ –¥–æ–ª–∂–Ω–æ—Å—Ç–∏"
- **–ö–∞—Ç–µ–≥–æ—Ä–∏—è**: "–ù–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è"
- **–°—Ç–∞–≤–∫–∞**: `0`
- **–ó–∞–≥—Ä—É–∂–µ–Ω–Ω–æ—Å—Ç—å**: `100% (1.0)`
- **–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ**: "–ì–∏–±—Ä–∏–¥–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç"
- **–°—Ç—Ä–∞–Ω–∞**: –ù–µ –≤—ã–±—Ä–∞–Ω–∞ (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–∞—Å–∫–∞–¥–∞)
- **–ì–æ—Ä–æ–¥**: –ù–µ –≤—ã–±—Ä–∞–Ω

> **‚ö†Ô∏è –í–∞–∂–Ω–æ**: –ü–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ, –û—Ç–¥–µ–ª –∏ –ö–æ–º–∞–Ω–¥–∞ –¥–æ–ª–∂–Ω—ã —Ç–æ—á–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —É–∫–∞–∑–∞–Ω–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏—è–º, —Ç–∞–∫ –∫–∞–∫ —Ç–µ—Å—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏—é –ø–æ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–µ –¥–ª—è –ø–æ–∏—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

> **‚ö†Ô∏è –í–∞–∂–Ω–æ**: Email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è **–Ω–µ–ª—å–∑—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å** –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è. –≠—Ç–æ –ø–æ–ª–µ —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è –≤ –º–æ–¥–∞–ª–∫–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **–≤–∏–¥–∏–º –≤ —Å–ø–∏—Å–∫–µ** –¥–ª—è –∞–¥–º–∏–Ω–∞
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å **–ù–ï –¥–æ–ª–∂–µ–Ω** –∏–º–µ—Ç—å –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–π (–ø—Ä–æ–µ–∫—Ç—ã, –∑–∞–≥—Ä—É–∑–∫–∏)
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **—Å—Ç–∞–±–∏–ª—å–Ω—ã–º** (–Ω–µ —É–¥–∞–ª—è—Ç—å—Å—è –º–µ–∂–¥—É —Ç–µ—Å—Ç–∞–º–∏)

---

## üõ†Ô∏è –°–ø–æ—Å–æ–± 1: –°–æ–∑–¥–∞–Ω–∏–µ —á–µ—Ä–µ–∑ UI (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. **–í–æ–π—Ç–∏ –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä**
   ```
   URL: https://your-domain.eneca.work/dashboard/users
   ```

2. **–ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "–†—É—á–Ω–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ"**
   - –ù–∞–∂–∞—Ç—å –Ω–∞ —Ç–∞–± "–†—É—á–Ω–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ"

3. **–ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ñ–æ—Ä–º—É**:
   ```
   Email: test.user.e2e@eneca.test
   –ò–º—è: TestUser
   –§–∞–º–∏–ª–∏—è: E2E
   –ü–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ: [–≤—ã–±—Ä–∞—Ç—å –ª—é–±–æ–µ]
   –û—Ç–¥–µ–ª: [–≤—ã–±—Ä–∞—Ç—å –ª—é–±–æ–π]
   –ö–æ–º–∞–Ω–¥–∞: [–≤—ã–±—Ä–∞—Ç—å –ª—é–±—É—é]
   –î–æ–ª–∂–Ω–æ—Å—Ç—å: –ë–µ–∑ –¥–æ–ª–∂–Ω–æ—Å—Ç–∏
   –ö–∞—Ç–µ–≥–æ—Ä–∏—è: –ù–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è
   –†–æ–ª—å: user
   –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ: –ì–∏–±—Ä–∏–¥–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
   –°—Ç–∞–≤–∫–∞: 0
   –ó–∞–≥—Ä—É–∂–µ–Ω–Ω–æ—Å—Ç—å: 100%
   ```

4. **–ù–∞–∂–∞—Ç—å "–°–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"**

5. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ**:
   - –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≤–∫–ª–∞–¥–∫—É "–°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π"
   - –ù–∞–π—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `TestUser E2E` –≤ —Å–ø–∏—Å–∫–µ
   - –ó–∞–ø–æ–º–Ω–∏—Ç—å –µ–≥–æ –ø–æ–∑–∏—Ü–∏—é –∏–ª–∏ –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ç–µ—Å—Ç–æ–≤

---

## üõ†Ô∏è –°–ø–æ—Å–æ–± 2: –°–æ–∑–¥–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Supabase SQL

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞–ø—Ä—è–º—É—é –≤ –ë–î:

```sql
-- 1. –°–æ–∑–¥–∞—Ç—å auth –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
INSERT INTO auth.users (
  instance_id,
  id,
  aud,
  role,
  email,
  encrypted_password,
  email_confirmed_at,
  created_at,
  updated_at,
  raw_app_meta_data,
  raw_user_meta_data
)
VALUES (
  '00000000-0000-0000-0000-000000000000',
  gen_random_uuid(), -- —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å UUID
  'authenticated',
  'authenticated',
  'test.user.e2e@eneca.test',
  crypt('test_password_123', gen_salt('bf')), -- –ø–∞—Ä–æ–ª—å –¥–ª—è –≤—Ö–æ–¥–∞
  NOW(),
  NOW(),
  NOW(),
  '{"provider":"email","providers":["email"]}',
  '{}'
);

-- 2. –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
INSERT INTO public.profiles (
  id, -- —Ç–æ—Ç –∂–µ UUID —á—Ç–æ –∏ –≤ auth.users
  email,
  first_name,
  last_name,
  role_id,
  subdivision_id,
  department_id,
  team_id,
  position_id,
  category_id,
  work_location,
  rate,
  workload,
  created_at,
  updated_at
)
VALUES (
  '[UUID –∏–∑ —à–∞–≥–∞ 1]',
  'test.user.e2e@eneca.test',
  'TestUser',
  'E2E',
  (SELECT id FROM roles WHERE name = 'user' LIMIT 1),
  (SELECT id FROM subdivisions LIMIT 1),
  (SELECT id FROM departments LIMIT 1),
  (SELECT id FROM teams LIMIT 1),
  NULL, -- –±–µ–∑ –¥–æ–ª–∂–Ω–æ—Å—Ç–∏
  NULL, -- –±–µ–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
  'hybrid',
  0,
  1.0,
  NOW(),
  NOW()
);
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —á–µ—Ä–µ–∑ SQL –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –∫—ç—à–∞.

---

## üìù –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è **–ù–ï –ù–£–ñ–ù–û** –æ–±–Ω–æ–≤–ª—è—Ç—å —Ç–µ—Å—Ç—ã - –æ–Ω–∏ —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã!

–¢–µ—Å—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç **–Ω–∞–≤–∏–≥–∞—Ü–∏—é –ø–æ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–µ** —Å –∫–æ–Ω—Å—Ç–∞–Ω—Ç–æ–π `TEST_USER_HIERARCHY`:

```typescript
const TEST_USER_HIERARCHY = {
  subdivision: '–ù–µ–ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ—Ç–¥–µ–ª—ã',
  department: '–¢–µ—Å—Ç–æ–≤—ã–π –æ—Ç–¥–µ–ª',
  team: '–¢–µ—Å—Ç –ö–æ–º–∞–Ω–¥–∞',
  userEmail: 'test.user.e2e@eneca.test'
}
```

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

–¢–µ—Å—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. –ü–µ—Ä–µ–∫–ª—é—á–∞—é—Ç—Å—è –≤ —Ä–µ–∂–∏–º –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ –ø–æ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è–º (–µ—Å–ª–∏ –µ—â—ë –Ω–µ –≤ –Ω—ë–º)
2. –†–∞—Å–∫—Ä—ã–≤–∞—é—Ç –≥—Ä—É–ø–ø—É "–ù–µ–ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ—Ç–¥–µ–ª—ã"
3. –†–∞—Å–∫—Ä—ã–≤–∞—é—Ç –≥—Ä—É–ø–ø—É "–¢–µ—Å—Ç–æ–≤—ã–π –æ—Ç–¥–µ–ª"
4. –†–∞—Å–∫—Ä—ã–≤–∞—é—Ç –≥—Ä—É–ø–ø—É "–¢–µ—Å—Ç –ö–æ–º–∞–Ω–¥–∞"
5. –ù–∞—Ö–æ–¥—è—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `test.user.e2e@eneca.test`
6. –ö–ª–∏–∫–∞—é—Ç –Ω–∞ –Ω–µ–≥–æ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª–∫–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**–í–∞–∂–Ω–æ**: –£–±–µ–¥–∏—Å—å, —á—Ç–æ —Å–æ–∑–¥–∞–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–º–µ–Ω–Ω–æ –≤ —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–∏, –æ—Ç–¥–µ–ª–µ –∏ –∫–æ–º–∞–Ω–¥–µ!

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–∞–∑–æ–≤—ã–π —Ç–µ—Å—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:

```bash
npx playwright test tests/users/user-edit.spec.ts --grep "clicking on user row opens edit dialog"
```

–ï—Å–ª–∏ —Ç–µ—Å—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ ‚Äî —Ç–µ—Å—Ç–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ!

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### –ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–±–æ—Ç—ã —Å —Ç–µ—Å—Ç–æ–≤—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º

1. **–ù–ï –Ω–∞–∑–Ω–∞—á–∞—Ç—å** —Ç–µ—Å—Ç–æ–≤–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Ä–µ–∞–ª—å–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã
2. **–ù–ï –¥–∞–≤–∞—Ç—å** –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ —Ç–µ—Å—Ç–æ–≤–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
3. **–ù–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å** —Ä–µ–∞–ª—å–Ω—ã–µ email –∞–¥—Ä–µ—Å–∞
4. **–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö**: –ï—Å–ª–∏ —Ç–µ—Å—Ç—ã –∏–∑–º–µ–Ω–∏–ª–∏ –¥–∞–Ω–Ω—ã–µ, –º–æ–∂–Ω–æ —Å–±—Ä–æ—Å–∏—Ç—å:
   ```sql
   UPDATE profiles
   SET
     first_name = 'TestUser',
     last_name = 'E2E',
     rate = 0,
     workload = 1.0
   WHERE email = 'test.user.e2e@eneca.test';
   ```

### –ò–∑–æ–ª—è—Ü–∏—è —Ç–µ—Å—Ç–æ–≤

- –¢–µ—Å—Ç—ã –≤ `.skip()` –±–ª–æ–∫–µ –Ω–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –†–∞–∑–¥–µ–ª—ã `Full Edit Flow` —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –ø—Ä–æ–ø—É—â–µ–Ω—ã –¥–æ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –º–æ–∂–Ω–æ —É–±—Ä–∞—Ç—å `.skip()`

---

## üöÄ –í–∫–ª—é—á–µ–Ω–∏–µ –ø–æ–ª–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

1. **–û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã** –≤ `user-edit.spec.ts`
2. **–£–¥–∞–ª–∏—Ç—å `.skip()`** –∏–∑ –±–ª–æ–∫–∞:
   ```typescript
   test.describe.skip('Full Edit Flow (Modifies Database)', () => {
   // –ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞:
   test.describe('Full Edit Flow (Modifies Database)', () => {
   ```

3. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–ª–Ω—ã–π flow**:
   ```typescript
   test('complete edit and save flow', async () => {
     await usersPage.openUserEditDialogByName('TestUser E2E')

     // –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ
     await usersPage.fillBasicUserInfo({
       firstName: 'TestUser',
       lastName: 'MODIFIED',
       rate: 15.5
     })

     // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
     await usersPage.clickEditSave()

     // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–∫—Ä—ã—Ç–∏–µ
     await usersPage.waitForEditDialogClose()

     // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤ —Å–ø–∏—Å–∫–µ
     const users = await usersPage.getVisibleUserNames()
     expect(users.some(u => u.includes('MODIFIED'))).toBe(true)

     // –û—Ç–∫—Ä—ã—Ç—å —Å–Ω–æ–≤–∞ –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
     await usersPage.openUserEditDialogByName('TestUser MODIFIED')
     const lastName = await usersPage.getEditLastName()
     expect(lastName).toBe('MODIFIED')

     // –í–µ—Ä–Ω—É—Ç—å –æ–±—Ä–∞—Ç–Ω–æ
     await usersPage.fillEditLastName('E2E')
     await usersPage.clickEditSave()
   })
   ```

---

## üìä –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–æ–≤

–¢–µ–∫—É—â–∏–µ —Ç–µ—Å—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç:

‚úÖ –û—Ç–∫—Ä—ã—Ç–∏–µ/–∑–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª–∫–∏ (5 —Ç–µ—Å—Ç–æ–≤)
‚úÖ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∞–∑–æ–≤—ã—Ö –ø–æ–ª–µ–π (6 —Ç–µ—Å—Ç–æ–≤) - –≤–∫–ª—é—á–∞—è –ø—Ä–æ–≤–µ—Ä–∫—É readonly email
‚úÖ –†–∞–±–æ—Ç–∞ —Å dropdown (3 —Ç–µ—Å—Ç–∞)
‚úÖ –ö–∞—Å–∫–∞–¥–Ω—ã–µ dropdown (2 —Ç–µ—Å—Ç–∞)
‚úÖ –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (3 —Ç–µ—Å—Ç–∞)
‚úÖ –°–æ—Å—Ç–æ—è–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ Save (2 —Ç–µ—Å—Ç–∞)
‚úÖ –†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (2 —Ç–µ—Å—Ç–∞)
‚úÖ Edge cases (6 —Ç–µ—Å—Ç–æ–≤)
‚ö†Ô∏è –ü–æ–ª–Ω—ã–π flow —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º (3 —Ç–µ—Å—Ç–∞ - —Ç—Ä–µ–±—É—é—Ç —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)

**–ò—Ç–æ–≥–æ**: 29 –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ + 3 –æ—Ç–∫–ª—é—á—ë–Ω–Ω—ã—Ö

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: Email –≤–∞–ª–∏–¥–∞—Ü–∏—è —É–¥–∞–ª–µ–Ω–∞, —Ç–∞–∫ –∫–∞–∫ –ø–æ–ª–µ —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. [ ] –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å —Ç–æ—á–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏:
   - Email: `test.user.e2e@eneca.test`
   - –ü–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ: `–ù–µ–ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ—Ç–¥–µ–ª—ã`
   - –û—Ç–¥–µ–ª: `–¢–µ—Å—Ç–æ–≤—ã–π –æ—Ç–¥–µ–ª`
   - –ö–æ–º–∞–Ω–¥–∞: `–¢–µ—Å—Ç –ö–æ–º–∞–Ω–¥–∞`
2. [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–∞–∑–æ–≤—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
3. [ ] –£–±—Ä–∞—Ç—å `.skip()` –∏–∑ –±–ª–æ–∫–∞ Full Edit Flow
4. [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ç–µ—Å—Ç—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
5. [ ] –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ–± —É—Å–ø–µ—Ö–µ/–æ—à–∏–±–∫–µ

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Users Module Tests Overview](../README.md)
- [Role Testing Strategy](../docs/roles-testing-strategy.md)
- [Playwright Best Practices](https://playwright.dev/docs/best-practices)
