/**
 * Склонение слова "раздел" в зависимости от числа
 * @param count - количество разделов
 * @returns правильная форма слова ("раздел", "раздела" или "разделов")
 *
 * Примеры:
 * - 1, 21, 31, 41... → "раздел"
 * - 2-4, 22-24, 32-34... → "раздела"
 * - 5-20, 25-30, 35-40... → "разделов"
 * - 11-14 → "разделов" (исключение)
 */
export function pluralizeSections(count: number): string {
  const lastDigit = count % 10
  const lastTwoDigits = count % 100

  // Исключения для 11-14 (всегда "разделов")
  if (lastTwoDigits >= 11 && lastTwoDigits <= 14) {
    return 'разделов'
  }

  // 1, 21, 31, 41... → "раздел"
  if (lastDigit === 1) {
    return 'раздел'
  }

  // 2-4, 22-24, 32-34... → "раздела"
  if (lastDigit >= 2 && lastDigit <= 4) {
    return 'раздела'
  }

  // 5-20, 25-30, 35-40... → "разделов"
  return 'разделов'
}

/**
 * Склонение слова "этап" в зависимости от числа
 * @param count - количество этапов
 * @returns правильная форма слова ("этап", "этапа" или "этапов")
 *
 * Примеры:
 * - 1, 21, 31, 41... → "этап"
 * - 2-4, 22-24, 32-34... → "этапа"
 * - 5-20, 25-30, 35-40... → "этапов"
 * - 11-14 → "этапов" (исключение)
 */
export function pluralizeStages(count: number): string {
  const lastDigit = count % 10
  const lastTwoDigits = count % 100

  // Исключения для 11-14 (всегда "этапов")
  if (lastTwoDigits >= 11 && lastTwoDigits <= 14) {
    return 'этапов'
  }

  // 1, 21, 31, 41... → "этап"
  if (lastDigit === 1) {
    return 'этап'
  }

  // 2-4, 22-24, 32-34... → "этапа"
  if (lastDigit >= 2 && lastDigit <= 4) {
    return 'этапа'
  }

  // 5-20, 25-30, 35-40... → "этапов"
  return 'этапов'
}

/**
 * Склонение слова "задача" в винительном падеже в зависимости от числа
 * @param count - количество задач
 * @returns правильная форма слова ("задачу", "задачи" или "задач")
 *
 * Примеры:
 * - 1, 21, 31, 41... → "задачу"
 * - 2-4, 22-24, 32-34... → "задачи"
 * - 5-20, 25-30, 35-40... → "задач"
 * - 11-14 → "задач" (исключение)
 */
export function pluralizeTasks(count: number): string {
  const lastDigit = count % 10
  const lastTwoDigits = count % 100

  // Исключения для 11-14 (всегда "задач")
  if (lastTwoDigits >= 11 && lastTwoDigits <= 14) {
    return 'задач'
  }

  // 1, 21, 31, 41... → "задачу"
  if (lastDigit === 1) {
    return 'задачу'
  }

  // 2-4, 22-24, 32-34... → "задачи"
  if (lastDigit >= 2 && lastDigit <= 4) {
    return 'задачи'
  }

  // 5-20, 25-30, 35-40... → "задач"
  return 'задач'
}
