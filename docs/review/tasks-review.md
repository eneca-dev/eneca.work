# Tasks Module Review

## üìã –®–∞–±–ª–æ–Ω –æ–ø–∏—Å–∞–Ω–∏—è –±–∞–≥–∞

–ò—Å–ø–æ–ª—å–∑—É–π —ç—Ç–æ—Ç —à–∞–±–ª–æ–Ω –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö –±–∞–≥–æ–≤ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é:

```markdown
### üîñ –ë–ê–ì #N: –ö—Ä–∞—Ç–∫–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

**–î–∞—Ç–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è:** YYYY-MM-DD

**–õ–æ–∫–∞—Ü–∏—è:** `/–ø—É—Ç—å` ‚Üí –∫–æ–Ω—Ç–µ–∫—Å—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤–∫–ª–∞–¥–∫–∞ "–ì—Ä–∞—Ñ–∏–∫ —Ä–µ—Å—É—Ä—Å–æ–≤")

#### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

**–¢–µ–∫—É—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–µ–π—á–∞—Å (–ø–æ—à–∞–≥–æ–≤–æ)
- –í —á—ë–º –ø—Ä–æ–±–ª–µ–º–∞

**–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ß—Ç–æ –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å

**–ü—Ä–∏–º–µ—Ä (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**
```
–í–∏–∑—É–∞–ª—å–Ω–∞—è —Å—Ö–µ–º–∞ –∏–ª–∏ –∫–æ–¥, –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é—â–∏–π –ø—Ä–æ–±–ª–µ–º—É
```

**–ì–¥–µ –ø—Ä–æ—è–≤–ª—è–µ—Ç—Å—è:**
- –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã/—Å—Ç—Ä–∞–Ω–∏—Ü—ã/–¥–µ–π—Å—Ç–≤–∏—è

**–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ:**
1. –®–∞–≥ 1
2. –®–∞–≥ 2
3. **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –û–ø–∏—Å–∞–Ω–∏–µ –±–∞–≥–∞

#### –ü—Ä–∏—á–∏–Ω–∞

**Root cause:** –û–¥–Ω–∏–º –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ–º ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞ –±–∞–≥–∞

**–ü—Ä–æ–±–ª–µ–º–Ω—ã–π –∫–æ–¥:**

```typescript
// –§–∞–π–ª:–ø—É—Ç—å/–∫/—Ñ–∞–π–ª—É.ts:—Å—Ç—Ä–æ–∫–∏

// ‚ùå –ü—Ä–æ–±–ª–µ–º–Ω—ã–π –∫–æ–¥ —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏
```

**–ü–æ—á–µ–º—É —ç—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞:**
1. –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –ø—É–Ω–∫—Ç 1
2. –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –ø—É–Ω–∫—Ç 2
3. –°–ª–µ–¥—Å—Ç–≤–∏—è

#### –õ–æ–∫–∞—Ü–∏—è –∫–æ–¥–∞

**–§–∞–π–ª—ã —Å –ø—Ä–æ–±–ª–µ–º–æ–π:**

1. **–û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª** ‚Äî –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ:
   - [–ø—É—Ç—å/–∫/—Ñ–∞–π–ª—É.ts:–Ω–∞—á–∞–ª–æ-–∫–æ–Ω–µ—Ü](../–ø—É—Ç—å/–∫/—Ñ–∞–π–ª—É.ts#L–Ω–∞—á–∞–ª–æ-L–∫–æ–Ω–µ—Ü) ‚Äî —á—Ç–æ –∑–¥–µ—Å—å –Ω–µ —Ç–∞–∫
   - –ó–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç —Å—Ç—Ä–æ–∫–∏: X-Y

2. **–°–≤—è–∑–∞–Ω–Ω—ã–π —Ñ–∞–π–ª** (–µ—Å–ª–∏ –µ—Å—Ç—å):
   - [–ø—É—Ç—å/–∫/–¥—Ä—É–≥–æ–º—É.ts:—Å—Ç—Ä–æ–∫–∞](../–ø—É—Ç—å/–∫/–¥—Ä—É–≥–æ–º—É.ts#L—Å—Ç—Ä–æ–∫–∞)

**–ó–∞—Ç—Ä–∞–≥–∏–≤–∞–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç 1 ‚Äî –∫–∞–∫ –ø—Ä–æ—è–≤–ª—è–µ—Ç—Å—è
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç 2 ‚Äî –∫–∞–∫ –ø—Ä–æ—è–≤–ª—è–µ—Ç—Å—è

#### –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ—à–µ–Ω–∏—è

**‚ùå –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:**
- –í–∞—Ä–∏–∞–Ω—Ç 1 ‚Äî –ø–æ—á–µ–º—É –ø–ª–æ—Ö–æ
- –í–∞—Ä–∏–∞–Ω—Ç 2 ‚Äî –ø–æ—á–µ–º—É –ø–ª–æ—Ö–æ

**‚úÖ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:**

---

**–í–∞—Ä–∏–∞–Ω—Ç 1: –ù–∞–∑–≤–∞–Ω–∏–µ —Ä–µ—à–µ–Ω–∏—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) ‚≠ê**

–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–∞.

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

```typescript
// –ë—ã–ª–æ:
—Å—Ç–∞—Ä—ã–π –∫–æ–¥

// –°—Ç–∞–ª–æ:
–Ω–æ–≤—ã–π –∫–æ–¥
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ 1
- ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ 2

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ–∫ 1 (–µ—Å–ª–∏ –µ—Å—Ç—å)

---

**–í–∞—Ä–∏–∞–Ω—Ç 2: –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ**

–û–ø–∏—Å–∞–Ω–∏–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã.

**–ü–ª—é—Å—ã:**
- ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ–∫

---

#### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π

**–®–∞–≥ 1: –ù–∞–∑–≤–∞–Ω–∏–µ —à–∞–≥–∞**

1. –ü–æ–¥—à–∞–≥ 1
2. –ü–æ–¥—à–∞–≥ 2
3. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ñ–∞–π–ª

**–®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç**

1. –î–µ–π—Å—Ç–≤–∏–µ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
2. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ß—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å ‚úÖ

**–®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å edge cases**

- ‚úÖ Edge case 1
- ‚úÖ Edge case 2

#### –í—ã–≤–æ–¥—ã

- **–°—É—Ç—å –ø—Ä–æ–±–ª–µ–º—ã** ‚Äî –∫—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ
- **Root cause** ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞
- **–ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ** ‚Äî —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ
- **–†–µ–∑—É–ª—å—Ç–∞—Ç** ‚Äî —á—Ç–æ –ø–æ–ª—É—á–∏–º –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- **–û–±—ä—ë–º —Ä–∞–±–æ—Ç—ã** ‚Äî N —Ñ–∞–π–ª–æ–≤, ~X —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞

**–û–±—â–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:**

- –ü—Ä–∏–Ω—Ü–∏–ø 1
- –ü—Ä–∏–Ω—Ü–∏–ø 2

**–°—Å—ã–ª–∫–∏:**

- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://example.com) ‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ
- [–§–∞–π–ª –≤ –ø—Ä–æ–µ–∫—Ç–µ](../–ø—É—Ç—å/–∫/—Ñ–∞–π–ª—É.ts) ‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ
```

---

**–ò–∫–æ–Ω–∫–∏ –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π –±–∞–≥–æ–≤:**

- üêõ **–ë–ê–ì** ‚Äî –æ–±—â–∏–π –±–∞–≥
- üîÑ **–ë–ê–ì** ‚Äî –ø—Ä–æ–±–ª–µ–º—ã —Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö (race conditions, stale data)
- üé® **–ë–ê–ì** ‚Äî –≤–∏–∑—É–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã (CSS, —Ç–µ–º—ã, –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ)
- üîê **–ë–ê–ì** ‚Äî –ø—Ä–æ–±–ª–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (auth, permissions, XSS)
- ‚ö° **–ë–ê–ì** ‚Äî –ø—Ä–æ–±–ª–µ–º—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (–º–µ–¥–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã, memory leaks)
- üí¨ **–ë–ê–ì** ‚Äî –ø—Ä–æ–±–ª–µ–º—ã UX (–æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ feedback, –Ω–µ–ø–æ–Ω—è—Ç–Ω—ã–π UI)
- üåì **–ë–ê–ì** ‚Äî –ø—Ä–æ–±–ª–µ–º—ã —Å —Ç–µ–º–æ–π (—Å–≤–µ—Ç–ª–∞—è/—Ç—ë–º–Ω–∞—è)
- üéØ **–ë–ê–ì** ‚Äî —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –±–∞–≥–∏ (missing features, broken flows)

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã:**

- üî¥ **–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô** ‚Äî –±–ª–æ–∫–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É, security vulnerability
- üü° **–í–´–°–û–ö–ò–ô** ‚Äî —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ –≤–ª–∏—è–µ—Ç –Ω–∞ UX
- üü¢ **–°–†–ï–î–ù–ò–ô** ‚Äî –Ω–µ—É–¥–æ–±—Å—Ç–≤–æ, –Ω–æ –µ—Å—Ç—å workaround
- ‚ö™ **–ù–ò–ó–ö–ò–ô** ‚Äî –∫–æ—Å–º–µ—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

---

## –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. TypeError: Cannot read properties of undefined (reading 'level')

**–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:** 2025-12-29

#### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

–ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã `/tasks` –≤–æ–∑–Ω–∏–∫–∞–ª–∞ –æ—à–∏–±–∫–∞:

```
[getKanbanSectionsPaginated] Error: TypeError: Cannot read properties of undefined (reading 'level')
    at eval (modules\filter-permissions\utils\mandatory-filters.ts:28:25)
    at debugGroup (lib\debug-logger.ts:182:5)
    at applyMandatoryFilters (modules\filter-permissions\utils\mandatory-filters.ts:26:13)
    at getKanbanSectionsPaginated (modules\kanban\actions\index.ts:260:30)
```

**–õ–æ–∫–∞—Ü–∏—è –æ—à–∏–±–∫–∏:** [modules/filter-permissions/utils/mandatory-filters.ts:28](../modules/filter-permissions/utils/mandatory-filters.ts#L28)

**–°—Ç–µ–∫ –≤—ã–∑–æ–≤–∞:**
1. `getKanbanSectionsPaginated()` - –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –¥–ª—è Kanban
2. `applyMandatoryFilters()` - –ø—Ä–∏–º–µ–Ω—è–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–∞–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
3. **–û—à–∏–±–∫–∞:** –ø–æ–ø—ã—Ç–∫–∞ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ `scope.level`, –≥–¥–µ `scope` –±—ã–ª `undefined`

#### –ü—Ä–∏—á–∏–Ω–∞

–§—É–Ω–∫—Ü–∏—è `getFilterContext()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `ActionResult<FilterContext>`, –Ω–æ –≤ –∫–æ–¥–µ –æ–Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞—Å—å –Ω–∞–ø—Ä—è–º—É—é –∫–∞–∫ `FilterContext`:

```typescript
// ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ - –Ω–µ —É—á–∏—Ç—ã–≤–∞–ª–∏, —á—Ç–æ —ç—Ç–æ ActionResult
const filterContext = await getFilterContext()
const secureFilters = filterContext
  ? applyMandatoryFilters(filters || {}, filterContext)
  : filters || {}
```

–ö–æ–≥–¥–∞ `getFilterContext()` –≤–æ–∑–≤—Ä–∞—â–∞–ª–∞ `ActionResult` —Å `success: false`, –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `filterContext` —Å–æ–¥–µ—Ä–∂–∞–ª–∞ –æ–±—ä–µ–∫—Ç –æ—à–∏–±–∫–∏ –≤–º–µ—Å—Ç–æ –¥–∞–Ω–Ω—ã—Ö. –ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –ø–µ—Ä–µ–¥–∞—Ç—å —ç—Ç–æ –≤ `applyMandatoryFilters()`, —Ñ—É–Ω–∫—Ü–∏—è –ø—ã—Ç–∞–ª–∞—Å—å –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É –ø–æ–ª—é `level` –≤ `scope`.

#### –†–µ—à–µ–Ω–∏–µ

–ü—Ä–∞–≤–∏–ª—å–Ω–æ –∏–∑–≤–ª–µ–∫–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ `ActionResult` –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º:

```typescript
// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ - –ø—Ä–æ–≤–µ—Ä—è–µ–º success –∏ –∏–∑–≤–ª–µ–∫–∞–µ–º data
const filterContextResult = await getFilterContext()
const filterContext = filterContextResult.success ? filterContextResult.data : null
const secureFilters = filterContext
  ? applyMandatoryFilters(filters || {}, filterContext)
  : filters || {}
```

**–ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- [modules/kanban/actions/index.ts:51-52](../modules/kanban/actions/index.ts#L51-L52) - –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `getKanbanSections()`
- [modules/kanban/actions/index.ts:258-259](../modules/kanban/actions/index.ts#L258-L259) - –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `getKanbanSectionsPaginated()`

#### –í—ã–≤–æ–¥—ã

- –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π —Ç–∏–ø `ActionResult` –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö
- `ActionResult<T>` —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ `result.success` –ø–µ—Ä–µ–¥ –æ–±—Ä–∞—â–µ–Ω–∏–µ–º –∫ `result.data`
- –ï—Å–ª–∏ `success: false`, —Ç–æ `data` –±—É–¥–µ—Ç `undefined`, –∏ –æ–±—Ä–∞—â–µ–Ω–∏–µ –∫ –µ–≥–æ –ø–æ–ª—è–º –≤—ã–∑–æ–≤–µ—Ç –æ—à–∏–±–∫—É
- –í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ –ø—Ä–∏ –æ—à–∏–±–∫–µ –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω –∏–ª–∏ –Ω–µ—Ç –ø—Ä–∞–≤), –º—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ñ–æ–ª–±—ç—á–∏–º—Å—è –Ω–∞ –ø—É—Å—Ç—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã –≤–º–µ—Å—Ç–æ –∫—Ä–∞—à–∞

---

### 2. –¢–∞ –∂–µ –ø—Ä–æ–±–ª–µ–º–∞ –≤ Resource Graph

**–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:** 2025-12-29

#### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

–ò–¥–µ–Ω—Ç–∏—á–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –≤ –º–æ–¥—É–ª–µ Resource Graph (`modules/resource-graph`).

**–õ–æ–∫–∞—Ü–∏—è:** [modules/resource-graph/actions/index.ts:51](../modules/resource-graph/actions/index.ts#L51)

**–ü—Ä–æ–±–ª–µ–º–Ω—ã–π –∫–æ–¥:**

```typescript
// ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ - —Ç–∞ –∂–µ –æ—à–∏–±–∫–∞, —á—Ç–æ –∏ –≤ Kanban
const filterContext = await getFilterContext()
const secureFilters = filterContext
  ? applyMandatoryFilters(filters || {}, filterContext)
  : filters || {}
```

–ü—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ `ActionResult` —Å `success: false`, –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `filterContext` —Å–æ–¥–µ—Ä–∂–∞–ª–∞ –æ–±—ä–µ–∫—Ç –æ—à–∏–±–∫–∏, —á—Ç–æ –º–æ–≥–ª–æ –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–º—É –∫—Ä–∞—à–µ –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ –ø–æ–ª—è–º –≤–Ω—É—Ç—Ä–∏ `applyMandatoryFilters()`.

#### –†–µ—à–µ–Ω–∏–µ

–ü—Ä–∏–º–µ–Ω–µ–Ω–æ —Ç–æ –∂–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:

```typescript
// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ - –∏–∑–≤–ª–µ–∫–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ ActionResult
const filterContextResult = await getFilterContext()
const filterContext = filterContextResult.success ? filterContextResult.data : null
const secureFilters = filterContext
  ? applyMandatoryFilters(filters || {}, filterContext)
  : filters || {}
```

**–ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- [modules/resource-graph/actions/index.ts:51-52](../modules/resource-graph/actions/index.ts#L51-L52) - –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `getResourceGraphData()`
- [modules/filter-permissions/README.md:199-200](../modules/filter-permissions/README.md#L199-L200) - –æ–±–Ω–æ–≤–ª–µ–Ω –ø—Ä–∏–º–µ—Ä –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

#### –í—ã–≤–æ–¥—ã

- –ü—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞ —Å–∏—Å—Ç–µ–º–Ω–æ–π - –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –ø–∞—Ç—Ç–µ—Ä–Ω –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `ActionResult` –≤ –¥–≤—É—Ö —Ä–∞–∑–Ω—ã—Ö –º–æ–¥—É–ª—è—Ö
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–µ–≤–µ–Ω—Ç–∏–≤–Ω–æ –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç –∫—Ä–∞—à–∞ –≤ Resource Graph, –∫–æ—Ç–æ—Ä—ã–π –º–æ–≥ –ø—Ä–æ–∏–∑–æ–π—Ç–∏ –≤ —Ç–µ—Ö –∂–µ —É—Å–ª–æ–≤–∏—è—Ö (–Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –ø—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–∞–≤–∞–º–∏)
- –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –º–æ–¥—É–ª—è `filter-permissions`, —á—Ç–æ–±—ã –±—É–¥—É—â–∏–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤–∏–¥–µ–ª–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

---

### 3. React Hooks Order Violation –≤ StageReadinessArea

**–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:** 2025-12-29

#### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

–ü—Ä–∏ —Ä–µ–Ω–¥–µ—Ä–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ `StageReadinessArea` –≤ –º–æ–¥—É–ª–µ Resource Graph –≤–æ–∑–Ω–∏–∫–∞–ª–∞ –æ—à–∏–±–∫–∞ –Ω–∞—Ä—É—à–µ–Ω–∏—è –ø–æ—Ä—è–¥–∫–∞ —Ö—É–∫–æ–≤:

```
React has detected a change in the order of Hooks called by StageReadinessArea.
This will lead to bugs and errors if not fixed.

   Previous render            Next render
   ------------------------------------------------------
1. useState                   useState
2. useMemo                    useMemo
3. useMemo                    useMemo
4. undefined                  useMemo
   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
```

**–õ–æ–∫–∞—Ü–∏—è –æ—à–∏–±–∫–∏:** [modules/resource-graph/components/timeline/StageReadinessArea.tsx:168](../modules/resource-graph/components/timeline/StageReadinessArea.tsx#L168)

**–°—Ç–µ–∫ –≤—ã–∑–æ–≤–∞:**
- `StageReadinessArea` ‚Üí `DecompositionStageRow` ‚Üí `SectionRow` ‚Üí ... ‚Üí `TasksView`

#### –ü—Ä–∏—á–∏–Ω–∞

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω—è–ª **—É—Å–ª–æ–≤–Ω—ã–π —Ä–∞–Ω–Ω–∏–π –≤—ã—Ö–æ–¥** (early return) **–î–û –≤—ã–∑–æ–≤–∞ –≤—Å–µ—Ö —Ö—É–∫–æ–≤**:

```typescript
// –•—É–∫ 1: useState
const [hoveredIndex, setHoveredIndex] = useState<number | null>(null)

// –•—É–∫ 2: useMemo (points)
const points = useMemo(() => { ... }, [...])

// –•—É–∫ 3: useMemo (plannedLine)
const plannedLine = useMemo(() => { ... }, [...])

// ‚ùå –†–ê–ù–ù–ò–ô –í–´–•–û–î - –Ω–∞—Ä—É—à–∞–µ—Ç –ø—Ä–∞–≤–∏–ª–æ —Ö—É–∫–æ–≤!
if (points.length === 0) return null

// –•—É–∫ 4: useMemo (paths) ‚Üê —ç—Ç–æ—Ç —Ö—É–∫ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –Ω–µ –≤—Å–µ–≥–¥–∞!
const { areaPath, linePath } = useMemo(() => { ... }, [...])
```

**–ü–æ—á–µ–º—É —ç—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞:**
- –ü—Ä–∏ –ø–µ—Ä–≤–æ–º —Ä–µ–Ω–¥–µ—Ä–µ `points.length > 0` ‚Üí –≤—ã–∑—ã–≤–∞—é—Ç—Å—è **4 —Ö—É–∫–∞**
- –ü—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º —Ä–µ–Ω–¥–µ—Ä–µ `points.length === 0` ‚Üí –≤—ã–∑—ã–≤–∞—é—Ç—Å—è **—Ç–æ–ª—å–∫–æ 3 —Ö—É–∫–∞** (–≤—ã—Ö–æ–¥ –¥–æ 4-–≥–æ)
- React —Ç—Ä–µ–±—É–µ—Ç, —á—Ç–æ–±—ã **–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏ –ø–æ—Ä—è–¥–æ–∫ —Ö—É–∫–æ–≤ –±—ã–ª–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏** –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–µ–Ω–¥–µ—Ä–µ
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ö—É–∫–æ–≤ –º–µ–∂–¥—É —Ä–µ–Ω–¥–µ—Ä–∞–º–∏ –≤—ã–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É "Rendered more hooks than during the previous render"

#### –†–µ—à–µ–Ω–∏–µ

–ü–µ—Ä–µ–º–µ—Å—Ç–∏–ª–∏ —É—Å–ª–æ–≤–Ω—ã–π –≤—ã—Ö–æ–¥ **–ü–û–°–õ–ï –≤—Å–µ—Ö —Ö—É–∫–æ–≤**:

```typescript
// –•—É–∫ 1: useState
const [hoveredIndex, setHoveredIndex] = useState<number | null>(null)

// –•—É–∫ 2: useMemo (points)
const points = useMemo(() => { ... }, [...])

// –•—É–∫ 3: useMemo (plannedLine)
const plannedLine = useMemo(() => { ... }, [...])

// –•—É–∫ 4: useMemo (paths) - —Ç–µ–ø–µ—Ä—å –í–°–ï–ì–î–ê –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è
const { areaPath, linePath } = useMemo(() => {
  if (points.length < 1) return { areaPath: '', linePath: '' }
  // ...
}, [points, baseY])

// –•—É–∫ 5: useMemo (todayDelta) - —Ç–æ–∂–µ –≤—Å–µ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è
const todayDelta = useMemo(() => { ... }, [...])

// ‚úÖ –†–ê–ù–ù–ò–ô –í–´–•–û–î - —Ç–µ–ø–µ—Ä—å –ü–û–°–õ–ï –≤—Å–µ—Ö —Ö—É–∫–æ–≤
if (points.length === 0) return null
```

**–ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- [modules/resource-graph/components/timeline/StageReadinessArea.tsx:164-208](../modules/resource-graph/components/timeline/StageReadinessArea.tsx#L164-L208)

#### –í—ã–≤–æ–¥—ã

- **–ü—Ä–∞–≤–∏–ª–æ —Ö—É–∫–æ–≤ React:** –•—É–∫–∏ –¥–æ–ª–∂–Ω—ã –≤—ã–∑—ã–≤–∞—Ç—å—Å—è **–≤ –æ–¥–∏–Ω–∞–∫–æ–≤–æ–º –ø–æ—Ä—è–¥–∫–µ** –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–µ–Ω–¥–µ—Ä–µ
- **–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –¥–µ–ª–∞–π —Ä–∞–Ω–Ω–∏–π –≤—ã—Ö–æ–¥** (early return, `if ... return`) **–î–û –≤—ã–∑–æ–≤–∞ –≤—Å–µ—Ö —Ö—É–∫–æ–≤**
- –£—Å–ª–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –≤–Ω—É—Ç—Ä–∏ —Ö—É–∫–æ–≤ (`useMemo`, `useEffect`) –¥–æ–ø—É—Å—Ç–∏–º–∞, –Ω–æ —Å–∞–º–∏ —Ö—É–∫–∏ –¥–æ–ª–∂–Ω—ã –≤—ã–∑—ã–≤–∞—Ç—å—Å—è –±–µ–∑—É—Å–ª–æ–≤–Ω–æ
- –ï—Å–ª–∏ –Ω—É–∂–µ–Ω —Ä–∞–Ω–Ω–∏–π –≤—ã—Ö–æ–¥, —Ä–∞–∑–º–µ—Å—Ç–∏ –µ–≥–æ **–ø–æ—Å–ª–µ –≤—Å–µ—Ö –≤—ã–∑–æ–≤–æ–≤ —Ö—É–∫–æ–≤**
- –õ–∏–Ω—Ç–µ—Ä `eslint-plugin-react-hooks` –æ–±—ã—á–Ω–æ –ª–æ–≤–∏—Ç —Ç–∞–∫–∏–µ –æ—à–∏–±–∫–∏, –Ω–æ –º–æ–∂–µ—Ç –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Å–ª–æ–∂–Ω—ã–µ —Å–ª—É—á–∞–∏

**–°—Å—ã–ª–∫–∞ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é:** [Rules of Hooks](https://react.dev/reference/rules/rules-of-hooks)

---

## –¢–µ–∫—É—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã (—Ç—Ä–µ–±—É—é—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è)

### ‚ùó –ë–ê–ì–ò (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ, —Ç—Ä–µ–±—É—é—Ç –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è)

### üé® –ë–ê–ì #3: –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –ø–æ—Ä—è–¥–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–æ–≤ –∏ –∏–º–µ–Ω–∏ –≤ —Ç—É–ª—Ç–∏–ø–∞—Ö –∞–≤–∞—Ç–∞—Ä–æ–≤

**–î–∞—Ç–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è:** 2025-12-29

**–õ–æ–∫–∞—Ü–∏—è:** `/tasks` ‚Üí –≤–∫–ª–∞–¥–∫–∞ "–ì—Ä–∞—Ñ–∏–∫ —Ä–µ—Å—É—Ä—Å–æ–≤" (Resource Graph)

#### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

–ü—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ –∞–≤–∞—Ç–∞—Ä —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –±–µ–∑ —Ñ–æ—Ç–æ –≤ –≥—Ä–∞—Ñ–∏–∫–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç **–≤–∏–∑—É–∞–ª—å–Ω–∞—è –Ω–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å**:
- **–ê–≤–∞—Ç–∞—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω–∏—Ü–∏–∞–ª—ã** –≤ —Ñ–æ—Ä–º–∞—Ç–µ `–ò–§` (–ò–º—è + –§–∞–º–∏–ª–∏—è) ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä, `–ò–ü`
- **–¢—É–ª—Ç–∏–ø –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –§–ò–û** –≤ —Ñ–æ—Ä–º–∞—Ç–µ "–§–∞–º–∏–ª–∏—è –ò–º—è" ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä, `–ü–µ—Ç—Ä–æ–≤ –ò–≤–∞–Ω`

**–ü—Ä–∏–º–µ—Ä:**
```
–°–æ—Ç—Ä—É–¥–Ω–∏–∫: –ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –ê–≤–∞—Ç–∞—Ä: [–ò–ü]        ‚îÇ ‚Üê –ò–º—è + –§–∞–º–∏–ª–∏—è
‚îÇ –¢—É–ª—Ç–∏–ø: –ü–µ—Ç—Ä–æ–≤ –ò–≤–∞–Ω ‚îÇ ‚Üê –§–∞–º–∏–ª–∏—è + –ò–º—è (–Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç!)
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–ì–¥–µ –ø—Ä–æ—è–≤–ª—è–µ—Ç—Å—è:**
- –í—Å–µ –∞–≤–∞—Ç–∞—Ä—ã —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –≤ –º–æ–¥—É–ª–µ Resource Graph
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã `LoadingBadges` (–∫–æ–º–ø–∞–∫—Ç–Ω—ã–µ —Å—Ç–µ–∫-–∞–≤–∞—Ç–∞—Ä—ã)
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã `LoadingBars` (–ø–æ–ª–æ—Å—ã –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ —Ç–∞–π–º–ª–∞–π–Ω–µ)

**–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ:**
1. –û—Ç–∫—Ä—ã—Ç—å `/tasks` ‚Üí –≤–∫–ª–∞–¥–∫–∞ "–ì—Ä–∞—Ñ–∏–∫ —Ä–µ—Å—É—Ä—Å–æ–≤"
2. –ù–∞–π—Ç–∏ –ª—é–±–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –±–µ–∑ —Ñ–æ—Ç–æ (–∞–≤–∞—Ç–∞—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω–∏—Ü–∏–∞–ª—ã)
3. –ù–∞–≤–µ—Å—Ç–∏ –∫—É—Ä—Å–æ—Ä –Ω–∞ –∞–≤–∞—Ç–∞—Ä
4. **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–æ—Ä—è–¥–æ–∫ –∏–Ω–∏—Ü–∏–∞–ª–æ–≤ `–ò–ü` –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø–æ—Ä—è–¥–∫—É –≤ —Ç—É–ª—Ç–∏–ø–µ `–ü–µ—Ç—Ä–æ–≤ –ò–≤–∞–Ω`

#### –ü—Ä–∏—á–∏–Ω–∞

**Root cause:** –ù–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –º–µ–∂–¥—É —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏–Ω–∏—Ü–∏–∞–ª–æ–≤ –≤ –∫–æ–¥–µ –∏ —Ñ–æ—Ä–º–∞—Ç–æ–º –∏–º–µ–Ω–∏ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.

**–í –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö** –ø–æ–ª–µ `name` —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ `–§–∞–º–∏–ª–∏—è + –ò–º—è`:

```sql
-- –ü—Ä–∏–º–µ—Ä—ã –∏–∑ –º–∏–≥—Ä–∞—Ü–∏–π:
CONCAT(last_name, ' ', first_name) AS manager_name
CONCAT(last_name, ' ', first_name) AS section_responsible_name
CONCAT(last_name, ' ', first_name) AS employee_name

-- –†–µ–∑—É–ª—å—Ç–∞—Ç: "–ü–µ—Ç—Ä–æ–≤ –ò–≤–∞–Ω"
```

**–í –∫–æ–¥–µ** –∏–Ω–∏—Ü–∏–∞–ª—ã —Ñ–æ—Ä–º–∏—Ä—É—é—Ç—Å—è –∫–∞–∫ `–ò–º—è + –§–∞–º–∏–ª–∏—è`:

```typescript
// modules/resource-graph/utils/format.ts:110
export function getInitials(firstName: string | null, lastName: string | null): string {
  const first = firstName?.charAt(0)?.toUpperCase() || ''
  const last = lastName?.charAt(0)?.toUpperCase() || ''
  return first + last || '?'  // ‚Üê –ò–§: "–ò" + "–ü" = "–ò–ü"
}
```

**–í —Ç—É–ª—Ç–∏–ø–µ** –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è `employee.name` –∏–∑ –ë–î (–§–∞–º–∏–ª–∏—è + –ò–º—è):

```typescript
// LoadingBadges.tsx:194
<div className="text-sm font-medium text-white">
  {loading.employee.name || '–ù–µ –Ω–∞–∑–Ω–∞—á–µ–Ω'}  // ‚Üê "–ü–µ—Ç—Ä–æ–≤ –ò–≤–∞–Ω" (–∏–∑ –ë–î)
</div>
```

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:** –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞

–í —Ñ–∞–π–ª–µ `LoadingBadges.tsx:227-231` –µ—Å—Ç—å **–¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è** `getInitials()`, –∫–æ—Ç–æ—Ä–∞—è –¥–µ–ª–∞–µ—Ç —Ç–æ –∂–µ —Å–∞–º–æ–µ, —á—Ç–æ –∏ —Ñ—É–Ω–∫—Ü–∏—è –∏–∑ `utils/format.ts`. –≠—Ç–æ –Ω–∞—Ä—É—à–∞–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø DRY (Don't Repeat Yourself).

#### –õ–æ–∫–∞—Ü–∏—è –∫–æ–¥–∞

**–§–∞–π–ª—ã —Å –ø—Ä–æ–±–ª–µ–º–æ–π:**
- [modules/resource-graph/utils/format.ts:110-114](../modules/resource-graph/utils/format.ts#L110-L114) ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è `getInitials()`
- [modules/resource-graph/components/timeline/LoadingBadges.tsx:105](../modules/resource-graph/components/timeline/LoadingBadges.tsx#L105) ‚Äî –≤—ã–∑–æ–≤ `getInitials()` –¥–ª—è –∞–≤–∞—Ç–∞—Ä–∞
- [modules/resource-graph/components/timeline/LoadingBadges.tsx:194](../modules/resource-graph/components/timeline/LoadingBadges.tsx#L194) ‚Äî –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ `employee.name` –≤ —Ç—É–ª—Ç–∏–ø–µ
- [modules/resource-graph/components/timeline/LoadingBadges.tsx:227-231](../modules/resource-graph/components/timeline/LoadingBadges.tsx#L227-L231) ‚Äî –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è (–Ω—É–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å)
- [modules/resource-graph/components/timeline/LoadingBars.tsx](../modules/resource-graph/components/timeline/LoadingBars.tsx) ‚Äî –∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞

#### –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ—à–µ–Ω–∏—è

**‚ùå –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:**
- –ò–∑–º–µ–Ω—è—Ç—å —Ñ–æ—Ä–º–∞—Ç –∏–º–µ–Ω–∏ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö (`–ò–º—è + –§–∞–º–∏–ª–∏—è`) ‚Äî –∑–∞—Ç—Ä–æ–Ω–µ—Ç –≤—Å–µ –º–æ–¥—É–ª–∏
- –û—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å ‚Äî —Å–æ–∑–¥–∞—ë—Ç –ø—É—Ç–∞–Ω–∏—Ü—É –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**‚úÖ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:**

---

**–í–∞—Ä–∏–∞–Ω—Ç 1: –ò–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫ –∏–Ω–∏—Ü–∏–∞–ª–æ–≤ –≤ –∫–æ–¥–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) ‚≠ê**

–ò–∑–º–µ–Ω–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `getInitials()` —á—Ç–æ–±—ã –æ–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞–ª–∞ `–§–ò` (–§–∞–º–∏–ª–∏—è + –ò–º—è), –∫–∞–∫ –≤ –ë–î:

```typescript
// modules/resource-graph/utils/format.ts:110
export function getInitials(firstName: string | null, lastName: string | null): string {
  const first = firstName?.charAt(0)?.toUpperCase() || ''
  const last = lastName?.charAt(0)?.toUpperCase() || ''
  return last + first || '?'  // ‚Üê –ò–∑–º–µ–Ω–µ–Ω–æ: –§–ò –≤–º–µ—Å—Ç–æ –ò–§ ("–ü" + "–ò" = "–ü–ò")
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ê–≤–∞—Ç–∞—Ä: `–ü–ò` (–ü–µ—Ç—Ä–æ–≤ –ò–≤–∞–Ω)
- –¢—É–ª—Ç–∏–ø: `–ü–µ—Ç—Ä–æ–≤ –ò–≤–∞–Ω`
- ‚úÖ –ü–æ—Ä—è–¥–æ–∫ —Å–æ–≤–ø–∞–¥–∞–µ—Ç!

**–ü–ª—é—Å—ã:**
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (1 —Å—Ç—Ä–æ–∫–∞ –∫–æ–¥–∞)
- ‚úÖ –°–æ–≥–ª–∞—Å—É–µ—Ç—Å—è —Å —Ñ–æ—Ä–º–∞—Ç–æ–º –ë–î
- ‚úÖ –°–æ–≥–ª–∞—Å—É–µ—Ç—Å—è —Å —Ä—É—Å—Å–∫–æ–π –ª–æ–∫–∞–ª—å—é (–ø–∞—Å–ø–æ—Ä—Ç–∞: "–§–∞–º–∏–ª–∏—è –ò–º—è")
- ‚úÖ –ù–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –ò–Ω–∏—Ü–∏–∞–ª—ã –∏–∑–º–µ–Ω—è—Ç—Å—è –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–≤–∏–∑—É–∞–ª—å–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ)

---

**–í–∞—Ä–∏–∞–Ω—Ç 2: –£–¥–∞–ª–∏—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ `getInitials()` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤–º–µ—Å—Ç–µ —Å –í–∞—Ä–∏–∞–Ω—Ç–æ–º 1)**

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è `utils/format.ts`, —É–¥–∞–ª–∏—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –∏–∑ `LoadingBadges.tsx`:

```typescript
// modules/resource-graph/components/timeline/LoadingBadges.tsx

// ‚ùå –£–¥–∞–ª–∏—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é (—Å—Ç—Ä–æ–∫–∏ 227-231):
// function getInitials(firstName: string | null, lastName: string | null): string {
//   const first = firstName?.charAt(0)?.toUpperCase() || ''
//   const last = lastName?.charAt(0)?.toUpperCase() || ''
//   return first + last || '?'
// }

// ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç –∏–∑ utils:
import { getInitials } from '../../utils'
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –£—Å—Ç—Ä–∞–Ω—è–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ (DRY)
- ‚úÖ –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã (Single Source of Truth)
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `getInitials()` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω—è—Ç—Å—è –≤–µ–∑–¥–µ

---

**–í–∞—Ä–∏–∞–Ω—Ç 3: –ò–∑–º–µ–Ω–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç –∏–º–µ–Ω–∏ –≤ –ë–î –Ω–∞ "–ò–º—è + –§–∞–º–∏–ª–∏—è" (–ù–ï —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**

–ò–∑–º–µ–Ω–∏—Ç—å –≤—Å–µ `CONCAT(last_name, ' ', first_name)` –Ω–∞ `CONCAT(first_name, ' ', last_name)` –≤ –º–∏–≥—Ä–∞—Ü–∏—è—Ö –∏ views.

**–ü–ª—é—Å—ã:**
- ‚úÖ –ò–Ω–∏—Ü–∏–∞–ª—ã –±—É–¥—É—Ç —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å –ø–æ–ª–Ω—ã–º –∏–º–µ–Ω–µ–º

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –ó–∞—Ç—Ä–æ–Ω–µ—Ç **–º–Ω–æ–∂–µ—Å—Ç–≤–æ –º–µ—Å—Ç** –≤ –ë–î (views, –º–∏–≥—Ä–∞—Ü–∏–∏, SQL-–∑–∞–ø—Ä–æ—Å—ã)
- ‚ùå –ú–æ–∂–µ—Ç **—Å–ª–æ–º–∞—Ç—å –¥—Ä—É–≥–∏–µ –º–æ–¥—É–ª–∏**, –∫–æ—Ç–æ—Ä—ã–µ –æ–∂–∏–¥–∞—é—Ç —Ñ–æ—Ä–º–∞—Ç "–§–∞–º–∏–ª–∏—è –ò–º—è"
- ‚ùå –ü—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏—Ç —Ä—É—Å—Å–∫–æ–π –ª–æ–∫–∞–ª–∏ (–≤ –ø–∞—Å–ø–æ—Ä—Ç–µ: "–§–∞–º–∏–ª–∏—è –ò–º—è")
- ‚ùå –¢—Ä–µ–±—É–µ—Ç –ø–æ–ª–Ω–æ–≥–æ –∞—É–¥–∏—Ç–∞ –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

---

#### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π

**–®–∞–≥ 1: –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫ –∏–Ω–∏—Ü–∏–∞–ª–æ–≤**

1. –û—Ç–∫—Ä—ã—Ç—å [modules/resource-graph/utils/format.ts:110](../modules/resource-graph/utils/format.ts#L110)
2. –ò–∑–º–µ–Ω–∏—Ç—å `return first + last || '?'` –Ω–∞ `return last + first || '?'`
3. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ñ–∞–π–ª

**–®–∞–≥ 2: –£–¥–∞–ª–∏—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ**

1. –û—Ç–∫—Ä—ã—Ç—å [modules/resource-graph/components/timeline/LoadingBadges.tsx:227](../modules/resource-graph/components/timeline/LoadingBadges.tsx#L227)
2. –£–¥–∞–ª–∏—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é `getInitials()` (—Å—Ç—Ä–æ–∫–∏ 227-231)
3. –î–æ–±–∞–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç: `import { getInitials } from '../../utils'`

**–®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç**

1. –û—Ç–∫—Ä—ã—Ç—å `/tasks` ‚Üí –≤–∫–ª–∞–¥–∫–∞ "–ì—Ä–∞—Ñ–∏–∫ —Ä–µ—Å—É—Ä—Å–æ–≤"
2. –ù–∞–π—Ç–∏ –∞–≤–∞—Ç–∞—Ä —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –±–µ–∑ —Ñ–æ—Ç–æ
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å:
   - ‚úÖ –ò–Ω–∏—Ü–∏–∞–ª—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ `–§–ò` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `–ü–ò`)
   - ‚úÖ –¢—É–ª—Ç–∏–ø –≤ —Ñ–æ—Ä–º–∞—Ç–µ "–§–∞–º–∏–ª–∏—è –ò–º—è" (–Ω–∞–ø—Ä–∏–º–µ—Ä, `–ü–µ—Ç—Ä–æ–≤ –ò–≤–∞–Ω`)
   - ‚úÖ –ü–æ—Ä—è–¥–æ–∫ —Å–æ–≤–ø–∞–¥–∞–µ—Ç!

**–®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥—Ä—É–≥–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–µ —Å–ª–æ–º–∞–ª–æ –¥—Ä—É–≥–∏–µ –º–µ—Å—Ç–∞, –≥–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `getInitials()`:
- `LoadingBars.tsx` ‚Äî –∞–≤–∞—Ç–∞—Ä—ã –Ω–∞ –ø–æ–ª–æ—Å–∞—Ö –∑–∞–≥—Ä—É–∑–∫–∏
- –î—Ä—É–≥–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∏–º–ø–æ—Ä—Ç–∏—Ä—É—é—â–∏–µ `getInitials()` –∏–∑ `utils/format.ts`

#### –í—ã–≤–æ–¥—ã

- **–í–∏–∑—É–∞–ª—å–Ω–∞—è –Ω–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å** ‚Äî –ø–æ—Ä—è–¥–æ–∫ –∏–Ω–∏—Ü–∏–∞–ª–æ–≤ –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –ø–æ—Ä—è–¥–∫–æ–º –ø–æ–ª–Ω–æ–≥–æ –∏–º–µ–Ω–∏
- **Root cause** ‚Äî –∏–Ω–∏—Ü–∏–∞–ª—ã —Ñ–æ—Ä–º–∏—Ä—É—é—Ç—Å—è –∫–∞–∫ "–ò–§", –∞ –∏–º—è –≤ –ë–î ‚Äî "–§–∞–º–∏–ª–∏—è –ò–º—è"
- **–ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ** ‚Äî –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫ –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `getInitials()` (1 —Å—Ç—Ä–æ–∫–∞ –∫–æ–¥–∞)
- **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ** ‚Äî —É–¥–∞–ª–∏—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ (–ø—Ä–∏–Ω—Ü–∏–ø DRY)
- **–ù–µ —Ç—Ä–æ–≥–∞—Ç—å –ë–î** ‚Äî —Ñ–æ—Ä–º–∞—Ç "–§–∞–º–∏–ª–∏—è –ò–º—è" —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ä—É—Å—Å–∫–æ–π –ª–æ–∫–∞–ª–∏

**–û–±—â–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:**
- –í—Å–µ–≥–¥–∞ —Å–ª–µ–¥–∏ –∑–∞ **—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å—é –ø–æ—Ä—è–¥–∫–∞** –§–∞–º–∏–ª–∏—è/–ò–º—è –≤ UI
- –ò–∑–±–µ–≥–∞–π **–¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è —É—Ç–∏–ª–∏—Ç** ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π –∏–º–ø–æ—Ä—Ç—ã –∏–∑ `utils/`
- –í —Ä—É—Å—Å–∫–æ–π –ª–æ–∫–∞–ª–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç: **"–§–∞–º–∏–ª–∏—è –ò–º—è"** (–∫–∞–∫ –≤ –ø–∞—Å–ø–æ—Ä—Ç–µ)
- –ò–Ω–∏—Ü–∏–∞–ª—ã –¥–æ–ª–∂–Ω—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –ø–æ—Ä—è–¥–∫—É –ø–æ–ª–Ω–æ–≥–æ –∏–º–µ–Ω–∏

---

### üîÑ –ë–ê–ì #1: –ó–∞–≤–∏—Å–∞–Ω–∏–µ –æ–∫–Ω–∞ –±—Ä–∞—É–∑–µ—Ä–∞ Arc –ø–æ—Å–ª–µ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è –∑–∞–¥–∞—á (drag & drop)

**–î–∞—Ç–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è:** 2025-12-29

**–õ–æ–∫–∞—Ü–∏—è:** `/tasks` ‚Üí –≤–∫–ª–∞–¥–∫–∞ "–ö–∞–Ω–±–∞–Ω" ‚Üí –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–µ–∫ –º–µ–∂–¥—É –∫–æ–ª–æ–Ω–∫–∞–º–∏

**–ë—Ä–∞—É–∑–µ—Ä:** Arc Browser (Safari-based, Chromium fork)

#### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

–ü–æ—Å–ª–µ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è –∫–∞—Ä—Ç–æ—á–µ–∫ –∑–∞–¥–∞—á (drag & drop) –≤ Kanban-–¥–æ—Å–∫–µ **–æ–∫–Ω–æ –±—Ä–∞—É–∑–µ—Ä–∞ Arc –∑–∞–≤–∏—Å–∞–µ—Ç –Ω–∞ 5-10 —Å–µ–∫—É–Ω–¥**. –í —Ç–µ—á–µ–Ω–∏–µ —ç—Ç–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏:
- –û–∫–Ω–æ –±—Ä–∞—É–∑–µ—Ä–∞ **–Ω–µ–ª—å–∑—è –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å** (–Ω–µ —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ)
- –û–∫–Ω–æ **–Ω–µ–ª—å–∑—è —Å–≤–µ—Ä–Ω—É—Ç—å** (–∫–Ω–æ–ø–∫–∏ –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç)
- –û–∫–Ω–æ **–Ω–µ–ª—å–∑—è –∑–∞–∫—Ä—ã—Ç—å** (–∫–Ω–æ–ø–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è –Ω–µ —Ä–µ–∞–≥–∏—Ä—É–µ—Ç)
- **–°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã** –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–º–æ—Ä–æ–∂–µ–Ω–æ (–∏–ª–∏ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å, —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏)

**–ì–¥–µ –ø—Ä–æ—è–≤–ª—è–µ—Ç—Å—è:**
- **–¢–æ–ª—å–∫–æ –≤ Arc Browser** (–Ω–∞ –±–∞–∑–µ Chromium, –Ω–æ —Å –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –¥–≤–∏–∂–∫–æ–º)
- **–ù–ï –ø—Ä–æ—è–≤–ª—è–µ—Ç—Å—è –≤ Google Chrome** (—Å—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞)
- **–ù–ï –ø—Ä–æ—è–≤–ª—è–µ—Ç—Å—è –≤ –¥—Ä—É–≥–∏—Ö Chromium-–±—Ä–∞—É–∑–µ—Ä–∞—Ö** (Edge, Brave ‚Äî —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏)

**–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ:**
1. –û—Ç–∫—Ä—ã—Ç—å `/tasks` –≤ Arc Browser
2. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "–ö–∞–Ω–±–∞–Ω"
3. –ü–µ—Ä–µ—Ç–∞—â–∏—Ç—å –ª—é–±—É—é –∫–∞—Ä—Ç–æ—á–∫—É –∑–∞–¥–∞—á–∏ –≤ –¥—Ä—É–≥—É—é –∫–æ–ª–æ–Ω–∫—É (drag & drop)
4. **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –û–∫–Ω–æ –±—Ä–∞—É–∑–µ—Ä–∞ Arc –∑–∞–≤–∏—Å–∞–µ—Ç –Ω–∞ 5-10 —Å–µ–∫—É–Ω–¥

#### –ü—Ä–∏—á–∏–Ω–∞

**–ì–∏–ø–æ—Ç–µ–∑—ã (—Ç—Ä–µ–±—É—é—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏):**

1. **Arc-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ drag & drop —Å–æ–±—ã—Ç–∏–π**
   - Arc Browser –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **–Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É** –Ω–∞—Ç–∏–≤–Ω—ã—Ö drag events
   - –í–æ–∑–º–æ–∂–Ω–∞ **–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –≥–ª–∞–≤–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–∞** –∏–∑-–∑–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ –º–µ–∂–¥—É Arc UI –∏ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü–µ–π

2. **–¢—è–∂—ë–ª–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è –ø–æ—Å–ª–µ drop**
   - –ü–æ—Å–ª–µ drop –º–æ–∂–µ—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å **—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –∫–∞—Ä—Ç–æ—á–µ–∫** (re-render –≤—Å–µ–≥–æ Kanban)
   - –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –º—É—Ç–∞—Ü–∏—è DOM**, Arc –º–æ–∂–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –æ–∫–Ω–æ –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

3. **–ü—Ä–æ–±–ª–µ–º–∞ —Å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏ —Å–æ–±—ã—Ç–∏–π –≤ Arc**
   - Arc –º–æ–∂–µ—Ç **–Ω–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å `onDragEnd`** –∏–ª–∏ –¥—Ä—É–≥–∏–µ —Å–æ–±—ã—Ç–∏—è DnD –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
   - –í–æ–∑–º–æ–∂–Ω–∞ **—É—Ç–µ—á–∫–∞ –ø–∞–º—è—Ç–∏** –∏–ª–∏ **–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ event loop** –≤ Arc-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–æ–º –∫–æ–¥–µ

4. **–ö–æ–Ω—Ñ–ª–∏–∫—Ç —Å Arc Spaces/Sidebar**
   - Arc –∏–º–µ–µ—Ç **—Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π UI —Å–ª–æ–π** (Spaces, Sidebar, –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ –≤–∫–ª–∞–¥–∫–∏)
   - Drag & drop –º–æ–∂–µ—Ç **–∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤–∞—Ç—å —Å Arc UI**, –≤—ã–∑—ã–≤–∞—è –∑–∞–≤–∏—Å–∞–Ω–∏–µ –æ–∫–Ω–∞

**–ß—Ç–æ –∏–∑–≤–µ—Å—Ç–Ω–æ —Ç–æ—á–Ω–æ:**
- –ü—Ä–æ–±–ª–µ–º–∞ **–ù–ï –≤ –∫–æ–¥–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è** (Chrome —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ)
- –ü—Ä–æ–±–ª–µ–º–∞ **—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞ –¥–ª—è Arc Browser**
- –ó–∞–≤–∏—Å–∞–µ—Ç **–æ–∫–Ω–æ –±—Ä–∞—É–∑–µ—Ä–∞**, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

#### –õ–æ–∫–∞—Ü–∏—è –∫–æ–¥–∞

**Kanban Drag & Drop –æ–±—Ä–∞–±–æ—Ç–∫–∞:**
- [modules/kanban/components/KanbanBoard.tsx:131-213](../modules/kanban/components/KanbanBoard.tsx#L131-L213) - –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å DnD
- [modules/kanban/components/KanbanBoard.tsx:268-287](../modules/kanban/components/KanbanBoard.tsx#L268-L287) - —Ñ—É–Ω–∫—Ü–∏—è `handleDragEnd()`
- [modules/kanban/components/KanbanBoard.tsx:214-228](../modules/kanban/components/KanbanBoard.tsx#L214-L228) - –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI

**–ò—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞:**
- `@dnd-kit/core` + `@dnd-kit/sortable` (—Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è React DnD –±–∏–±–ª–∏–æ—Ç–µ–∫–∞)

**–û–ø–µ—Ä–∞—Ü–∏–∏ –ø–æ—Å–ª–µ drop:**
1. `handleDragEnd()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è
2. –í—ã–∑—ã–≤–∞–µ—Ç—Å—è Server Action `updateSectionStatus()` –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ –≤ –ë–î
3. TanStack Query –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–Ω–≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç –∫—ç—à –∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ
4. –í–µ—Å—å Kanban Board re-render'–∏—Ç—Å—è —Å –Ω–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

#### –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ—à–µ–Ω–∏—è

**‚ùå –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:**
- –û—Ç–∫–ª—é—á–∞—Ç—å drag & drop –≤ Arc (–ª–æ–º–∞–µ—Ç UX)
- –î–æ–±–∞–≤–ª—è—Ç—å browser detection –∏ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

**‚úÖ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:**

**–í–∞—Ä–∏–∞–Ω—Ç 1: –î–µ–±–∞—É–Ω—Å–∏–Ω–≥/–æ—Ç–ª–æ–∂–µ–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ drop (–±—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ)**

–î–æ–±–∞–≤–∏—Ç—å –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—É—é –∑–∞–¥–µ—Ä–∂–∫—É –º–µ–∂–¥—É drop –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö, —á—Ç–æ–±—ã Arc —É—Å–ø–µ–ª –æ—Å–≤–æ–±–æ–¥–∏—Ç—å UI –ø–æ—Ç–æ–∫:

```typescript
// modules/kanban/components/KanbanBoard.tsx:268

const handleDragEnd = async (event: DragEndEvent) => {
  const { active, over } = event

  if (!over || active.id === over.id) return

  // –î–∞—Ç—å Arc –≤—Ä–µ–º—è –Ω–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ drag —Å–æ–±—ã—Ç–∏—è
  await new Promise(resolve => setTimeout(resolve, 50))

  // –ó–∞—Ç–µ–º –æ–±–Ω–æ–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ
  await updateSectionStatus({
    sectionId: active.id as string,
    newStatusId: over.id as string,
  })
}
```

**–ü–ª—é—Å—ã:**
- –ë—ã—Å—Ç—Ä–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (2-3 —Å—Ç—Ä–æ–∫–∏ –∫–æ–¥–∞)
- –ù–µ –º–µ–Ω—è–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É

**–ú–∏–Ω—É—Å—ã:**
- –ö–æ—Å—Ç—ã–ª—å (–Ω–µ –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç root cause)
- –ú–æ–∂–µ—Ç –Ω–µ –ø–æ–º–æ—á—å, –µ—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –≤ Arc UI

**–í–∞—Ä–∏–∞–Ω—Ç 2: –ü–µ—Ä–µ–Ω–æ—Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ Web Worker (—Å—Ä–µ–¥–Ω—è—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å)**

–ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å —Ç—è–∂—ë–ª—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –ø–æ—Å–ª–µ drop –≤ Web Worker, —á—Ç–æ–±—ã –Ω–µ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –≥–ª–∞–≤–Ω—ã–π –ø–æ—Ç–æ–∫:

```typescript
// –°–æ–∑–¥–∞—Ç—å worker –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è Kanban
// modules/kanban/workers/update-worker.ts

self.onmessage = async (e) => {
  const { sectionId, newStatusId } = e.data

  // –í—ã–∑—ã–≤–∞–µ–º Server Action –∏–∑ worker
  const result = await updateSectionStatus({ sectionId, newStatusId })

  self.postMessage(result)
}
```

**–ü–ª—é—Å—ã:**
- –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–∑–≥—Ä—É–∂–∞–µ—Ç –≥–ª–∞–≤–Ω—ã–π –ø–æ—Ç–æ–∫
- –£–ª—É—á—à–∞–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤–æ –≤—Å–µ—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö

**–ú–∏–Ω—É—Å—ã:**
- –¢—Ä–µ–±—É–µ—Ç —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ (—Å–æ–∑–¥–∞–Ω–∏–µ worker, –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã)
- Server Actions –º–æ–≥—É—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å –∏–∑ Web Worker (—Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏)

**–í–∞—Ä–∏–∞–Ω—Ç 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å requestIdleCallback –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (–ª–µ–≥–∫–æ –≤–Ω–µ–¥—Ä–∏—Ç—å)**

–û—Ç–ª–æ–∂–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–æ –º–æ–º–µ–Ω—Ç–∞, –∫–æ–≥–¥–∞ –±—Ä–∞—É–∑–µ—Ä —Å–≤–æ–±–æ–¥–µ–Ω:

```typescript
const handleDragEnd = (event: DragEndEvent) => {
  const { active, over } = event

  if (!over || active.id === over.id) return

  // –û—Ç–ª–æ–∂–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ idle-–≤—Ä–µ–º–µ–Ω–∏
  if ('requestIdleCallback' in window) {
    requestIdleCallback(() => {
      updateSectionStatus({
        sectionId: active.id as string,
        newStatusId: over.id as string,
      })
    })
  } else {
    // Fallback –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–æ–≤ –±–µ–∑ requestIdleCallback
    setTimeout(() => {
      updateSectionStatus({
        sectionId: active.id as string,
        newStatusId: over.id as string,
      })
    }, 0)
  }
}
```

**–ü–ª—é—Å—ã:**
- –ù–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç UI
- –ë—Ä–∞—É–∑–µ—Ä —Å–∞–º –≤—ã–±–∏—Ä–∞–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- Fallback –¥–ª—è —Å—Ç–∞—Ä—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤

**–ú–∏–Ω—É—Å—ã:**
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç–ª–æ–∂–µ–Ω–æ –Ω–∞ –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–µ –≤—Ä–µ–º—è
- `requestIdleCallback` –º–æ–∂–µ—Ç –Ω–µ –≤—ã–∑–≤–∞—Ç—å—Å—è, –µ—Å–ª–∏ –±—Ä–∞—É–∑–µ—Ä –∑–∞–Ω—è—Ç

**–í–∞—Ä–∏–∞–Ω—Ç 4: –î–æ–±–∞–≤–∏—Ç—å –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—é —Å–ø–∏—Å–∫–æ–≤ (—Å–ª–æ–∂–Ω–æ, –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ)**

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –≤ re-render –≤—Å–µ—Ö –∫–∞—Ä—Ç–æ—á–µ–∫ –ø–æ—Å–ª–µ drop, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—é:

```bash
npm install @tanstack/react-virtual
```

```typescript
// –í–∏—Ä—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ –∫–∞—Ä—Ç–æ—á–µ–∫ –≤ –∫–∞–∂–¥–æ–π –∫–æ–ª–æ–Ω–∫–µ
import { useVirtualizer } from '@tanstack/react-virtual'

const virtualizer = useVirtualizer({
  count: sections.length,
  getScrollElement: () => containerRef.current,
  estimateSize: () => 120, // –≤—ã—Å–æ—Ç–∞ –∫–∞—Ä—Ç–æ—á–∫–∏
})
```

**–ü–ª—é—Å—ã:**
- –ö–∞—Ä–¥–∏–Ω–∞–ª—å–Ω–æ —É–ª—É—á—à–∞–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–∞ –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–∞—Ö
- –†–µ—à–∞–µ—Ç –Ω–µ —Ç–æ–ª—å–∫–æ Arc-–ø—Ä–æ–±–ª–µ–º—É, –Ω–æ –∏ –æ–±—â—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

**–ú–∏–Ω—É—Å—ã:**
- –¢—Ä–µ–±—É–µ—Ç —Å–µ—Ä—å—ë–∑–Ω–æ–≥–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ Kanban Board
- –°–ª–æ–∂–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å DnD –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π

**–í–∞—Ä–∏–∞–Ω—Ç 5: –°–æ–æ–±—â–∏—Ç—å –æ –±–∞–≥–µ –≤ Arc Browser (–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ)**

–°–æ–∑–¥–∞—Ç—å issue –≤ Arc Browser (–µ—Å–ª–∏ –µ—Å—Ç—å –ø—É–±–ª–∏—á–Ω—ã–π issue tracker):
- –û–ø–∏—Å–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—É —Å –∑–∞–≤–∏—Å–∞–Ω–∏–µ–º –æ–∫–Ω–∞ –ø—Ä–∏ drag & drop
- –ü—Ä–∏–ª–æ–∂–∏—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–µ–ø—Ä–æ–¥—É–∫—Ç (CodeSandbox —Å @dnd-kit)
- –£–∫–∞–∑–∞—Ç—å –≤–µ—Ä—Å–∏—é Arc –∏ –û–°

**–ü–ª—é—Å—ã:**
- –ü—Ä–æ–±–ª–µ–º–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –≤ Arc
- –ü–æ–º–æ–≥–∞–µ—Ç –¥—Ä—É–≥–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º

**–ú–∏–Ω—É—Å—ã:**
- –ù–µ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º —Å—Ä–æ–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- –ú–æ–∂–µ—Ç –Ω–µ –±—ã—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤–æ–æ–±—â–µ

#### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π

**–®–∞–≥ 1 (–±—ã—Å—Ç—Ä–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ):**
–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å **–í–∞—Ä–∏–∞–Ω—Ç 1** (–¥–µ–±–∞—É–Ω—Å–∏–Ω–≥ 50ms) + **–í–∞—Ä–∏–∞–Ω—Ç 3** (`requestIdleCallback`) –≤–º–µ—Å—Ç–µ:

```typescript
const handleDragEnd = (event: DragEndEvent) => {
  const { active, over } = event

  if (!over || active.id === over.id) return

  // –î–∞—Ç—å Arc –≤—Ä–µ–º—è –Ω–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ drag —Å–æ–±—ã—Ç–∏—è + –æ—Ç–ª–æ–∂–∏—Ç—å –¥–æ idle
  if ('requestIdleCallback' in window) {
    requestIdleCallback(() => {
      updateSectionStatus({
        sectionId: active.id as string,
        newStatusId: over.id as string,
      })
    }, { timeout: 100 }) // –º–∞–∫—Å–∏–º—É–º 100ms –∑–∞–¥–µ—Ä–∂–∫–∏
  } else {
    setTimeout(() => {
      updateSectionStatus({
        sectionId: active.id as string,
        newStatusId: over.id as string,
      })
    }, 50)
  }
}
```

**–®–∞–≥ 2 (–ø—Ä–æ–≤–µ—Ä–∫–∞):**
- –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ Arc Browser
- –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ Chrome (—É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –Ω–µ —Å–ª–æ–º–∞–ª–∏)
- –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ Edge/Safari (–µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ)

**–®–∞–≥ 3 (–µ—Å–ª–∏ –Ω–µ –ø–æ–º–æ–≥–ª–æ):**
- –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:
  ```typescript
  console.time('kanban-update')
  await updateSectionStatus(...)
  console.timeEnd('kanban-update')
  ```
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, **—á—Ç–æ –∏–º–µ–Ω–Ω–æ** –∑–∞–Ω–∏–º–∞–µ—Ç –≤—Ä–µ–º—è (Server Action, re-render, –∏–ª–∏ Arc UI)

**–®–∞–≥ 4 (–¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–µ):**
- –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –≤ re-render ‚Üí –≤–Ω–µ–¥—Ä–∏—Ç—å –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—é (**–í–∞—Ä–∏–∞–Ω—Ç 4**)
- –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –≤ Arc UI ‚Üí —Å–æ–æ–±—â–∏—Ç—å –≤ Arc (**–í–∞—Ä–∏–∞–Ω—Ç 5**)

#### –í—ã–≤–æ–¥—ã

- **–ü—Ä–æ–±–ª–µ–º–∞ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞ –¥–ª—è Arc Browser**, –∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- **Root cause** –ø–æ–∫–∞ –Ω–µ –∏–∑–≤–µ—Å—Ç–µ–Ω (—Ç—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Arc DevTools)
- **–ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** `requestIdleCallback` + –Ω–µ–±–æ–ª—å—à–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞
- **–î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** –í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–ø–∏—Å–∫–æ–≤ + –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è re-render
- **–ù–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É –≤ Chrome**, –Ω–æ —Å–æ–∑–¥–∞—ë—Ç –ø–ª–æ—Ö–æ–π UX –≤ Arc

---

### üîê –ë–ê–ì #2: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∑–∞—â–∏—Ç—ã –æ—Ç –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ `/tasks`

**–î–∞—Ç–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è:** 2025-12-29

**–õ–æ–∫–∞—Ü–∏—è:** `/tasks` (–≤—Å–µ –≤–∫–ª–∞–¥–∫–∏: –ö–∞–Ω–±–∞–Ω, –ì—Ä–∞—Ñ–∏–∫ —Ä–µ—Å—É—Ä—Å–æ–≤)

**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üî¥ **–ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø** (Security vulnerability)

#### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

–°—Ç—Ä–∞–Ω–∏—Ü–∞ `/tasks` **–¥–æ—Å—Ç—É–ø–Ω–∞ –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏**. –õ—é–±–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –∑–Ω–∞—é—â–∏–π URL, –º–æ–∂–µ—Ç:
- –û—Ç–∫—Ä—ã—Ç—å `/tasks` –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- –£–≤–∏–¥–µ—Ç—å –≤–µ—Å—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –º–æ–¥—É–ª—è (–ö–∞–Ω–±–∞–Ω, –ì—Ä–∞—Ñ–∏–∫ —Ä–µ—Å—É—Ä—Å–æ–≤, —Ñ–∏–ª—å—Ç—Ä—ã)
- –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º —á–µ—Ä–µ–∑ API (—Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏)

**–¢–µ–∫—É—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
1. –ù–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç `https://eneca.work/tasks` –≤ –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–µ
2. –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è **–ë–ï–ó —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞** –Ω–∞ `/login`
3. –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é (UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–µ–Ω–¥–µ—Ä—è—Ç—Å—è)
4. –î–∞–Ω–Ω—ã–µ –º–æ–≥—É—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è (–∏–ª–∏ API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫–∏ ‚Äî —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏)

**–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
1. –ù–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—ã—Ç–∞–µ—Ç—Å—è –∑–∞–π—Ç–∏ –Ω–∞ `/tasks`
2. Middleware –∏–ª–∏ Page component –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–µ—Å—Å–∏—é
3. –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω ‚Üí **—Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/login`**
4. –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω, –Ω–æ –Ω–µ—Ç –ø—Ä–∞–≤ ‚Üí –ø–æ–∫–∞–∑–∞—Ç—å "Access Denied"

**–ì–¥–µ –ø—Ä–æ—è–≤–ª—è–µ—Ç—Å—è:**
- `/tasks` ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –º–æ–¥—É–ª—è Tasks
- –í—Å–µ –≤–∫–ª–∞–¥–∫–∏ –≤–Ω—É—Ç—Ä–∏: –ö–∞–Ω–±–∞–Ω, –ì—Ä–∞—Ñ–∏–∫ —Ä–µ—Å—É—Ä—Å–æ–≤
- –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –¥—Ä—É–≥–∏–µ –∑–∞—â–∏—â—ë–Ω–Ω—ã–µ —Ä–æ—É—Ç—ã (—Ç—Ä–µ–±—É–µ—Ç –∞—É–¥–∏—Ç–∞)

#### –ü—Ä–∏—á–∏–Ω–∞

**Root cause:** –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç **–∑–∞—â–∏—Ç–∞ –º–∞—Ä—à—Ä—É—Ç–∞** –Ω–∞ —É—Ä–æ–≤–Ω–µ:
1. **Middleware** (`middleware.ts`) ‚Äî –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –¥–æ—Å—Ç—É–ø –∫ `/tasks`
2. **Page Component** (`app/tasks/page.tsx`) ‚Äî –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–µ—Å—Å–∏—é –ø–µ—Ä–µ–¥ —Ä–µ–Ω–¥–µ—Ä–æ–º
3. **Permissions Guard** ‚Äî –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

**–¢–µ–∫—É—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∑–∞—â–∏—Ç—ã:**
- ‚úÖ **Server Actions** –∑–∞—â–∏—â–µ–Ω—ã `getFilterContext()` –∏ RLS –≤ Supabase
- ‚úÖ **API Routes** –º–æ–≥—É—Ç –∏–º–µ—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É JWT (—Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏)
- ‚ùå **Page Routes** –ù–ï –∑–∞—â–∏—â–µ–Ω—ã ‚Äî –ª—é–±–æ–π –º–æ–∂–µ—Ç –æ—Ç–∫—Ä—ã—Ç—å `/tasks`

**–ü–æ—á–µ–º—É —ç—Ç–æ –æ–ø–∞—Å–Ω–æ:**
1. **Information Disclosure** ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ UI —Ä–∞—Å–∫—Ä—ã–≤–∞–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
2. **–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è —É—Ç–µ—á–∫–∞ –¥–∞–Ω–Ω—ã—Ö** ‚Äî –µ—Å–ª–∏ API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –¥–æ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤
3. **SEO/Crawlers** ‚Äî –ø–æ–∏—Å–∫–æ–≤—ã–µ –±–æ—Ç—ã –º–æ–≥—É—Ç –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å –∑–∞—â–∏—â—ë–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
4. **Compliance** ‚Äî –Ω–∞—Ä—É—à–µ–Ω–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (GDPR, SOC2)

#### –õ–æ–∫–∞—Ü–∏—è –∫–æ–¥–∞

**–§–∞–π–ª—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:**

1. **Middleware** ‚Äî –¥–æ–ª–∂–µ–Ω –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø:
   - `middleware.ts` ‚Äî –≥–ª–∞–≤–Ω—ã–π middleware Next.js

2. **Tasks Page** ‚Äî –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Å–µ—Å—Å–∏—é:
   - `app/tasks/page.tsx` ‚Äî —Ç–æ—á–Ω–∞—è –ª–æ–∫–∞—Ü–∏—è —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ (–º–æ–∂–µ—Ç –±—ã—Ç—å `app/(dashboard)/tasks/page.tsx`)

3. **Layout** ‚Äî –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –ø—Ä–∞–≤:
   - `app/layout.tsx` –∏–ª–∏ `app/(dashboard)/layout.tsx`

4. **Auth Utilities** ‚Äî —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏:
   - `utils/supabase/server.ts` ‚Äî SSR-—É—Ç–∏–ª–∏—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–µ—Å—Å–∏–∏
   - `stores/useUserStore.ts` ‚Äî –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å—Ç–æ—Ä —Å –¥–∞–Ω–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–°—É—â–µ—Å—Ç–≤—É—é—â–∞—è –∑–∞—â–∏—Ç–∞ API (–¥–ª—è —Å–ø—Ä–∞–≤–∫–∏):**
- `modules/filter-permissions/actions/index.ts:getFilterContext()` ‚Äî –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –∏ –ø—Ä–∞–≤–∞
- `modules/kanban/actions/index.ts` ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `getFilterContext()` (–Ω–æ —ç—Ç–æ –ù–ï –±–ª–æ–∫–∏—Ä—É–µ—Ç —Ä–µ–Ω–¥–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã)

#### –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ—à–µ–Ω–∏—è

**‚ùå –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:**
- –ü–æ–ª–∞–≥–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ –∑–∞—â–∏—Ç—É Server Actions (—Å—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Å—ë —Ä–∞–≤–Ω–æ –¥–æ—Å—Ç—É–ø–Ω–∞)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –∫–ª–∏–µ–Ω—Ç—Å–∫—É—é –ø—Ä–æ–≤–µ—Ä–∫—É (–º–æ–∂–Ω–æ –æ–±–æ–π—Ç–∏ —á–µ—Ä–µ–∑ DevTools)

**‚úÖ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:**

---

**–í–∞—Ä–∏–∞–Ω—Ç 1: –ó–∞—â–∏—Ç–∞ —á–µ—Ä–µ–∑ Middleware (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) ‚≠ê**

–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —Å–µ—Å—Å–∏–∏ –≤ `middleware.ts` –¥–ª—è –≤—Å–µ—Ö –∑–∞—â–∏—â—ë–Ω–Ω—ã—Ö —Ä–æ—É—Ç–æ–≤:

```typescript
// middleware.ts

import { createServerClient } from '@/utils/supabase/middleware'
import { NextResponse, type NextRequest } from 'next/server'

// –ó–∞—â–∏—â—ë–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã, —Ç—Ä–µ–±—É—é—â–∏–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
const PROTECTED_ROUTES = ['/tasks', '/dashboard', '/projects', '/planning', '/calendar']

export async function middleware(request: NextRequest) {
  const { supabase, response } = createServerClient(request)

  // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–µ—Å—Å–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  const {
    data: { session },
  } = await supabase.auth.getSession()

  const isProtectedRoute = PROTECTED_ROUTES.some(route =>
    request.nextUrl.pathname.startsWith(route)
  )

  // –ï—Å–ª–∏ –º–∞—Ä—à—Ä—É—Ç –∑–∞—â–∏—â—ë–Ω –∏ –Ω–µ—Ç —Å–µ—Å—Å–∏–∏ ‚Üí —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ /login
  if (isProtectedRoute && !session) {
    const loginUrl = new URL('/login', request.url)
    loginUrl.searchParams.set('redirect', request.nextUrl.pathname) // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å URL –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞
    return NextResponse.redirect(loginUrl)
  }

  return response
}

export const config = {
  matcher: [
    '/((?!_next/static|_next/image|favicon.ico|.*\\.(?:svg|png|jpg|jpeg|gif|webp)$).*)',
  ],
}
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –ë–ª–æ–∫–∏—Ä—É–µ—Ç –¥–æ—Å—Ç—É–ø **–î–û —Ä–µ–Ω–¥–µ—Ä–∞** —Å—Ç—Ä–∞–Ω–∏—Ü—ã (—Å–∞–º—ã–π —Ä–∞–Ω–Ω–∏–π —ç—Ç–∞–ø)
- ‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∑–∞—â–∏—Ç–∞ –≤—Å–µ—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞ –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π URL –ø–æ—Å–ª–µ –ª–æ–≥–∏–Ω–∞
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Edge Runtime (–±—ã—Å—Ç—Ä–æ)

**–ú–∏–Ω—É—Å—ã:**
- –¢—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü (–Ω–æ —ç—Ç–æ —É–∂–µ —Å–¥–µ–ª–∞–Ω–æ —á–µ—Ä–µ–∑ `matcher`)

---

**–í–∞—Ä–∏–∞–Ω—Ç 2: –ó–∞—â–∏—Ç–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ Page Component (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ)**

–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —Å–µ—Å—Å–∏–∏ –≤ `app/tasks/page.tsx`:

```typescript
// app/tasks/page.tsx (–∏–ª–∏ app/(dashboard)/tasks/page.tsx)

import { createClient } from '@/utils/supabase/server'
import { redirect } from 'next/navigation'
import { TasksView } from '@/modules/tasks'

export default async function TasksPage() {
  const supabase = createClient()

  // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–µ—Å—Å–∏—é
  const {
    data: { session },
  } = await supabase.auth.getSession()

  // –ï—Å–ª–∏ –Ω–µ—Ç —Å–µ—Å—Å–∏–∏ ‚Üí —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ –ª–æ–≥–∏–Ω
  if (!session) {
    redirect('/login?redirect=/tasks')
  }

  // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –º–æ–¥—É–ª—é Tasks
  // const hasAccess = await checkPermission('tasks.view')
  // if (!hasAccess) {
  //   return <AccessDenied />
  // }

  return <TasksView />
}
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Å–ª–æ–π –∑–∞—â–∏—Ç—ã (defense in depth)
- ‚úÖ –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ (permissions)
- ‚úÖ –Ø–≤–Ω–∞—è –∑–∞—â–∏—Ç–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å—Å—è –¥–æ –ø—Ä–æ–≤–µ—Ä–∫–∏ (–º–µ–Ω–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ, —á–µ–º Middleware)
- ‚ùå –ù—É–∂–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å –≤ –∫–∞–∂–¥–æ–π –∑–∞—â–∏—â—ë–Ω–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ (–º–æ–∂–Ω–æ –æ–±–µ—Ä–Ω—É—Ç—å –≤ HOC)

---

**–í–∞—Ä–∏–∞–Ω—Ç 3: –°–æ–∑–¥–∞—Ç—å HOC/Wrapper –¥–ª—è –∑–∞—â–∏—â—ë–Ω–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü (–º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ–µ)**

–°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—É—é –æ–±—ë—Ä—Ç–∫—É –¥–ª—è –≤—Å–µ—Ö –∑–∞—â–∏—â—ë–Ω–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü:

```typescript
// lib/auth/withAuth.tsx

import { createClient } from '@/utils/supabase/server'
import { redirect } from 'next/navigation'
import { ReactNode } from 'react'

interface WithAuthOptions {
  requiredPermission?: string
  redirectTo?: string
}

export async function withAuth(
  Component: () => Promise<ReactNode>,
  options?: WithAuthOptions
) {
  const supabase = createClient()

  const {
    data: { session },
  } = await supabase.auth.getSession()

  if (!session) {
    const redirectUrl = options?.redirectTo || '/login'
    redirect(`${redirectUrl}?redirect=${encodeURIComponent(request.url)}`)
  }

  // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞
  if (options?.requiredPermission) {
    // const hasPermission = await checkUserPermission(options.requiredPermission)
    // if (!hasPermission) {
    //   return <AccessDenied />
    // }
  }

  return Component()
}
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**

```typescript
// app/tasks/page.tsx

import { withAuth } from '@/lib/auth/withAuth'
import { TasksView } from '@/modules/tasks'

async function TasksPage() {
  return <TasksView />
}

export default async function Page() {
  return withAuth(TasksPage, {
    requiredPermission: 'tasks.view',
  })
}
```

**–ü–ª—é—Å—ã:**
- ‚úÖ DRY ‚Äî –Ω–µ –¥—É–±–ª–∏—Ä—É–µ–º –∫–æ–¥ –ø—Ä–æ–≤–µ—Ä–∫–∏
- ‚úÖ –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É permissions
- ‚úÖ –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è (–º–æ–∂–µ—Ç —É—Å–ª–æ–∂–Ω–∏—Ç—å –∫–æ–¥)
- ‚ùå –í—Å—ë —Ä–∞–≤–Ω–æ –º–µ–¥–ª–µ–Ω–Ω–µ–µ, —á–µ–º Middleware

---

**–í–∞—Ä–∏–∞–Ω—Ç 4: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Layout –¥–ª—è –∑–∞—â–∏—Ç—ã –≥—Ä—É–ø–ø—ã –º–∞—Ä—à—Ä—É—Ç–æ–≤ (—Å—Ä–µ–¥–Ω—è—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å)**

–ï—Å–ª–∏ `/tasks` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –≥—Ä—É–ø–ø–µ `(dashboard)`, –∑–∞—â–∏—Ç–∏—Ç—å –≤–µ—Å—å layout:

```typescript
// app/(dashboard)/layout.tsx

import { createClient } from '@/utils/supabase/server'
import { redirect } from 'next/navigation'

export default async function DashboardLayout({
  children,
}: {
  children: React.ReactNode
}) {
  const supabase = createClient()

  const {
    data: { session },
  } = await supabase.auth.getSession()

  if (!session) {
    redirect('/login')
  }

  return <>{children}</>
}
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –ó–∞—â–∏—â–∞–µ—Ç –í–°–ï –º–∞—Ä—à—Ä—É—Ç—ã –≤–Ω—É—Ç—Ä–∏ –≥—Ä—É–ø–ø—ã `(dashboard)/*`
- ‚úÖ –û–¥–∏–Ω —Ä–∞–∑ –Ω–∞–ø–∏—Å–∞—Ç—å ‚Äî –∑–∞—â–∏—Ç–∏—Ç—å `/tasks`, `/projects`, `/calendar`, etc.

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –¢—Ä–µ–±—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–∞–ø–æ–∫ (route groups)
- ‚ùå –ú–µ–Ω–µ–µ –≥–∏–±–∫–æ, —á–µ–º Middleware (–Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü –≤–Ω—É—Ç—Ä–∏ –≥—Ä—É–ø–ø—ã)

---

#### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π

**–®–∞–≥ 1: –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —Ñ–∏–∫—Å)** üî¥

–í–Ω–µ–¥—Ä–∏—Ç—å **–í–∞—Ä–∏–∞–Ω—Ç 1** (Middleware) ‚Äî —ç—Ç–æ **–º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∑–∞—â–∏—Ç–∞**, –∫–æ—Ç–æ—Ä–∞—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –í–°–ï–ì–î–ê:

1. –û—Ç–∫—Ä—ã—Ç—å `middleware.ts`
2. –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —Å–µ—Å—Å–∏–∏ –¥–ª—è –∑–∞—â–∏—â—ë–Ω–Ω—ã—Ö —Ä–æ—É—Ç–æ–≤
3. –î–æ–±–∞–≤–∏—Ç—å —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/login` –¥–ª—è –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:
   - ‚úÖ –ù–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/login`
   - ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí –¥–æ—Å—Ç—É–ø –∫ `/tasks`
   - ‚úÖ –ü–æ—Å–ª–µ –ª–æ–≥–∏–Ω–∞ ‚Üí —Ä–µ–¥–∏—Ä–µ–∫—Ç –æ–±—Ä–∞—Ç–Ω–æ –Ω–∞ `/tasks`

**–®–∞–≥ 2: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞—â–∏—Ç–∞ (–≤ —Ç–µ—á–µ–Ω–∏–µ 1-2 –¥–Ω–µ–π)**

–î–æ–±–∞–≤–∏—Ç—å **–í–∞—Ä–∏–∞–Ω—Ç 4** (Layout) –∏–ª–∏ **–í–∞—Ä–∏–∞–Ω—Ç 2** (Page Component):
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–ø–æ–∫ (`app/(dashboard)/`)
- –ï—Å–ª–∏ –µ—Å—Ç—å route group ‚Üí –∑–∞—â–∏—Ç–∏—Ç—å Layout
- –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –≤ `app/tasks/page.tsx`

**–®–∞–≥ 3: –ê—É–¥–∏—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (–≤ —Ç–µ—á–µ–Ω–∏–µ –Ω–µ–¥–µ–ª–∏)**

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –í–°–ï –∑–∞—â–∏—â—ë–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã:

```bash
# –ù–∞–π—Ç–∏ –≤—Å–µ page.tsx –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
find app -name "page.tsx" -type f
```

–î–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:
- ‚úÖ –¢—Ä–µ–±—É–µ—Ç –ª–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏?
- ‚úÖ –ó–∞—â–∏—â–µ–Ω–∞ –ª–∏ Middleware?
- ‚úÖ –ï—Å—Ç—å –ª–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ permissions?

**–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ —É—è–∑–≤–∏–º—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã (—Ç—Ä–µ–±—É—é—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏):**
- `/dashboard` ‚Äî –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ—Å–ª–µ –ª–æ–≥–∏–Ω–∞
- `/projects` ‚Äî —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤
- `/planning` ‚Äî —Ä–µ—Å—É—Ä—Å–Ω–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
- `/calendar` ‚Äî –∫–∞–ª–µ–Ω–¥–∞—Ä—å —Å–æ–±—ã—Ç–∏–π
- `/users` ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å)
- `/settings` ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–®–∞–≥ 4: –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã (–¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–µ)**

–°–æ–∑–¥–∞—Ç—å E2E —Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–∞—â–∏—Ç—ã:

```typescript
// e2e/auth/protected-routes.spec.ts

test('–Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ /tasks –¥–æ–ª–∂–µ–Ω —Ä–µ–¥–∏—Ä–µ–∫—Ç–∏—Ç—å –Ω–∞ /login', async ({ page }) => {
  // –û—á–∏—Å—Ç–∏—Ç—å –∫—É–∫–∏ (—Ä–∞–∑–ª–æ–≥–∏–Ω–∏—Ç—å—Å—è)
  await page.context().clearCookies()

  // –ü–æ–ø—ã—Ç–∫–∞ –∑–∞–π—Ç–∏ –Ω–∞ /tasks
  await page.goto('/tasks')

  // –û–∂–∏–¥–∞–µ–º —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ /login
  await expect(page).toHaveURL(/\/login/)
})

test('–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –∑–∞–π—Ç–∏ –Ω–∞ /tasks', async ({ page }) => {
  // –ó–∞–ª–æ–≥–∏–Ω–∏—Ç—å—Å—è
  await login(page, 'user@example.com', 'password')

  // –ó–∞–π—Ç–∏ –Ω–∞ /tasks
  await page.goto('/tasks')

  // –û–∂–∏–¥–∞–µ–º —É—Å–ø–µ—à–Ω—É—é –∑–∞–≥—Ä—É–∑–∫—É
  await expect(page).toHaveURL('/tasks')
  await expect(page.locator('h1')).toContainText('–ó–∞–¥–∞—á–∏') // –∏–ª–∏ –¥—Ä—É–≥–æ–π –∑–∞–≥–æ–ª–æ–≤–æ–∫
})
```

---

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∑–∞—â–∏—Ç—ã API

**–í–∞–∂–Ω–æ:** –î–∞–∂–µ –µ—Å–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–æ—Å—Ç—É–ø–Ω–∞, API **–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞—â–∏—â–µ–Ω—ã**. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å:

1. **Server Actions** (`modules/kanban/actions/index.ts`, `modules/resource-graph/actions/index.ts`):
   ```typescript
   // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –í–°–ï actions –≤—ã–∑—ã–≤–∞—é—Ç getFilterContext()
   const filterContextResult = await getFilterContext()
   if (!filterContextResult.success) {
     return { success: false, error: 'Unauthorized' }
   }
   ```

2. **API Routes** (`app/api/*`):
   ```typescript
   // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –µ—Å—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∞ JWT –∏–ª–∏ session
   const session = await getSession(request)
   if (!session) {
     return NextResponse.json({ error: 'Unauthorized' }, { status: 401 })
   }
   ```

3. **Supabase RLS** (Row Level Security):
   ```sql
   -- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ç–∞–±–ª–∏—Ü—ã –∑–∞—â–∏—â–µ–Ω—ã RLS –ø–æ–ª–∏—Ç–∏–∫–∞–º–∏
   SELECT tablename, rowsecurity
   FROM pg_tables
   WHERE schemaname = 'public';

   -- –í—Å–µ –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å rowsecurity = true
   ```

---

#### –í—ã–≤–æ–¥—ã

- **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è —É—è–∑–≤–∏–º–æ—Å—Ç—å** ‚Äî —Å—Ç—Ä–∞–Ω–∏—Ü–∞ `/tasks` –¥–æ—Å—Ç—É–ø–Ω–∞ –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- **Root cause** ‚Äî –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–µ—Å—Å–∏–∏ –≤ Middleware –∏–ª–∏ Page Component
- **–ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ** ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –≤ `middleware.ts` (–í–∞—Ä–∏–∞–Ω—Ç 1)
- **–î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ** ‚Äî –ø—Ä–æ–≤–µ—Å—Ç–∏ –ø–æ–ª–Ω—ã–π –∞—É–¥–∏—Ç –≤—Å–µ—Ö –∑–∞—â–∏—â—ë–Ω–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤
- **Defense in depth** ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ª–æ—ë–≤ –∑–∞—â–∏—Ç—ã (Middleware + Page + API + RLS)

**–í–ê–ñ–ù–û:** –≠—Ç–æ—Ç –±–∞–≥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω **–î–û –¥–µ–ø–ª–æ—è –≤ production**. –ï—Å–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É–∂–µ –≤ production ‚Äî —ç—Ç–æ **–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π hotfix**.

---

### üí¨ –ë–ê–ì #4: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ç—É–ª—Ç–∏–ø–æ–≤ –Ω–∞ –∞–≤–∞—Ç–∞—Ä–∞—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Ä–∞–±–æ—Ç –≤ Kanban –∫–∞—Ä—Ç–æ—á–∫–∞—Ö

**–î–∞—Ç–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è:** 2025-12-29

**–õ–æ–∫–∞—Ü–∏—è:** `/tasks` ‚Üí –≤–∫–ª–∞–¥–∫–∞ "–ö–∞–Ω–±–∞–Ω" ‚Üí –∫–∞—Ä—Ç–æ—á–∫–∏ –∑–∞–¥–∞—á

#### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

–ü—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –∫—É—Ä—Å–æ—Ä–∞ –Ω–∞ **–∞–≤–∞—Ç–∞—Ä—ã –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Ä–∞–±–æ—Ç** (–∫—Ä—É–≥–ª—ã–µ –∏–∫–æ–Ω–∫–∏ —Å –¥–≤—É–º—è –±—É–∫–≤–∞–º–∏) –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö Kanban **–Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤—Å–ø–ª—ã–≤–∞—é—â–∏–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏** —Å –ø–æ–ª–Ω—ã–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏–∏.

**–¢–µ–∫—É—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ê–≤–∞—Ç–∞—Ä—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —Ç–æ–ª—å–∫–æ **–ø–µ—Ä–≤—ã–µ 2 –±—É–∫–≤—ã** –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ä–∞–±–æ—Ç—ã ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä, `–î–ò`, `–í–î`, `–ê–†`
- –ü—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –∫—É—Ä—Å–æ—Ä–∞ **–Ω–∏—á–µ–≥–æ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç** (–Ω–µ—Ç —Ç—É–ª—Ç–∏–ø–∞)
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å **–Ω–µ –º–æ–∂–µ—Ç –ø–æ–Ω—è—Ç—å**, —á—Ç–æ –æ–∑–Ω–∞—á–∞—é—Ç —ç—Ç–∏ —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è –±–µ–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

**–ü—Ä–∏–º–µ—Ä:**
```
–ö–∞—Ç–µ–≥–æ—Ä–∏—è: "–î–∏–∑–∞–π–Ω-–ø—Ä–æ–µ–∫—Ç –∏–Ω—Ç–µ—Ä—å–µ—Ä–∞"
–ê–≤–∞—Ç–∞—Ä: [–î–ò]  ‚Üê —Ç–æ–ª—å–∫–æ 2 –±—É–∫–≤—ã
–¢—É–ª—Ç–∏–ø: (–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç) ‚Üê –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∑–Ω–∞–µ—Ç, —á—Ç–æ —ç—Ç–æ "–î–∏–∑–∞–π–Ω-–ø—Ä–æ–µ–∫—Ç –∏–Ω—Ç–µ—Ä—å–µ—Ä–∞"
```

**–ì–¥–µ –ø—Ä–æ—è–≤–ª—è–µ—Ç—Å—è:**
- –í—Å–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –≤ Kanban Board –Ω–∞ –≤–∫–ª–∞–¥–∫–µ "–ö–∞–Ω–±–∞–Ω"
- –°–µ–∫—Ü–∏—è **Info row** –≤–Ω—É—Ç—Ä–∏ –∫–∞—Ä—Ç–æ—á–∫–∏ (–≥–¥–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –∞–≤–∞—Ç–∞—Ä—ã, CPI, —á–∞—Å—ã, –ø—Ä–æ–≥—Ä–µ—Å—Å)
- –î–≤–∞ —Å–ª—É—á–∞—è:
  1. **–ï—Å–ª–∏ –µ—Å—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ä–∞–±–æ—Ç** ‚Üí –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∞–≤–∞—Ç–∞—Ä—ã –∫–∞—Ç–µ–≥–æ—Ä–∏–π
  2. **–ï—Å–ª–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –Ω–µ—Ç** ‚Üí –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è 1 –∞–≤–∞—Ç–∞—Ä —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º —ç—Ç–∞–ø–∞ (—Ç–æ–∂–µ –±–µ–∑ —Ç—É–ª—Ç–∏–ø–∞)

**–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ:**
1. –û—Ç–∫—Ä—ã—Ç—å `/tasks` ‚Üí –≤–∫–ª–∞–¥–∫–∞ "–ö–∞–Ω–±–∞–Ω"
2. –ù–∞–π—Ç–∏ –ª—é–±—É—é –∫–∞—Ä—Ç–æ—á–∫—É —Å –∞–≤–∞—Ç–∞—Ä–∞–º–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π (–∫—Ä—É–≥–ª—ã–µ –∏–∫–æ–Ω–∫–∏ —Å –±—É–∫–≤–∞–º–∏)
3. –ù–∞–≤–µ—Å—Ç–∏ –∫—É—Ä—Å–æ—Ä –Ω–∞ –∞–≤–∞—Ç–∞—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
4. **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –¢—É–ª—Ç–∏–ø –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è, –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ

#### –ü—Ä–∏—á–∏–Ω–∞

**Root cause:** –ü—Ä–∏ —Ä–µ–Ω–¥–µ—Ä–µ –∞–≤–∞—Ç–∞—Ä–æ–≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–π **–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `Tooltip`** –∏–∑ Radix UI.

**–¢–µ–∫—É—â–∏–π –∫–æ–¥** (–±–µ–∑ —Ç—É–ª—Ç–∏–ø–∞):

```typescript
// modules/kanban/components/KanbanCard.tsx:454-476
// Info row ‚Äî –∞–≤–∞—Ç–∞—Ä—ã –∫–∞—Ç–µ–≥–æ—Ä–∏–π

{uniqueCategories.length > 0 ? (
  uniqueCategories.slice(0, 3).map((category, idx) => (
    <Avatar
      key={idx}
      className="h-8 w-8 border-2 border-background"
    >
      <AvatarFallback className="text-[10px] bg-primary/20 text-primary font-medium">
        {category?.substring(0, 2).toUpperCase()}  // ‚Üê –¢–æ–ª—å–∫–æ 2 –±—É–∫–≤—ã
      </AvatarFallback>
    </Avatar>  // ‚Üê –ù–ï–¢ Tooltip!
  ))
) : (
  <Avatar className="h-8 w-8 border-2 border-background">
    <AvatarFallback className="text-[10px] bg-primary/20 text-primary font-medium">
      {stage.name?.substring(0, 2).toUpperCase()}  // ‚Üê –ù–∞–∑–≤–∞–Ω–∏–µ —ç—Ç–∞–ø–∞, —Ç–æ–∂–µ –±–µ–∑ —Ç—É–ª—Ç–∏–ø–∞
    </AvatarFallback>
  </Avatar>
)}
```

**–ü—Ä–æ–±–ª–µ–º–∞:**
- `Avatar` —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è **–±–µ–∑ –æ–±—ë—Ä—Ç–∫–∏** –≤ `Tooltip`
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã `Tooltip`, `TooltipTrigger`, `TooltipContent` —É–∂–µ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤ —Ñ–∞–π–ª–µ (—Å—Ç—Ä–æ–∫–∏ 9-13), –Ω–æ **–Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ `–î–ò`, `–í–î`, `–ê–†` –∏ –Ω–µ –∑–Ω–∞–µ—Ç, —á—Ç–æ —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç

#### –õ–æ–∫–∞—Ü–∏—è –∫–æ–¥–∞

**–§–∞–π–ª —Å –ø—Ä–æ–±–ª–µ–º–æ–π:**
- [modules/kanban/components/KanbanCard.tsx:454-476](../modules/kanban/components/KanbanCard.tsx#L454-L476) ‚Äî Info row —Å –∞–≤–∞—Ç–∞—Ä–∞–º–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π

**–ò–º–ø–æ—Ä—Ç—ã Tooltip (—É–∂–µ –µ—Å—Ç—å –≤ —Ñ–∞–π–ª–µ):**
```typescript
// modules/kanban/components/KanbanCard.tsx:9-13
import {
  Tooltip,
  TooltipContent,
  TooltipProvider,
  TooltipTrigger,
} from '@/components/ui/tooltip'
```

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é** ‚Äî –Ω—É–∂–Ω–æ —Ç–æ–ª—å–∫–æ –æ–±–µ—Ä–Ω—É—Ç—å –∞–≤–∞—Ç–∞—Ä—ã.

#### –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ—à–µ–Ω–∏—è

**‚ùå –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:**
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–ª–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –≤–º–µ—Å—Ç–æ –∏–Ω–∏—Ü–∏–∞–ª–æ–≤ ‚Äî –∑–∞–π–º—ë—Ç —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –º–µ—Å—Ç–∞ –≤ UI
- –û—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å ‚Äî –ø–ª–æ—Ö–æ–π UX, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –ø–æ–Ω–∏–º–∞–µ—Ç —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è

**‚úÖ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –≤–∞—Ä–∏–∞–Ω—Ç:**

---

**–í–∞—Ä–∏–∞–Ω—Ç 1: –û–±–µ—Ä–Ω—É—Ç—å –∞–≤–∞—Ç–∞—Ä—ã –≤ Tooltip (–ø—Ä–æ—Å—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ) ‚≠ê**

–î–æ–±–∞–≤–∏—Ç—å `Tooltip` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–≤–∞—Ç–∞—Ä–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:

```typescript
// modules/kanban/components/KanbanCard.tsx:454-476

{uniqueCategories.length > 0 ? (
  uniqueCategories.slice(0, 3).map((category, idx) => (
    <TooltipProvider key={idx}>
      <Tooltip>
        <TooltipTrigger asChild>
          <Avatar className="h-8 w-8 border-2 border-background">
            <AvatarFallback className="text-[10px] bg-primary/20 text-primary font-medium">
              {category?.substring(0, 2).toUpperCase()}
            </AvatarFallback>
          </Avatar>
        </TooltipTrigger>
        <TooltipContent>
          <p className="text-xs">{category}</p>  {/* ‚Üê –ü–æ–ª–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ */}
        </TooltipContent>
      </Tooltip>
    </TooltipProvider>
  ))
) : (
  <TooltipProvider>
    <Tooltip>
      <TooltipTrigger asChild>
        <Avatar className="h-8 w-8 border-2 border-background">
          <AvatarFallback className="text-[10px] bg-primary/20 text-primary font-medium">
            {stage.name?.substring(0, 2).toUpperCase()}
          </AvatarFallback>
        </Avatar>
      </TooltipTrigger>
      <TooltipContent>
        <p className="text-xs">{stage.name}</p>  {/* ‚Üê –ü–æ–ª–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —ç—Ç–∞–ø–∞ */}
      </TooltipContent>
    </Tooltip>
  </TooltipProvider>
)}
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (–æ–±—ë—Ä—Ç–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)
- ‚úÖ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã Tooltip —É–∂–µ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ –£–ª—É—á—à–∞–µ—Ç UX ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –ø–æ–ª–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏
- ‚úÖ –ù–µ –º–µ–Ω—è–µ—Ç –≤–Ω–µ—à–Ω–∏–π –≤–∏–¥ (—Ç–æ–ª—å–∫–æ –¥–æ–±–∞–≤–ª—è–µ—Ç —Ç—É–ª—Ç–∏–ø)

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –ù–µ—Ç

---

#### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π

**–®–∞–≥ 1: –û–±–µ—Ä–Ω—É—Ç—å –∞–≤–∞—Ç–∞—Ä—ã –≤ Tooltip**

1. –û—Ç–∫—Ä—ã—Ç—å [modules/kanban/components/KanbanCard.tsx:454](../modules/kanban/components/KanbanCard.tsx#L454)
2. –ù–∞–π—Ç–∏ —Å–µ–∫—Ü–∏—é **Info row** (–≥–¥–µ —Ä–µ–Ω–¥–µ—Ä—è—Ç—Å—è –∞–≤–∞—Ç–∞—Ä—ã –∫–∞—Ç–µ–≥–æ—Ä–∏–π)
3. –û–±–µ—Ä–Ω—É—Ç—å **–∫–∞–∂–¥—ã–π** `<Avatar>` –≤:
   ```typescript
   <TooltipProvider>
     <Tooltip>
       <TooltipTrigger asChild>
         {/* Avatar –∑–¥–µ—Å—å */}
       </TooltipTrigger>
       <TooltipContent>
         <p className="text-xs">{category}</p>
       </TooltipContent>
     </Tooltip>
   </TooltipProvider>
   ```
4. –û–±—Ä–∞–±–æ—Ç–∞—Ç—å **–¥–≤–∞ —Å–ª—É—á–∞—è**:
   - **–ï—Å–ª–∏ –µ—Å—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏** (`uniqueCategories.length > 0`) ‚Üí –ø–æ–∫–∞–∑–∞—Ç—å `{category}`
   - **–ï—Å–ª–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –Ω–µ—Ç** ‚Üí –ø–æ–∫–∞–∑–∞—Ç—å `{stage.name}`

**–®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç**

1. –û—Ç–∫—Ä—ã—Ç—å `/tasks` ‚Üí –≤–∫–ª–∞–¥–∫–∞ "–ö–∞–Ω–±–∞–Ω"
2. –ù–∞–π—Ç–∏ –∫–∞—Ä—Ç–æ—á–∫—É —Å –∞–≤–∞—Ç–∞—Ä–∞–º–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
3. –ù–∞–≤–µ—Å—Ç–∏ –∫—É—Ä—Å–æ—Ä –Ω–∞ –∞–≤–∞—Ç–∞—Ä
4. **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–æ—è–≤–ª—è–µ—Ç—Å—è —Ç—É–ª—Ç–∏–ø —Å –ø–æ–ª–Ω—ã–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

**–®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å edge cases**

- ‚úÖ –ö–∞—Ä—Ç–æ—á–∫–∞ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ (3+) ‚Üí –≤—Å–µ –∞–≤–∞—Ç–∞—Ä—ã –∏–º–µ—é—Ç —Ç—É–ª—Ç–∏–ø—ã
- ‚úÖ –ö–∞—Ä—Ç–æ—á–∫–∞ –±–µ–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–π ‚Üí –∞–≤–∞—Ç–∞—Ä —ç—Ç–∞–ø–∞ –∏–º–µ–µ—Ç —Ç—É–ª—Ç–∏–ø —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º —ç—Ç–∞–ø–∞
- ‚úÖ –î–ª–∏–Ω–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π ‚Üí —Ç—É–ª—Ç–∏–ø –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è

**–®–∞–≥ 4: –£–±–µ–¥–∏—Ç—å—Å—è –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ Radix UI**

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω Radix UI Tooltip:
```typescript
<TooltipProvider>     ‚Üê –û–±—ë—Ä—Ç–∫–∞ –¥–ª—è –≥—Ä—É–ø–ø—ã —Ç—É–ª—Ç–∏–ø–æ–≤ (–º–æ–∂–Ω–æ –æ–¥–Ω—É –Ω–∞ –≤—Å–µ)
  <Tooltip>           ‚Üê –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä —Ç—É–ª—Ç–∏–ø–∞
    <TooltipTrigger asChild>  ‚Üê –¢—Ä–∏–≥–≥–µ—Ä (asChild = –ø–µ—Ä–µ–¥–∞—Ç—å props –¥–æ—á–µ—Ä–Ω–µ–º—É —ç–ª–µ–º–µ–Ω—Ç—É)
      <Avatar>...</Avatar>
    </TooltipTrigger>
    <TooltipContent>  ‚Üê –°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ç—É–ª—Ç–∏–ø–∞
      <p>...</p>
    </TooltipContent>
  </Tooltip>
</TooltipProvider>
```

#### –í—ã–≤–æ–¥—ã

- **–ü–ª–æ—Ö–æ–π UX** ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –º–æ–∂–µ—Ç –ø–æ–Ω—è—Ç—å —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- **Root cause** ‚Äî –∞–≤–∞—Ç–∞—Ä—ã —Ä–µ–Ω–¥–µ—Ä—è—Ç—Å—è –±–µ–∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ `Tooltip`
- **–ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ** ‚Äî –æ–±–µ—Ä–Ω—É—Ç—å –∞–≤–∞—Ç–∞—Ä—ã –≤ `Tooltip` (—É–∂–µ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω –≤ —Ñ–∞–π–ª–µ)
- **–†–µ–∑—É–ª—å—Ç–∞—Ç** ‚Äî —É–ª—É—á—à–µ–Ω–∏–µ —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ –∏ –ø–æ–Ω—è—Ç–Ω–æ—Å—Ç–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

**–û–±—â–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:**
- –í—Å–µ–≥–¥–∞ –¥–æ–±–∞–≤–ª—è–π **—Ç—É–ª—Ç–∏–ø—ã** –¥–ª—è —Å–æ–∫—Ä–∞—â—ë–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ UI (–∏–∫–æ–Ω–∫–∏, –∏–Ω–∏—Ü–∏–∞–ª—ã, –∫–æ–¥—ã)
- –ò—Å–ø–æ–ª—å–∑—É–π **Radix UI Tooltip** –¥–ª—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ —Å –æ—Å—Ç–∞–ª—å–Ω—ã–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º
- –ü—Ä–æ–≤–µ—Ä—è–π **edge cases** (–¥–ª–∏–Ω–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥–∞–Ω–Ω—ã—Ö, –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã)

---

### üåì –ë–ê–ì #5: –¢—ë–º–Ω–∞—è —Ç–µ–º–∞ –≤ –º–æ–¥–∞–ª—å–Ω–æ–π –ø–∞–Ω–µ–ª–∏ –∑–∞–¥–∞—á–∏ –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–Ω–æ–π —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–µ

**–î–∞—Ç–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è:** 2025-12-29

**–õ–æ–∫–∞—Ü–∏—è:** `/tasks` ‚Üí –≤–∫–ª–∞–¥–∫–∞ "–ö–∞–Ω–±–∞–Ω" ‚Üí –∫–ª–∏–∫ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É –∑–∞–¥–∞—á–∏ ‚Üí –º–æ–¥–∞–ª—å–Ω–∞—è –ø–∞–Ω–µ–ª—å —Å–ø—Ä–∞–≤–∞

#### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

–ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –º–æ–¥–∞–ª—å–Ω–æ–π –ø–∞–Ω–µ–ª–∏ —Å –¥–µ—Ç–∞–ª—è–º–∏ –∑–∞–¥–∞—á–∏ (Sheet) –≤ **—Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**, –ø–∞–Ω–µ–ª—å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ **—Ç—ë–º–Ω–æ–π —Ç–µ–º–µ**, —á—Ç–æ —Å–æ–∑–¥–∞—ë—Ç –≤–∏–∑—É–∞–ª—å–Ω—ã–π –¥–∏—Å—Å–æ–Ω–∞–Ω—Å –∏ –Ω–∞—Ä—É—à–∞–µ—Ç –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.

**–¢–µ–∫—É—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ **—Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–µ** (light mode)
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∫–ª–∏–∫–∞–µ—Ç –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É –∑–∞–¥–∞—á–∏ –≤ Kanban Board
- –°–ø—Ä–∞–≤–∞ –≤—ã–µ–∑–∂–∞–µ—Ç –º–æ–¥–∞–ª—å–Ω–∞—è –ø–∞–Ω–µ–ª—å (Sheet) —Å –¥–µ—Ç–∞–ª—è–º–∏ –∑–∞–¥–∞—á–∏
- **–ü–∞–Ω–µ–ª—å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ —Ç—ë–º–Ω–æ–π —Ç–µ–º–µ** (dark background, light text)
- –û—Å—Ç–∞–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Å—Ç–∞—ë—Ç—Å—è –≤ —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–µ

**–ü—Ä–∏–º–µ—Ä –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (—Å–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞)                           ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ ‚îÇ Kanban –∫–∞—Ä—Ç–æ—á–∫–∞  ‚îÇ  ‚îÇ Sheet (—Ç—ë–º–Ω–∞—è —Ç–µ–º–∞!!!) ‚îÇ ‚îÇ
‚îÇ ‚îÇ ‚òÄÔ∏è –°–≤–µ—Ç–ª—ã–π —Ñ–æ–Ω   ‚îÇ  ‚îÇ üåô –¢—ë–º–Ω—ã–π —Ñ–æ–Ω          ‚îÇ ‚îÇ
‚îÇ ‚îÇ üñ§ –¢—ë–º–Ω—ã–π —Ç–µ–∫—Å—Ç   ‚îÇ  ‚îÇ üí° –°–≤–µ—Ç–ª—ã–π —Ç–µ–∫—Å—Ç        ‚îÇ ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–ì–¥–µ –ø—Ä–æ—è–≤–ª—è–µ—Ç—Å—è:**
- –ú–æ–¥–∞–ª—å–Ω–∞—è –ø–∞–Ω–µ–ª—å —Å –¥–µ—Ç–∞–ª—è–º–∏ –∑–∞–¥–∞—á–∏ (Sheet component)
- –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –Ω–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ –Ω–∞ –ª—é–±–æ–π –∫–∞—Ä—Ç–æ—á–∫–µ –≤ Kanban Board
- **–¢–æ–ª—å–∫–æ –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–Ω–æ–π —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–µ** –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ:**
1. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ **—Å–≤–µ—Ç–ª—É—é —Ç–µ–º—É** (–µ—Å–ª–∏ –Ω–µ –≤–∫–ª—é—á–µ–Ω–∞)
2. –û—Ç–∫—Ä—ã—Ç—å `/tasks` ‚Üí –≤–∫–ª–∞–¥–∫–∞ "–ö–∞–Ω–±–∞–Ω"
3. –ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ –Ω–∞ –ª—é–±–æ–π –∫–∞—Ä—Ç–æ—á–∫–µ
4. **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ú–æ–¥–∞–ª—å–Ω–∞—è –ø–∞–Ω–µ–ª—å —Å–ø—Ä–∞–≤–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ —Ç—ë–º–Ω–æ–π —Ç–µ–º–µ

#### –ü—Ä–∏—á–∏–Ω–∞

**Root cause:** –ú–æ–¥–∞–ª—å–Ω–∞—è –ø–∞–Ω–µ–ª—å (Sheet) –∏–º–µ–µ—Ç **—Ö–∞—Ä–¥–∫–æ–¥ —Ç—ë–º–Ω–æ–π —Ç–µ–º—ã** –∏–ª–∏ **–Ω–µ –Ω–∞—Å–ª–µ–¥—É–µ—Ç —Ç–µ–º—É** –æ—Ç —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**

1. **–•–∞—Ä–¥–∫–æ–¥ –∫–ª–∞—Å—Å–∞ `dark` –≤ Sheet –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ**
   ```typescript
   // –ì–¥–µ-—Ç–æ –≤ –∫–æ–¥–µ Sheet
   <Sheet>
     <SheetContent className="dark bg-slate-900 text-white">  // ‚Üê –•–∞—Ä–¥–∫–æ–¥ —Ç–µ–º—ã!
       {/* –ö–æ–Ω—Ç–µ–Ω—Ç */}
     </SheetContent>
   </Sheet>
   ```

2. **–ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ç–µ–º—ã**
   ```css
   /* –í —Å—Ç–∏–ª—è—Ö Sheet */
   .sheet-content {
     background: #1a1a1a; /* –¢—ë–º–Ω—ã–π —Ñ–æ–Ω */
     color: #ffffff;      /* –°–≤–µ—Ç–ª—ã–π —Ç–µ–∫—Å—Ç */
   }
   ```

3. **–ü—Ä–æ–±–ª–µ–º–∞ —Å ThemeProvider**
   - Sheet —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –≤–Ω–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ `ThemeProvider`
   - Portal (Radix UI) –º–æ–∂–µ—Ç –≤—ã—Ä–≤–∞—Ç—å—Å—è –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Ç–µ–º—ã

4. **–Ø–≤–Ω–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º—ã –≤–Ω—É—Ç—Ä–∏ Sheet**
   ```typescript
   // –í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ TaskSheet
   useEffect(() => {
     document.documentElement.classList.add('dark')  // ‚Üê –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è —Ç—ë–º–Ω–∞—è —Ç–µ–º–∞!
   }, [])
   ```

#### –õ–æ–∫–∞—Ü–∏—è –∫–æ–¥–∞

**–§–∞–π–ª—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:**

1. **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –º–æ–¥–∞–ª—å–Ω–æ–π –ø–∞–Ω–µ–ª–∏ –∑–∞–¥–∞—á–∏:**
   - –ù–∞–π—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π —Ä–µ–Ω–¥–µ—Ä–∏—Ç Sheet —Å –¥–µ—Ç–∞–ª—è–º–∏ –∑–∞–¥–∞—á–∏
   - –í–µ—Ä–æ—è—Ç–Ω—ã–µ –ª–æ–∫–∞—Ü–∏–∏:
     - `modules/kanban/components/TaskSheet.tsx`
     - `modules/kanban/components/TaskDetails.tsx`
     - `modules/tasks/components/TaskSheet.tsx`

2. **Sheet UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (Radix UI):**
   - `components/ui/sheet.tsx` ‚Äî –±–∞–∑–æ–≤—ã–π Sheet –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∏–ª–∏ –∏ –∫–ª–∞—Å—Å—ã

3. **Kanban Board –∫–æ–º–ø–æ–Ω–µ–Ω—Ç:**
   - `modules/kanban/components/KanbanBoard.tsx` ‚Äî –≥–¥–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∫–ª–∏–∫ –∏ –æ—Ç–∫—Ä—ã—Ç–∏–µ Sheet
   - `modules/kanban/components/KanbanCard.tsx` ‚Äî –∫–∞—Ä—Ç–æ—á–∫–∞ —Å onClick

4. **ThemeProvider:**
   - `app/layout.tsx` ‚Äî –≥–¥–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è ThemeProvider
   - `components/theme-provider.tsx` ‚Äî –ø—Ä–æ–≤–∞–π–¥–µ—Ä —Ç–µ–º—ã

**–î–ª—è –ø–æ–∏—Å–∫–∞ –ø—Ä–æ–±–ª–µ–º–Ω–æ–≥–æ –∫–æ–¥–∞:**

```bash
# –ù–∞–π—Ç–∏ –≤—Å–µ —Ñ–∞–π–ª—ã —Å Sheet –≤ Kanban –º–æ–¥—É–ª–µ
grep -r "SheetContent" modules/kanban/

# –ù–∞–π—Ç–∏ —Ö–∞—Ä–¥–∫–æ–¥ –∫–ª–∞—Å—Å–∞ dark
grep -r "className.*dark" modules/kanban/

# –ù–∞–π—Ç–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ bg-slate-
grep -r "bg-slate-" modules/kanban/
```

#### –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ—à–µ–Ω–∏—è

**‚ùå –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:**
- –û—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å ‚Äî –Ω–∞—Ä—É—à–∞–µ—Ç UX –∏ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å
- –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å —Å–≤–µ—Ç–ª—É—é —Ç–µ–º—É ‚Äî –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ö–∞—Ä–¥–∫–æ–¥ –¥–ª—è —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º—ã ‚Äî –Ω–µ —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É, —Ç–æ–ª—å–∫–æ –∏–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –µ—ë

**‚úÖ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:**

---

**–í–∞—Ä–∏–∞–Ω—Ç 1: –£–¥–∞–ª–∏—Ç—å —Ö–∞—Ä–¥–∫–æ–¥ —Ç—ë–º–Ω–æ–π —Ç–µ–º—ã –∏–∑ Sheet (–±—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ) ‚≠ê**

–ù–∞–π—Ç–∏ –∏ —É–¥–∞–ª–∏—Ç—å —è–≤–Ω–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ç—ë–º–Ω–æ–π —Ç–µ–º—ã –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ Sheet:

```typescript
// modules/kanban/components/TaskSheet.tsx (–∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π)

// ‚ùå –£–î–ê–õ–ò–¢–¨ —Ö–∞—Ä–¥–∫–æ–¥ —Ç—ë–º–Ω–æ–π —Ç–µ–º—ã:
<SheetContent className="dark bg-slate-900 text-white">
  {/* –ö–æ–Ω—Ç–µ–Ω—Ç */}
</SheetContent>

// ‚úÖ –ó–ê–ú–ï–ù–ò–¢–¨ –Ω–∞ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —Ç–µ–º—ã:
<SheetContent className="bg-background text-foreground">
  {/* –ö–æ–Ω—Ç–µ–Ω—Ç */}
</SheetContent>
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:**
- `bg-background` ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `--background` –∏–∑ —Ç–µ–∫—É—â–µ–π —Ç–µ–º—ã
- `text-foreground` ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `--foreground` –∏–∑ —Ç–µ–∫—É—â–µ–π —Ç–µ–º—ã
- –¢–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ Next-themes

**–ü–ª—é—Å—ã:**
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (1-2 —Å—Ç—Ä–æ–∫–∏)
- ‚úÖ Sheet –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –ø–æ–¥ —Ç–µ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –ï—Å–ª–∏ –¥–∏–∑–∞–π–Ω —Ç—Ä–µ–±—É–µ—Ç —Ç—ë–º–Ω—É—é —Ç–µ–º—É –≤ Sheet ‚Äî –Ω—É–∂–µ–Ω –¥—Ä—É–≥–æ–π –ø–æ–¥—Ö–æ–¥ (—Å–º. –í–∞—Ä–∏–∞–Ω—Ç 3)

---

**–í–∞—Ä–∏–∞–Ω—Ç 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å Portal –∫–æ–Ω—Ç–µ–∫—Å—Ç (–µ—Å–ª–∏ Sheet –≤–Ω–µ ThemeProvider)**

–ï—Å–ª–∏ Sheet —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è —á–µ—Ä–µ–∑ Portal –≤–Ω–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Ç–µ–º—ã, –æ–±–µ—Ä–Ω—É—Ç—å Portal –≤ ThemeProvider:

```typescript
// components/ui/sheet.tsx

import { ThemeProvider, useTheme } from 'next-themes'

function SheetContent({ children, ...props }) {
  const { theme } = useTheme() // –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â—É—é —Ç–µ–º—É

  return (
    <SheetPrimitive.Content {...props}>
      {/* –ü–µ—Ä–µ–¥–∞—ë–º —Ç–µ–º—É –≤ Portal */}
      <div data-theme={theme}>
        {children}
      </div>
    </SheetPrimitive.Content>
  )
}
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –†–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É –Ω–∞ —É—Ä–æ–≤–Ω–µ –±–∞–∑–æ–≤–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- ‚úÖ –í—Å–µ Sheet –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø—Ä–∞–≤—è—Ç—Å—è
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —Ç–µ–º—ã

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –¢—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –±–∞–∑–æ–≤–æ–≥–æ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- ‚ùå –ú–æ–∂–µ—Ç –∑–∞—Ç—Ä–æ–Ω—É—Ç—å –¥—Ä—É–≥–∏–µ Sheet –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ (–Ω—É–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)

---

**–í–∞—Ä–∏–∞–Ω—Ç 3: –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è —Å–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞ –≤ Sheet (–µ—Å–ª–∏ –¥–∏–∑–∞–π–Ω —Ç—Ä–µ–±—É–µ—Ç —Ç—ë–º–Ω—É—é)**

–ï—Å–ª–∏ –ø–æ –¥–∏–∑–∞–π–Ω—É Sheet **–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ç—ë–º–Ω—ã–º** –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ç–µ–º—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å data-–∞—Ç—Ä–∏–±—É—Ç:

```typescript
// modules/kanban/components/TaskSheet.tsx

<Sheet>
  <SheetContent
    className="bg-background text-foreground"
    data-theme="dark"  // ‚Üê –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è —Ç—ë–º–Ω–∞—è —Ç–µ–º–∞ –¥–ª—è Sheet
  >
    {/* –ö–æ–Ω—Ç–µ–Ω—Ç */}
  </SheetContent>
</Sheet>
```

**CSS:**
```css
/* components/ui/sheet.css –∏–ª–∏ globals.css */

[data-theme="dark"] {
  --background: 222.2 84% 4.9%;    /* –¢—ë–º–Ω—ã–π —Ñ–æ–Ω */
  --foreground: 210 40% 98%;       /* –°–≤–µ—Ç–ª—ã–π —Ç–µ–∫—Å—Ç */
  /* ... –¥—Ä—É–≥–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç—ë–º–Ω–æ–π —Ç–µ–º—ã */
}
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –Ø–≤–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ —Ç–µ–º–æ–π Sheet
- ‚úÖ –ù–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≥–ª–æ–±–∞–ª—å–Ω–æ–π —Ç–µ–º—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- ‚úÖ –ü–æ–¥—Ö–æ–¥–∏—Ç, –µ—Å–ª–∏ –¥–∏–∑–∞–π–Ω —Ç—Ä–µ–±—É–µ—Ç –≤—Å–µ–≥–¥–∞ —Ç—ë–º–Ω—ã–π Sheet

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –ù–∞—Ä—É—à–∞–µ—Ç –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å (Sheet –≤—Å–µ–≥–¥–∞ —Ç—ë–º–Ω—ã–π, –¥–∞–∂–µ –≤ —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–µ)
- ‚ùå –ü–ª–æ—Ö–æ–π UX ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–∂–∏–¥–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Ç–µ–º–µ

---

**–í–∞—Ä–∏–∞–Ω—Ç 4: –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ç–µ–º—ã –≤ Sheet (—Å–ª–æ–∂–Ω–æ, –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**

–î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ç–µ–º—ã –≤–Ω—É—Ç—Ä–∏ Sheet:

```typescript
<Sheet>
  <SheetContent>
    <div className="flex justify-between items-center mb-4">
      <h2>–î–µ—Ç–∞–ª–∏ –∑–∞–¥–∞—á–∏</h2>
      <ThemeToggle />  {/* –ö–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ç–µ–º—ã */}
    </div>
    {/* –ö–æ–Ω—Ç–µ–Ω—Ç */}
  </SheetContent>
</Sheet>
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Ç—å —Ç–µ–º—É Sheet

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –ò–∑–±—ã—Ç–æ—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å (over-engineering)
- ‚ùå –ü—É—Ç–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–¥–≤–µ –∫–Ω–æ–ø–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ç–µ–º—ã)
- ‚ùå –£—Å–ª–æ–∂–Ω—è–µ—Ç UI

---

#### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π

**–®–∞–≥ 1: –ù–∞–π—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç Sheet —Å –¥–µ—Ç–∞–ª—è–º–∏ –∑–∞–¥–∞—á–∏**

1. –û—Ç–∫—Ä—ã—Ç—å Kanban Board –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –û—Ç–∫—Ä—ã—Ç—å DevTools ‚Üí Elements
3. –ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É –∑–∞–¥–∞—á–∏
4. –í DevTools –Ω–∞–π—Ç–∏ —ç–ª–µ–º–µ–Ω—Ç `<div role="dialog">` –∏–ª–∏ `data-radix-sheet-content`
5. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–∞–∫–∏–µ –∫–ª–∞—Å—Å—ã –ø—Ä–∏–º–µ–Ω–µ–Ω—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, `dark`, `bg-slate-900`)

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ ‚Äî —á–µ—Ä–µ–∑ –ø–æ–∏—Å–∫ –≤ –∫–æ–¥–µ:**

```bash
# –ù–∞–π—Ç–∏ —Ñ–∞–π–ª—ã —Å Sheet –≤ Kanban
grep -r "SheetContent" modules/kanban/

# –ù–∞–π—Ç–∏ —Ñ–∞–π–ª—ã —Å Sheet –≤ Tasks
grep -r "SheetContent" modules/tasks/

# –ù–∞–π—Ç–∏ —Ö–∞—Ä–¥–∫–æ–¥ dark
grep -r "className.*dark.*bg-" modules/
```

**–®–∞–≥ 2: –£–¥–∞–ª–∏—Ç—å —Ö–∞—Ä–¥–∫–æ–¥ —Ç—ë–º–Ω–æ–π —Ç–µ–º—ã**

1. –û—Ç–∫—Ä—ã—Ç—å –Ω–∞–π–¥–µ–Ω–Ω—ã–π —Ñ–∞–π–ª (–Ω–∞–ø—Ä–∏–º–µ—Ä, `modules/kanban/components/TaskSheet.tsx`)
2. –ù–∞–π—Ç–∏ `<SheetContent>` —Å –∫–ª–∞—Å—Å–∞–º–∏ `dark`, `bg-slate-*`, `text-white`
3. –ó–∞–º–µ–Ω–∏—Ç—å –Ω–∞ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
   ```typescript
   // ‚ùå –ë—ã–ª–æ:
   <SheetContent className="dark bg-slate-900 text-white">

   // ‚úÖ –°—Ç–∞–ª–æ:
   <SheetContent className="bg-background text-foreground">
   ```
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ñ–∞–π–ª

**–®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥—Ä—É–≥–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã –≤–Ω—É—Ç—Ä–∏ Sheet**

–£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ –¥–æ—á–µ—Ä–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Ç–∞–∫–∂–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ–º—ã:

```typescript
// ‚ùå –ò–∑–±–µ–≥–∞–π —Ö–∞—Ä–¥–∫–æ–¥–∞ —Ü–≤–µ—Ç–æ–≤:
<div className="bg-gray-800 text-gray-100">

// ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ–º—ã:
<div className="bg-card text-card-foreground">
<div className="bg-muted text-muted-foreground">
<div className="border-border">
```

**–®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç**

1. **–í —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–µ:**
   - –û—Ç–∫—Ä—ã—Ç—å `/tasks` ‚Üí Kanban
   - –ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É
   - **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** Sheet –≤ —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–µ (–±–µ–ª—ã–π —Ñ–æ–Ω, —Ç—ë–º–Ω—ã–π —Ç–µ–∫—Å—Ç)

2. **–í —Ç—ë–º–Ω–æ–π —Ç–µ–º–µ:**
   - –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ —Ç—ë–º–Ω—É—é —Ç–µ–º—É
   - –û—Ç–∫—Ä—ã—Ç—å —Ç—É –∂–µ –∑–∞–¥–∞—á—É
   - **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** Sheet –≤ —Ç—ë–º–Ω–æ–π —Ç–µ–º–µ (—Ç—ë–º–Ω—ã–π —Ñ–æ–Ω, —Å–≤–µ—Ç–ª—ã–π —Ç–µ–∫—Å—Ç)

**–®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å edge cases**

- ‚úÖ Sheet –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ —Ç–µ–º—ã **–≤–æ –≤—Ä–µ–º—è** –æ—Ç–∫—Ä—ã—Ç–æ–≥–æ Sheet
- ‚úÖ –í—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –≤–Ω—É—Ç—Ä–∏ Sheet (–∫–Ω–æ–ø–∫–∏, –∏–Ω–ø—É—Ç—ã, –∫–∞—Ä—Ç–æ—á–∫–∏) —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ç–µ–º–µ
- ‚úÖ –ì—Ä–∞–Ω–∏—Ü—ã –∏ —Ç–µ–Ω–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã –≤ –æ–±–µ–∏—Ö —Ç–µ–º–∞—Ö
- ‚úÖ –î—Ä—É–≥–∏–µ Sheet –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å) –Ω–µ —Å–ª–æ–º–∞–ª–∏—Å—å

**–®–∞–≥ 6: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (–µ—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –æ—Å—Ç–∞–ª–∞—Å—å)**

–ï—Å–ª–∏ Sheet –≤—Å—ë –µ—â—ë —Ç—ë–º–Ω—ã–π, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ `globals.css`:

```css
/* app/globals.css */

:root {
  --background: 0 0% 100%;        /* –°–≤–µ—Ç–ª—ã–π —Ñ–æ–Ω */
  --foreground: 222.2 84% 4.9%;   /* –¢—ë–º–Ω—ã–π —Ç–µ–∫—Å—Ç */
  /* ... */
}

.dark {
  --background: 222.2 84% 4.9%;   /* –¢—ë–º–Ω—ã–π —Ñ–æ–Ω */
  --foreground: 210 40% 98%;      /* –°–≤–µ—Ç–ª—ã–π —Ç–µ–∫—Å—Ç */
  /* ... */
}
```

–£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ:
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ `--background` –∏ `--foreground` –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
- –ö–ª–∞—Å—Å `.dark` –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ `<html>` –∏–ª–∏ `<body>` —á–µ—Ä–µ–∑ Next-themes
- Sheet –Ω–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —ç—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

#### –í—ã–≤–æ–¥—ã

- **–í–∏–∑—É–∞–ª—å–Ω—ã–π –¥–∏—Å—Å–æ–Ω–∞–Ω—Å** ‚Äî Sheet –≤ —Ç—ë–º–Ω–æ–π —Ç–µ–º–µ –ø—Ä–∏ —Å–≤–µ—Ç–ª–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
- **Root cause** ‚Äî —Ö–∞—Ä–¥–∫–æ–¥ —Ç—ë–º–Ω–æ–π —Ç–µ–º—ã –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ Sheet –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Å –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ–º —Ç–µ–º—ã
- **–ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ** ‚Äî —É–¥–∞–ª–∏—Ç—å —Ö–∞—Ä–¥–∫–æ–¥, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (`bg-background`, `text-foreground`)
- **–†–µ–∑—É–ª—å—Ç–∞—Ç** ‚Äî Sheet –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –ø–æ–¥ —Ç–µ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–û–±—â–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:**
- **–ù–∏–∫–æ–≥–¥–∞ –Ω–µ —Ö–∞—Ä–¥–∫–æ–¥—å** –∫–ª–∞—Å—Å—ã `dark` –∏–ª–∏ —Ü–≤–µ—Ç–∞ —Ç–∏–ø–∞ `bg-slate-900` –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
- –ò—Å–ø–æ–ª—å–∑—É–π **CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ–º—ã** –∏–∑ Tailwind: `bg-background`, `text-foreground`, `border-border`
- –£–±–µ–¥–∏—Å—å, —á—Ç–æ **Portal-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã** (Sheet, Dialog, Popover) –Ω–∞—Å–ª–µ–¥—É—é—Ç —Ç–µ–º—É
- –ü—Ä–æ–≤–µ—Ä—è–π **–æ–±–∞ —Ä–µ–∂–∏–º–∞ —Ç–µ–º—ã** –ø—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

---

### üéØ –ë–ê–ì #6: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ–π—Ç–∏ –≤–Ω—É—Ç—Ä—å —ç—Ç–∞–ø–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á

**–î–∞—Ç–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è:** 2025-12-29

**–õ–æ–∫–∞—Ü–∏—è:** `/tasks` ‚Üí –≤–∫–ª–∞–¥–∫–∞ "–ö–∞–Ω–±–∞–Ω" ‚Üí –∫–∞—Ä—Ç–æ—á–∫–∏ —ç—Ç–∞–ø–æ–≤

#### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

–í —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ Kanban Board **–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –≤–Ω—É—Ç—Ä—å —ç—Ç–∞–ø–∞** –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å–ø–∏—Å–∫–∞ –∑–∞–¥–∞—á –∏ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –∫–∞—Ä—Ç–æ—á–∫–∏ —ç—Ç–∞–ø–æ–≤ (sections), –Ω–æ **–Ω–µ –º–æ–∂–µ—Ç "–æ—Ç–∫—Ä—ã—Ç—å" —ç—Ç–∞–ø**, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –µ–≥–æ –∑–∞–¥–∞—á–∏ –∏ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ.

**–¢–µ–∫—É—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- Kanban Board –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–∞—Ä—Ç–æ—á–∫–∏ **—ç—Ç–∞–ø–æ–≤** (sections), –∞ –Ω–µ –∑–∞–¥–∞—á (tasks)
- –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –Ω–∞–∑–≤–∞–Ω–∏–µ —ç—Ç–∞–ø–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è Sheet —Å **–¥–µ—Ç–∞–ª—è–º–∏ —ç—Ç–∞–ø–∞** (–º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ, —Å—Ç–∞—Ç—É—Å, –ø—Ä–æ–≥—Ä–µ—Å—Å)
- **–ù–µ—Ç –∫–Ω–æ–ø–∫–∏** "–û—Ç–∫—Ä—ã—Ç—å —ç—Ç–∞–ø" / "–ü–µ—Ä–µ–π—Ç–∏ –∫ –∑–∞–¥–∞—á–∞–º"
- **–ù–µ—Ç –º–∞—Ä—à—Ä—É—Ç–∞** `/tasks/[stageId]` –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —ç—Ç–∞–ø–∞ —Å –µ–≥–æ –∑–∞–¥–∞—á–∞–º–∏
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —Ç–æ–ª—å–∫–æ **–ø–µ—Ä–µ–º–µ—â–∞—Ç—å —ç—Ç–∞–ø—ã** –º–µ–∂–¥—É —Å—Ç–∞—Ç—É—Å–∞–º–∏, –Ω–æ –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∑–∞–¥–∞—á–∞–º–∏ –≤–Ω—É—Ç—Ä–∏

**–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∫–ª–∏–∫–∞–µ—Ç –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É —ç—Ç–∞–ø–∞ (–∏–ª–∏ –Ω–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é –∫–Ω–æ–ø–∫—É "–û—Ç–∫—Ä—ã—Ç—å")
2. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è **–¥–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —ç—Ç–∞–ø–∞** (–∏–ª–∏ Sheet —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º)
3. –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è:
   - –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —ç—Ç–∞–ø–∞ (–Ω–∞–∑–≤–∞–Ω–∏–µ, —Å—Ç–∞—Ç—É—Å, –ø—Ä–æ–≥—Ä–µ—Å—Å, CPI, —á–∞—Å—ã)
   - **–°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á** –≤–Ω—É—Ç—Ä–∏ —ç—Ç–∞–ø–∞ (task list)
   - **–ö–Ω–æ–ø–∫–∞ "–°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É"** –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á
   - –§–∏–ª—å—Ç—Ä—ã –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∑–∞–¥–∞—á
4. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å, —É–¥–∞–ª—è—Ç—å –∑–∞–¥–∞—á–∏ –≤–Ω—É—Ç—Ä–∏ —ç—Ç–∞–ø–∞

**–ì–¥–µ –ø—Ä–æ—è–≤–ª—è–µ—Ç—Å—è:**
- –í—Å–µ –∫–∞—Ä—Ç–æ—á–∫–∏ —ç—Ç–∞–ø–æ–≤ –≤ Kanban Board
- –ú–æ–¥–∞–ª—å–Ω–∞—è –ø–∞–Ω–µ–ª—å (Sheet) —Å –¥–µ—Ç–∞–ª—è–º–∏ —ç—Ç–∞–ø–∞

**–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ:**
1. –û—Ç–∫—Ä—ã—Ç—å `/tasks` ‚Üí –≤–∫–ª–∞–¥–∫–∞ "–ö–∞–Ω–±–∞–Ω"
2. –ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ –ª—é–±—É—é –∫–∞—Ä—Ç–æ—á–∫—É —ç—Ç–∞–ø–∞
3. **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è Sheet —Å –¥–µ—Ç–∞–ª—è–º–∏ —ç—Ç–∞–ø–∞, –Ω–æ –Ω–µ—Ç –∫–Ω–æ–ø–∫–∏ "–ü–µ—Ä–µ–π—Ç–∏ –∫ –∑–∞–¥–∞—á–∞–º" –∏–ª–∏ —Å–ø–∏—Å–∫–∞ –∑–∞–¥–∞—á

#### –ü—Ä–∏—á–∏–Ω–∞

**Root cause:** –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –≤ –¥–µ—Ç–∞–ª—å–Ω—ã–π –≤–∏–¥ —ç—Ç–∞–ø–∞ **–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞** (–∏–ª–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —á–∞—Å—Ç–∏—á–Ω–æ).

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**

1. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞ –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã —ç—Ç–∞–ø–∞**
   - –ù–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç `app/tasks/[stageId]/page.tsx` –∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–≥–æ —Ä–æ—É—Ç–∞
   - –ù–∞–≤–∏–≥–∞—Ü–∏—è –Ω–∞ –¥–µ—Ç–∞–ª—å–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –Ω–µ –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω–∞ –≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ

2. **Sheet –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —ç—Ç–∞–ø–∞**
   - `TaskSheet.tsx` (–∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç) —Ä–µ–Ω–¥–µ—Ä–∏—Ç —Ç–æ–ª—å–∫–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —ç—Ç–∞–ø–µ
   - –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Ä–µ–Ω–¥–µ—Ä —Å–ø–∏—Å–∫–∞ –∑–∞–¥–∞—á –≤–Ω—É—Ç—Ä–∏ Sheet
   - –ù–µ—Ç –∫–Ω–æ–ø–∫–∏ "–û—Ç–∫—Ä—ã—Ç—å –∑–∞–¥–∞—á–∏" –∏–ª–∏ "–ü–µ—Ä–µ–π—Ç–∏ –∫ –∑–∞–¥–∞—á–∞–º"

3. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∑–∞–¥–∞—á —ç—Ç–∞–ø–∞**
   - Server Action –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∑–∞–¥–∞—á –ø–æ `stageId` –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
   - –ò–ª–∏ API —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ UI

4. **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ ‚Äî –æ—Ç–∫–∞–∑ –æ—Ç –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –≤–∏–¥–∞**
   - –í–æ–∑–º–æ–∂–Ω–æ, –¥–∏–∑–∞–π–Ω –ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞–µ—Ç —Ä–∞–±–æ—Ç—É —Ç–æ–ª—å–∫–æ –Ω–∞ —É—Ä–æ–≤–Ω–µ —ç—Ç–∞–ø–æ–≤ (–±–µ–∑ –∑–∞–¥–∞—á)
   - –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –¥—Ä—É–≥–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–Ω–µ —á–µ—Ä–µ–∑ Kanban)

#### –õ–æ–∫–∞—Ü–∏—è –∫–æ–¥–∞

**–§–∞–π–ª—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:**

1. **Kanban Board –∫–æ–º–ø–æ–Ω–µ–Ω—Ç:**
   - [modules/kanban/components/KanbanBoard.tsx](../modules/kanban/components/KanbanBoard.tsx) ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å —ç—Ç–∞–ø–∞–º–∏
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å: –µ—Å—Ç—å –ª–∏ onClick handler –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –≤ –¥–µ—Ç–∞–ª—å–Ω—ã–π –≤–∏–¥

2. **Kanban Card –∫–æ–º–ø–æ–Ω–µ–Ω—Ç:**
   - [modules/kanban/components/KanbanCard.tsx](../modules/kanban/components/KanbanCard.tsx) ‚Äî –∫–∞—Ä—Ç–æ—á–∫–∞ —ç—Ç–∞–ø–∞
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å: –≥–¥–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∫–ª–∏–∫ –Ω–∞ –Ω–∞–∑–≤–∞–Ω–∏–µ, –∫—É–¥–∞ –≤–µ–¥—ë—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏—è

3. **Sheet –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å –¥–µ—Ç–∞–ª—è–º–∏ —ç—Ç–∞–ø–∞:**
   - –ù–∞–π—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–ª–∏–∫–µ (–≤–µ—Ä–æ—è—Ç–Ω–æ `TaskSheet.tsx` –∏–ª–∏ `SectionSheet.tsx`)
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å: —á—Ç–æ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ Sheet, –µ—Å—Ç—å –ª–∏ —Å–µ–∫—Ü–∏—è —Å –∑–∞–¥–∞—á–∞–º–∏

4. **API/Actions:**
   - `modules/kanban/actions/index.ts` ‚Äî Server Actions
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å: –µ—Å—Ç—å –ª–∏ —Ñ—É–Ω–∫—Ü–∏—è `getTasksByStage(stageId)` –∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞—è

5. **–ú–∞—Ä—à—Ä—É—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:**
   - `app/tasks/` ‚Äî –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å –º–∞—Ä—à—Ä—É—Ç–∞–º–∏ –º–æ–¥—É–ª—è Tasks
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å: —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ `app/tasks/[stageId]/page.tsx`

**–î–ª—è –ø–æ–∏—Å–∫–∞:**

```bash
# –ù–∞–π—Ç–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É
grep -r "onClick.*section" modules/kanban/

# –ù–∞–π—Ç–∏ Sheet –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
grep -r "Sheet.*open" modules/kanban/

# –ù–∞–π—Ç–∏ API –¥–ª—è –∑–∞–¥–∞—á
grep -r "getTasksByStage\|getTasks\|fetchTasks" modules/kanban/actions/

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ —Ä–æ—É—Ç–∞
ls -la app/tasks/
```

#### –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ—à–µ–Ω–∏—è

**‚ùå –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:**
- –û—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞–¥–∞—á–∏ —á–µ—Ä–µ–∑ Kanban
- –†–µ–¥–∏—Ä–µ–∫—Ç–∏—Ç—å –Ω–∞ –¥—Ä—É–≥–æ–π –º–æ–¥—É–ª—å ‚Äî –Ω–∞—Ä—É—à–∞–µ—Ç UX (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ö–æ—á–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤ Kanban)

**‚úÖ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:**

---

**–í–∞—Ä–∏–∞–Ω—Ç 1: –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É "–û—Ç–∫—Ä—ã—Ç—å –∑–∞–¥–∞—á–∏" –≤ Sheet (–±—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ) ‚≠ê**

–î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É –≤–Ω—É—Ç—Ä–∏ Sheet, –∫–æ—Ç–æ—Ä–∞—è –≤–µ–¥—ë—Ç –Ω–∞ –¥–µ—Ç–∞–ª—å–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É —ç—Ç–∞–ø–∞:

```typescript
// modules/kanban/components/SectionSheet.tsx (–∏–ª–∏ TaskSheet.tsx)

import { useRouter } from 'next/navigation'
import { Button } from '@/components/ui/button'

export function SectionSheet({ section, open, onOpenChange }) {
  const router = useRouter()

  const handleOpenTasks = () => {
    // –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –¥–µ—Ç–∞–ª—å–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É —ç—Ç–∞–ø–∞
    router.push(`/tasks/${section.id}`)
  }

  return (
    <Sheet open={open} onOpenChange={onOpenChange}>
      <SheetContent>
        <SheetHeader>
          <SheetTitle>{section.name}</SheetTitle>
        </SheetHeader>

        {/* –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —ç—Ç–∞–ø–∞ */}
        <div className="space-y-4">
          <div>–°—Ç–∞—Ç—É—Å: {section.status}</div>
          <div>–ü—Ä–æ–≥—Ä–µ—Å—Å: {section.progress}%</div>
          {/* ... –¥—Ä—É–≥–∏–µ –¥–∞–Ω–Ω—ã–µ */}
        </div>

        {/* –ö–Ω–æ–ø–∫–∞ –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ */}
        <div className="mt-6">
          <Button onClick={handleOpenTasks} className="w-full">
            –û—Ç–∫—Ä—ã—Ç—å –∑–∞–¥–∞—á–∏ —ç—Ç–∞–ø–∞ ‚Üí
          </Button>
        </div>
      </SheetContent>
    </Sheet>
  )
}
```

**–ó–∞—Ç–µ–º —Å–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É:**

```typescript
// app/tasks/[stageId]/page.tsx

import { getTasksByStage } from '@/modules/kanban/actions'
import { TaskList } from '@/modules/kanban/components/TaskList'
import { CreateTaskButton } from '@/modules/kanban/components/CreateTaskButton'

export default async function StagePage({ params }: { params: { stageId: string } }) {
  const tasks = await getTasksByStage(params.stageId)

  return (
    <div className="container py-6">
      <div className="flex justify-between items-center mb-6">
        <h1 className="text-2xl font-bold">–ó–∞–¥–∞—á–∏ —ç—Ç–∞–ø–∞</h1>
        <CreateTaskButton stageId={params.stageId} />
      </div>

      <TaskList tasks={tasks} />
    </div>
  )
}
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –ë—ã—Å—Ç—Ä–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (–¥–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É + —Å–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É)
- ‚úÖ –ù–µ –º–µ–Ω—è–µ—Ç —Ç–µ–∫—É—â–∏–π UI Kanban
- ‚úÖ –î–∞—ë—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —è–≤–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π
- ‚úÖ –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å breadcrumbs –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –Ω–∞ Kanban

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∫–ª–∏–∫ (–æ—Ç–∫—Ä—ã—Ç—å Sheet ‚Üí –∫–ª–∏–∫–Ω—É—Ç—å –∫–Ω–æ–ø–∫—É)
- ‚ùå –¢—Ä–µ–±—É–µ—Ç —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å routing –Ω–∞—Å—Ç—Ä–æ–π–∫–∏)

---

**–í–∞—Ä–∏–∞–Ω—Ç 2: –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á –ø—Ä—è–º–æ –≤ Sheet (—Å—Ä–µ–¥–Ω—è—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å)**

–†–∞—Å—à–∏—Ä–∏—Ç—å Sheet, —á—Ç–æ–±—ã –æ–Ω –ø–æ–∫–∞–∑—ã–≤–∞–ª –Ω–µ —Ç–æ–ª—å–∫–æ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ, –Ω–æ –∏ —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á:

```typescript
// modules/kanban/components/SectionSheet.tsx

import { useQuery } from '@tanstack/react-query'
import { getTasksByStage } from '@/modules/kanban/actions'
import { TaskItem } from './TaskItem'
import { CreateTaskButton } from './CreateTaskButton'

export function SectionSheet({ section, open, onOpenChange }) {
  const { data: tasks } = useQuery({
    queryKey: ['tasks', section.id],
    queryFn: () => getTasksByStage(section.id),
    enabled: open, // –ó–∞–≥—Ä—É–∂–∞—Ç—å —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ Sheet –æ—Ç–∫—Ä—ã—Ç
  })

  return (
    <Sheet open={open} onOpenChange={onOpenChange}>
      <SheetContent className="w-full sm:max-w-2xl">
        <SheetHeader>
          <SheetTitle>{section.name}</SheetTitle>
        </SheetHeader>

        {/* –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —ç—Ç–∞–ø–∞ */}
        <div className="space-y-2 mb-6">
          <div>–°—Ç–∞—Ç—É—Å: {section.status}</div>
          <div>–ü—Ä–æ–≥—Ä–µ—Å—Å: {section.progress}%</div>
        </div>

        {/* –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á */}
        <div className="space-y-4">
          <div className="flex justify-between items-center">
            <h3 className="text-lg font-semibold">–ó–∞–¥–∞—á–∏ ({tasks?.length || 0})</h3>
            <CreateTaskButton stageId={section.id} />
          </div>

          <div className="space-y-2">
            {tasks?.map(task => (
              <TaskItem key={task.id} task={task} />
            ))}
          </div>
        </div>
      </SheetContent>
    </Sheet>
  )
}
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –í–µ—Å—å –∫–æ–Ω—Ç–µ–Ω—Ç –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ (–Ω–µ –Ω—É–∂–Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞)
- ‚úÖ –ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ –∑–∞–¥–∞—á–∞–º (–æ–¥–∏–Ω –∫–ª–∏–∫ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É)
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç —Ä–æ—É—Ç–∏–Ω–≥–∞

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå Sheet –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω (–º–Ω–æ–≥–æ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –æ–¥–Ω–æ–º —ç–∫—Ä–∞–Ω–µ)
- ‚ùå –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ (—Å–ª–æ–∂–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –±–æ–ª—å—à–∏–µ —Å–ø–∏—Å–∫–∏ –∑–∞–¥–∞—á)
- ‚ùå –ú–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω—ã–º –ø—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –∑–∞–¥–∞—á

---

**–í–∞—Ä–∏–∞–Ω—Ç 3: –°–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—É—é –¥–µ—Ç–∞–ª—å–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É —ç—Ç–∞–ø–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è) ‚≠ê**

–°–æ–∑–¥–∞—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∑–∞–¥–∞—á–∞–º–∏ —ç—Ç–∞–ø–∞:

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```
app/
‚îî‚îÄ‚îÄ tasks/
    ‚îú‚îÄ‚îÄ page.tsx           ‚Üê Kanban Board (—Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
    ‚îî‚îÄ‚îÄ [stageId]/
        ‚îú‚îÄ‚îÄ page.tsx       ‚Üê –î–µ—Ç–∞–ª—å–Ω—ã–π –≤–∏–¥ —ç—Ç–∞–ø–∞ —Å –∑–∞–¥–∞—á–∞–º–∏
        ‚îî‚îÄ‚îÄ layout.tsx     ‚Üê Breadcrumbs, –Ω–∞–≤–∏–≥–∞—Ü–∏—è
```

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**

```typescript
// app/tasks/[stageId]/page.tsx

import { getStage, getTasksByStage } from '@/modules/kanban/actions'
import { notFound } from 'next/navigation'
import { TaskTable } from '@/modules/kanban/components/TaskTable'
import { CreateTaskDialog } from '@/modules/kanban/components/CreateTaskDialog'
import { StageMetrics } from '@/modules/kanban/components/StageMetrics'

export default async function StagePage({ params }: { params: { stageId: string } }) {
  const [stage, tasks] = await Promise.all([
    getStage(params.stageId),
    getTasksByStage(params.stageId),
  ])

  if (!stage) {
    notFound()
  }

  return (
    <div className="container py-6 space-y-6">
      {/* Breadcrumbs */}
      <div className="text-sm text-muted-foreground">
        <Link href="/tasks">–ö–∞–Ω–±–∞–Ω</Link> / {stage.name}
      </div>

      {/* –ó–∞–≥–æ–ª–æ–≤–æ–∫ */}
      <div className="flex justify-between items-center">
        <div>
          <h1 className="text-3xl font-bold">{stage.name}</h1>
          <p className="text-muted-foreground">{stage.project_name}</p>
        </div>
        <CreateTaskDialog stageId={params.stageId} />
      </div>

      {/* –ú–µ—Ç—Ä–∏–∫–∏ —ç—Ç–∞–ø–∞ */}
      <StageMetrics stage={stage} />

      {/* –¢–∞–±–ª–∏—Ü–∞ –∑–∞–¥–∞—á */}
      <TaskTable tasks={tasks} />
    </div>
  )
}
```

```typescript
// app/tasks/[stageId]/layout.tsx

export default function StageLayout({ children }: { children: React.ReactNode }) {
  return (
    <div className="min-h-screen">
      {children}
    </div>
  )
}
```

**–ù–∞–≤–∏–≥–∞—Ü–∏—è –∏–∑ Kanban Card:**

```typescript
// modules/kanban/components/KanbanCard.tsx

import Link from 'next/link'

export function KanbanCard({ section }) {
  return (
    <div className="card">
      {/* –ö–ª–∏–∫ –Ω–∞ –Ω–∞–∑–≤–∞–Ω–∏–µ ‚Üí –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –¥–µ—Ç–∞–ª—å–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É */}
      <Link href={`/tasks/${section.id}`}>
        <h3 className="font-semibold hover:underline">
          {section.name}
        </h3>
      </Link>

      {/* –û—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç –∫–∞—Ä—Ç–æ—á–∫–∏ */}
      {/* ... */}
    </div>
  )
}
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∑–∞–¥–∞—á–∞–º–∏
- ‚úÖ –ú–Ω–æ–≥–æ –º–µ—Å—Ç–∞ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö (—Ñ–∏–ª—å—Ç—Ä—ã, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞, —Ç–∞–±–ª–∏—Ü–∞)
- ‚úÖ URL-based navigation (–º–æ–∂–Ω–æ —à–∞—Ä–∏—Ç—å —Å—Å—ã–ª–∫–∏, –±—É–∫–º–∞—Ä–∫–∏)
- ‚úÖ Breadcrumbs –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –Ω–∞–∑–∞–¥
- ‚úÖ –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤ –∑–∞–¥–∞—á
- ‚úÖ –ú–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Server Components –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –¢—Ä–µ–±—É–µ—Ç –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É
- ‚ùå –ù—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∑–∞–¥–∞—á (–µ—Å–ª–∏ –µ—â—ë –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
- ‚ùå –¢—Ä–µ–±—É–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

---

**–í–∞—Ä–∏–∞–Ω—Ç 4: –î–æ–±–∞–≤–∏—Ç—å –¥–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –∫ –í–∞—Ä–∏–∞–Ω—Ç—É 3)**

–°–¥–µ–ª–∞—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏—é –±–æ–ª–µ–µ –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ–π ‚Äî –¥–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ –ø–æ –∫–∞—Ä—Ç–æ—á–∫–µ:

```typescript
// modules/kanban/components/KanbanCard.tsx

import { useRouter } from 'next/navigation'

export function KanbanCard({ section }) {
  const router = useRouter()

  const handleDoubleClick = () => {
    router.push(`/tasks/${section.id}`)
  }

  return (
    <div
      className="card cursor-pointer"
      onDoubleClick={handleDoubleClick}
      title="–î–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –∑–∞–¥–∞—á"
    >
      {/* –ö–æ–Ω—Ç–µ–Ω—Ç –∫–∞—Ä—Ç–æ—á–∫–∏ */}
    </div>
  )
}
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π UX (–∑–Ω–∞–∫–æ–º–æ –∏–∑ —Ñ–∞–π–ª–æ–≤—ã—Ö –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤)
- ‚úÖ –ù–µ –º–µ–Ω—è–µ—Ç —Ç–µ–∫—É—â—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å (–æ–¥–∏–Ω–∞—Ä–Ω—ã–π –∫–ª–∏–∫ = Sheet)

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –ù–µ –æ—á–µ–≤–∏–¥–µ–Ω –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–Ω—É–∂–Ω–∞ –ø–æ–¥—Å–∫–∞–∑–∫–∞/–æ–Ω–±–æ—Ä–¥–∏–Ω–≥)
- ‚ùå –ú–æ–∂–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤–∞—Ç—å —Å drag & drop

---

#### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π

**–®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É**

1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∑–∞–¥–∞—á:
   ```bash
   grep -r "getTasksByStage\|getTasks" modules/kanban/actions/
   ```

2. –ï—Å–ª–∏ API –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, —Å–æ–∑–¥–∞—Ç—å Server Action:
   ```typescript
   // modules/kanban/actions/index.ts

   export async function getTasksByStage(stageId: string) {
     const supabase = createClient()

     const { data, error } = await supabase
       .from('tasks')
       .select('*')
       .eq('stage_id', stageId)
       .order('created_at', { ascending: false })

     if (error) {
       return { success: false, error: error.message }
     }

     return { success: true, data }
   }
   ```

**–®–∞–≥ 2: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –í–∞—Ä–∏–∞–Ω—Ç 3 (–¥–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞)**

1. –°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –∏ —Ñ–∞–π–ª:
   ```bash
   mkdir -p app/tasks/[stageId]
   touch app/tasks/[stageId]/page.tsx
   ```

2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –∑–∞–¥–∞—á–∞–º–∏ (—Å–º. –∫–æ–¥ –í–∞—Ä–∏–∞–Ω—Ç–∞ 3)

3. –î–æ–±–∞–≤–∏—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏—é –∏–∑ Kanban Card

**–®–∞–≥ 3: –°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã**

1. **TaskTable** ‚Äî —Ç–∞–±–ª–∏—Ü–∞ –∑–∞–¥–∞—á:
   ```typescript
   // modules/kanban/components/TaskTable.tsx

   export function TaskTable({ tasks }) {
     return (
       <div className="border rounded-lg">
         <table className="w-full">
           <thead>
             <tr>
               <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
               <th>–°—Ç–∞—Ç—É—Å</th>
               <th>–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç</th>
               <th>–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å</th>
               <th>–î–µ–π—Å—Ç–≤–∏—è</th>
             </tr>
           </thead>
           <tbody>
             {tasks.map(task => (
               <TaskRow key={task.id} task={task} />
             ))}
           </tbody>
         </table>
       </div>
     )
   }
   ```

2. **CreateTaskDialog** ‚Äî –¥–∏–∞–ª–æ–≥ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á–∏:
   ```typescript
   // modules/kanban/components/CreateTaskDialog.tsx

   import { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from '@/components/ui/dialog'
   import { Button } from '@/components/ui/button'
   import { TaskForm } from './TaskForm'

   export function CreateTaskDialog({ stageId }) {
     const [open, setOpen] = useState(false)

     return (
       <Dialog open={open} onOpenChange={setOpen}>
         <DialogTrigger asChild>
           <Button>+ –°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É</Button>
         </DialogTrigger>
         <DialogContent>
           <DialogHeader>
             <DialogTitle>–ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞</DialogTitle>
           </DialogHeader>
           <TaskForm stageId={stageId} onSuccess={() => setOpen(false)} />
         </DialogContent>
       </Dialog>
     )
   }
   ```

3. **StageMetrics** ‚Äî –º–µ—Ç—Ä–∏–∫–∏ —ç—Ç–∞–ø–∞:
   ```typescript
   // modules/kanban/components/StageMetrics.tsx

   export function StageMetrics({ stage }) {
     return (
       <div className="grid grid-cols-4 gap-4">
         <MetricCard label="–ü—Ä–æ–≥—Ä–µ—Å—Å" value={`${stage.progress}%`} />
         <MetricCard label="CPI" value={stage.cpi} />
         <MetricCard label="–ß–∞—Å—ã" value={stage.hours} />
         <MetricCard label="–°—Ç–∞—Ç—É—Å" value={stage.status} />
       </div>
     )
   }
   ```

**–®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç**

1. –û—Ç–∫—Ä—ã—Ç—å `/tasks` ‚Üí Kanban
2. –ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ –Ω–∞–∑–≤–∞–Ω–∏–µ —ç—Ç–∞–ø–∞
3. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ `/tasks/[stageId]` —Å:
   - –ó–∞–≥–æ–ª–æ–≤–∫–æ–º —ç—Ç–∞–ø–∞
   - –ú–µ—Ç—Ä–∏–∫–∞–º–∏
   - –°–ø–∏—Å–∫–æ–º –∑–∞–¥–∞—á
   - –ö–Ω–æ–ø–∫–æ–π "–°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É"

**–®–∞–≥ 5: –î–æ–±–∞–≤–∏—Ç—å breadcrumbs –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞**

```typescript
// app/tasks/[stageId]/page.tsx

<Breadcrumb>
  <BreadcrumbList>
    <BreadcrumbItem>
      <BreadcrumbLink href="/tasks">–ö–∞–Ω–±–∞–Ω</BreadcrumbLink>
    </BreadcrumbItem>
    <BreadcrumbSeparator />
    <BreadcrumbItem>
      <BreadcrumbPage>{stage.name}</BreadcrumbPage>
    </BreadcrumbItem>
  </BreadcrumbList>
</Breadcrumb>
```

**–®–∞–≥ 6: –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ ‚Äî –¥–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É**

–ï—Å–ª–∏ –∑–∞–¥–∞—á –º–Ω–æ–≥–æ, –¥–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é:

```typescript
// app/tasks/[stageId]/page.tsx

<div className="flex gap-2 mb-4">
  <Select>
    <SelectTrigger>
      <SelectValue placeholder="–°—Ç–∞—Ç—É—Å" />
    </SelectTrigger>
    <SelectContent>
      <SelectItem value="all">–í—Å–µ</SelectItem>
      <SelectItem value="todo">–ö –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é</SelectItem>
      <SelectItem value="in_progress">–í —Ä–∞–±–æ—Ç–µ</SelectItem>
      <SelectItem value="done">–í—ã–ø–æ–ª–Ω–µ–Ω–æ</SelectItem>
    </SelectContent>
  </Select>

  <Input placeholder="–ü–æ–∏—Å–∫..." />
</div>
```

#### –í—ã–≤–æ–¥—ã

- **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –≤ –∑–∞–¥–∞—á–∏** ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞–¥–∞—á–∏ —á–µ—Ä–µ–∑ Kanban
- **Root cause** ‚Äî —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —ç—Ç–∞–ø–∞ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
- **–ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ** ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É –≤ Sheet (–í–∞—Ä–∏–∞–Ω—Ç 1)
- **–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ** ‚Äî —Å–æ–∑–¥–∞—Ç—å –¥–µ—Ç–∞–ª—å–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É `/tasks/[stageId]` (–í–∞—Ä–∏–∞–Ω—Ç 3)
- **–î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ** ‚Äî –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π, –º–µ—Ç—Ä–∏–∫–∞–º–∏

**–û–±—â–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:**
- –í—Å–µ–≥–¥–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–π **—è–≤–Ω—ã–µ —Ç–æ—á–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏** (–∫–Ω–æ–ø–∫–∏, —Å—Å—ã–ª–∫–∏)
- –ò—Å–ø–æ–ª—å–∑—É–π **URL-based navigation** –¥–ª—è —à–∞—Ä–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –±—É–∫–º–∞—Ä–∫–æ–≤
- –î–æ–±–∞–≤–ª—è–π **breadcrumbs** –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –≤–æ–∑–≤—Ä–∞—Ç–∞ –Ω–∞–∑–∞–¥
- –î–ª—è —Å–ø–∏—Å–∫–æ–≤ –∑–∞–¥–∞—á –∏—Å–ø–æ–ª—å–∑—É–π **—Ç–∞–±–ª–∏—Ü—ã** –≤–º–µ—Å—Ç–æ –∫–∞—Ä—Ç–æ—á–µ–∫ (–±–æ–ª–µ–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ)
- –ü—Ä–µ–¥—É—Å–º–æ—Ç—Ä–∏ **—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É** –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤

---

### üñ±Ô∏è –ë–ê–ì #7: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ —Å–∫—Ä–æ–ª–ª–∞ –Ω–∞ Kanban –¥–æ—Å–∫–µ

**–î–∞—Ç–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è:** 2025-12-30

**–õ–æ–∫–∞—Ü–∏—è:** `/tasks` ‚Üí –≤–∫–ª–∞–¥–∫–∞ "–ö–∞–Ω–±–∞–Ω"

#### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

–ù–∞ Kanban –¥–æ—Å–∫–µ **–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª** (horizontal scroll), –∫–æ–≥–¥–∞ –∫–æ–ª–æ–Ω–æ–∫ –±–æ–ª—å—à–µ, —á–µ–º –ø–æ–º–µ—â–∞–µ—Ç—Å—è –Ω–∞ —ç–∫—Ä–∞–Ω–µ. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å **–Ω–µ –º–æ–∂–µ—Ç —É–≤–∏–¥–µ—Ç—å –∫–æ–ª–æ–Ω–∫–∏**, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ –≤–∏–¥–∏–º–æ–π –æ–±–ª–∞—Å—Ç–∏ —ç–∫—Ä–∞–Ω–∞.

**–¢–µ–∫—É—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- Kanban Board –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∫–æ–ª–æ–Ω–∫–∏ —Å—Ç–∞—Ç—É—Å–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä: "–ù–µ –Ω–∞—á–∞—Ç–æ", "–í —Ä–∞–±–æ—Ç–µ", "–ù–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ", "–ó–∞–≤–µ—Ä—à–µ–Ω–æ")
- –ï—Å–ª–∏ –∫–æ–ª–æ–Ω–æ–∫ **–±–æ–ª—å—à–µ, —á–µ–º –≤–ª–µ–∑–∞–µ—Ç** –Ω–∞ —ç–∫—Ä–∞–Ω ‚Üí –ø—Ä–∞–≤—ã–µ –∫–æ–ª–æ–Ω–∫–∏ **–æ–±—Ä–µ–∑–∞—é—Ç—Å—è**
- **–ù–µ—Ç –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞** –¥–ª—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ –≤–ø—Ä–∞–≤–æ/–≤–ª–µ–≤–æ
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å **–Ω–µ –≤–∏–¥–∏—Ç** —Å–∫—Ä—ã—Ç—ã–µ –∫–æ–ª–æ–Ω–∫–∏ –∏ –Ω–µ –º–æ–∂–µ—Ç –∫ –Ω–∏–º –ø—Ä–æ–∫—Ä—É—Ç–∏—Ç—å—Å—è
- –í–æ–∑–º–æ–∂–µ–Ω **–ø–µ—Ä–µ–Ω–æ—Å –∫–æ–ª–æ–Ω–æ–∫ –Ω–∞ –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É** (flex-wrap), —á—Ç–æ –ª–æ–º–∞–µ—Ç UX Kanban

**–ü—Ä–∏–º–µ—Ä –ø—Ä–æ–±–ª–µ–º—ã:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –í–∏–¥–∏–º–∞—è –æ–±–ª–∞—Å—Ç—å —ç–∫—Ä–∞–Ω–∞                          ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ        ‚îÇ ‚Üê –ü–æ—Å–ª–µ–¥–Ω—è—è –∫–æ–ª–æ–Ω–∫–∞ –æ–±—Ä–µ–∑–∞–Ω–∞
‚îÇ ‚îÇ–ù–µ    ‚îÇ ‚îÇ–í     ‚îÇ ‚îÇ–ù–∞    ‚îÇ ‚îÇ–ó–∞–≤–µ—Ä ‚îÇ ‚îÇ          ‚îÇ
‚îÇ ‚îÇ–Ω–∞—á–∞—Ç ‚îÇ ‚îÇ—Ä–∞–±–æ—Ç–µ‚îÇ ‚îÇ–ø—Ä–æ–≤–µ—Ä‚îÇ ‚îÇ—à–µ–Ω–æ  ‚îÇ            ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò            ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
   ‚Üë –ù–µ—Ç —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞ –¥–ª—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ –≤–ø—Ä–∞–≤–æ!
```

**–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ ‚îÇ–ù–µ    ‚îÇ ‚îÇ–í     ‚îÇ ‚îÇ–ù–∞    ‚îÇ ‚îÇ–ó–∞–≤–µ—Ä ‚îÇ ‚îÇ–û—Ç–º–µ–Ω–µ‚îÇ  ‚îÇ ‚Üê –í—Å–µ –∫–æ–ª–æ–Ω–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã
‚îÇ ‚îÇ–Ω–∞—á–∞—Ç ‚îÇ ‚îÇ—Ä–∞–±–æ—Ç–µ‚îÇ ‚îÇ–ø—Ä–æ–≤–µ—Ä‚îÇ ‚îÇ—à–µ–Ω–æ  ‚îÇ ‚îÇ–Ω–æ    ‚îÇ  ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
  ‚óÑ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ñ∫  ‚Üê –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª–±–∞—Ä
```

**–ì–¥–µ –ø—Ä–æ—è–≤–ª—è–µ—Ç—Å—è:**
- Kanban Board –Ω–∞ –≤–∫–ª–∞–¥–∫–µ "–ö–∞–Ω–±–∞–Ω"
- –û—Å–æ–±–µ–Ω–Ω–æ –∑–∞–º–µ—Ç–Ω–æ –Ω–∞:
  - –ú–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö (–Ω–æ—É—Ç–±—É–∫–∏ 13-14", –ø–ª–∞–Ω—à–µ—Ç—ã)
  - –ö–æ–≥–¥–∞ –æ—Ç–∫—Ä—ã—Ç–∞ –±–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å (sidebar)
  - –ü—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —Å—Ç–∞—Ç—É—Å–Ω—ã—Ö –∫–æ–ª–æ–Ω–æ–∫ (>4)

**–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ:**
1. –û—Ç–∫—Ä—ã—Ç—å `/tasks` ‚Üí –≤–∫–ª–∞–¥–∫–∞ "–ö–∞–Ω–±–∞–Ω"
2. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Å—Ç–∞—Ç—É—Å–æ–≤ –±–æ–ª—å—à–µ, —á–µ–º –≤–ª–µ–∑–∞–µ—Ç –Ω–∞ —ç–∫—Ä–∞–Ω
3. **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü—Ä–∞–≤—ã–µ –∫–æ–ª–æ–Ω–∫–∏ –æ–±—Ä–µ–∑–∞–Ω—ã –∏–ª–∏ –ø–µ—Ä–µ–Ω–æ—Å—è—Ç—Å—è –Ω–∞ –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É, –Ω–µ—Ç –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ —Å–∫—Ä–æ–ª–ª–∞

#### –ü—Ä–∏—á–∏–Ω–∞

**Root cause:** –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä Kanban Board **–Ω–µ –∏–º–µ–µ—Ç CSS —Å–≤–æ–π—Å—Ç–≤–∞ `overflow-x: auto`** –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **flex-wrap**, —á—Ç–æ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç –∫–æ–ª–æ–Ω–∫–∏ –≤–º–µ—Å—Ç–æ —Å–∫—Ä–æ–ª–ª–∞.

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**

1. **–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç `overflow-x: auto` –Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ**
   ```typescript
   // –¢–µ–∫—É—â–∏–π –∫–æ–¥ (–±–µ–∑ —Å–∫—Ä–æ–ª–ª–∞)
   <div className="flex gap-4">  {/* ‚Üê –ù–µ—Ç overflow-x! */}
     {columns.map(column => <KanbanColumn key={column.id} {...column} />)}
   </div>
   ```

2. **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `flex-wrap: wrap`**
   ```typescript
   // –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ ‚Äî –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç –∫–æ–ª–æ–Ω–∫–∏ –Ω–∞ –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É
   <div className="flex flex-wrap gap-4">  {/* ‚Üê flex-wrap –ª–æ–º–∞–µ—Ç Kanban! */}
     {columns.map(column => <KanbanColumn key={column.id} {...column} />)}
   </div>
   ```

3. **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏–º–µ–µ—Ç `width: 100%` –±–µ–∑ `overflow-x`**
   - Flex-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Ä–∞—Å—Ç—è–≥–∏–≤–∞–µ—Ç—Å—è –Ω–∞ –≤—Å—é —à–∏—Ä–∏–Ω—É —ç–∫—Ä–∞–Ω–∞
   - –ö–æ–ª–æ–Ω–∫–∏ —Å–∂–∏–º–∞—é—Ç—Å—è (`flex-shrink: 1`), —á—Ç–æ–±—ã –≤–ª–µ–∑—Ç—å
   - –†–µ–∑—É–ª—å—Ç–∞—Ç: —É–∑–∫–∏–µ –∫–æ–ª–æ–Ω–∫–∏ –≤–º–µ—Å—Ç–æ —Å–∫—Ä–æ–ª–ª–∞

4. **–†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –±–ª–æ–∫–∏—Ä—É–µ—Ç overflow**
   - –ï—Å–ª–∏ —Ä–æ–¥–∏—Ç–µ–ª—å –∏–º–µ–µ—Ç `overflow: hidden` ‚Üí —Å–∫—Ä–æ–ª–ª –Ω–µ –ø–æ—è–≤–∏—Ç—Å—è
   - –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å—é —Ü–µ–ø–æ—á–∫—É —Ä–æ–¥–∏—Ç–µ–ª–µ–π

#### –õ–æ–∫–∞—Ü–∏—è –∫–æ–¥–∞

**–§–∞–π–ª—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:**

1. **Kanban Board –∫–æ–º–ø–æ–Ω–µ–Ω—Ç:**
   - [modules/kanban/components/KanbanBoard.tsx](../modules/kanban/components/KanbanBoard.tsx) ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å: –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏, –µ—Å—Ç—å –ª–∏ `overflow-x: auto`

2. **CSS —Å—Ç–∏–ª–∏:**
   - `modules/kanban/components/KanbanBoard.module.css` (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è CSS Modules)
   - `globals.css` ‚Äî –≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—Ç—å overflow

3. **Layout –∫–æ–º–ø–æ–Ω–µ–Ω—Ç:**
   - `app/tasks/layout.tsx` –∏–ª–∏ `modules/tasks/components/TasksView.tsx`
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å: —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å overflow

**–î–ª—è –ø–æ–∏—Å–∫–∞:**

```bash
# –ù–∞–π—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏
grep -A 10 "flex.*gap" modules/kanban/components/KanbanBoard.tsx

# –ù–∞–π—Ç–∏ flex-wrap (—ç—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞)
grep -r "flex-wrap" modules/kanban/

# –ù–∞–π—Ç–∏ overflow —Å—Ç–∏–ª–∏
grep -r "overflow-x\|overflow:" modules/kanban/
```

#### –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ—à–µ–Ω–∏—è

**‚ùå –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:**
- –£–º–µ–Ω—å—à–∞—Ç—å —à–∏—Ä–∏–Ω—É –∫–æ–ª–æ–Ω–æ–∫ ‚Äî —É—Ö—É–¥—à–∞–µ—Ç —á–∏—Ç–∞–µ–º–æ—Å—Ç—å
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `flex-wrap` ‚Äî –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç –∫–æ–ª–æ–Ω–∫–∏, –ª–æ–º–∞–µ—Ç UX Kanban
- –°–∫—Ä—ã–≤–∞—Ç—å –ª–∏—à–Ω–∏–µ –∫–æ–ª–æ–Ω–∫–∏ ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ —É–≤–∏–¥–∏—Ç –≤—Å–µ —Å—Ç–∞—Ç—É—Å—ã

**‚úÖ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:**

---

**–í–∞—Ä–∏–∞–Ω—Ç 1: –î–æ–±–∞–≤–∏—Ç—å `overflow-x: auto` –Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (–±—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ) ‚≠ê**

–î–æ–±–∞–≤–∏—Ç—å –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª —á–µ—Ä–µ–∑ CSS:

```typescript
// modules/kanban/components/KanbanBoard.tsx

export function KanbanBoard({ columns }) {
  return (
    <div className="h-full flex flex-col">
      {/* –ó–∞–≥–æ–ª–æ–≤–æ–∫, —Ñ–∏–ª—å—Ç—Ä—ã, etc. */}

      {/* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏ ‚Äî –¥–æ–±–∞–≤–∏—Ç—å overflow-x */}
      <div className="flex-1 overflow-x-auto overflow-y-hidden">
        <div className="flex gap-4 h-full min-w-min pb-4">
          {columns.map(column => (
            <KanbanColumn key={column.id} {...column} />
          ))}
        </div>
      </div>
    </div>
  )
}
```

**–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã:**
- `overflow-x: auto` ‚Äî –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- `overflow-y: hidden` ‚Äî –æ—Ç–∫–ª—é—á–∏—Ç—å –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª –Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ (—Å–∫—Ä–æ–ª–ª –±—É–¥–µ—Ç –≤–Ω—É—Ç—Ä–∏ –∫–æ–ª–æ–Ω–æ–∫)
- `min-w-min` ‚Äî –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —Å–∂–∞—Ç–∏–µ –∫–æ–ª–æ–Ω–æ–∫, –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Ä–∞—Å—à–∏—Ä—è—Ç—å—Å—è
- `pb-4` ‚Äî –æ—Ç—Å—Ç—É–ø —Å–Ω–∏–∑—É, —á—Ç–æ–±—ã —Å–∫—Ä–æ–ª–ª–±–∞—Ä –Ω–µ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–ª –∫–æ–Ω—Ç–µ–Ω—Ç

**–ü–ª—é—Å—ã:**
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (2-3 —Å—Ç—Ä–æ–∫–∏)
- ‚úÖ –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –¥–ª—è Kanban –¥–æ—Å–æ–∫
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö —Ä–∞–∑–º–µ—Ä–∞—Ö —ç–∫—Ä–∞–Ω–∞
- ‚úÖ –ù–µ –º–µ–Ω—è–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω—ã–π –¥–∏–∑–∞–π–Ω

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –°–∫—Ä–æ–ª–ª–±–∞—Ä –º–æ–∂–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –Ω–µ –æ—á–µ–Ω—å –∫—Ä–∞—Å–∏–≤–æ (–º–æ–∂–Ω–æ —Å—Ç–∏–ª–∏–∑–æ–≤–∞—Ç—å)

---

**–í–∞—Ä–∏–∞–Ω—Ç 2: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é —à–∏—Ä–∏–Ω—É –∫–æ–ª–æ–Ω–æ–∫ (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –∫ –í–∞—Ä–∏–∞–Ω—Ç—É 1)**

–£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∫–æ–ª–æ–Ω–∫–∏ **–Ω–µ —Å–∂–∏–º–∞—é—Ç—Å—è** –º–µ–Ω—å—à–µ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π —à–∏—Ä–∏–Ω—ã:

```typescript
// modules/kanban/components/KanbanColumn.tsx

export function KanbanColumn({ title, cards }) {
  return (
    <div className="flex-shrink-0 w-80 flex flex-col">  {/* ‚Üê flex-shrink-0 + —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —à–∏—Ä–∏–Ω–∞ */}
      <div className="font-semibold mb-4">{title}</div>

      <div className="flex-1 overflow-y-auto space-y-2">
        {cards.map(card => (
          <KanbanCard key={card.id} {...card} />
        ))}
      </div>
    </div>
  )
}
```

**–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã:**
- `flex-shrink-0` ‚Äî –∫–æ–ª–æ–Ω–∫–∞ **–ù–ï —Å–∂–∏–º–∞–µ—Ç—Å—è**
- `w-80` (320px) ‚Äî —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —à–∏—Ä–∏–Ω–∞ –∫–æ–ª–æ–Ω–∫–∏ (–º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å: `w-72` = 288px, `w-96` = 384px)
- –ï—Å–ª–∏ –∫–æ–ª–æ–Ω–æ–∫ –º–Ω–æ–≥–æ ‚Üí –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è –≤–ø—Ä–∞–≤–æ ‚Üí –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Å–∫—Ä–æ–ª–ª

**–ü–ª—é—Å—ã:**
- ‚úÖ –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —á–∏—Ç–∞–µ–º—É—é —à–∏—Ä–∏–Ω—É –∫–æ–ª–æ–Ω–æ–∫
- ‚úÖ –ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–π layout
- ‚úÖ –ö–æ–ª–æ–Ω–∫–∏ –æ–¥–∏–Ω–∞–∫–æ–≤–æ–π —à–∏—Ä–∏–Ω—ã

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –¢—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∫–æ–ª–æ–Ω–∫–∏

---

**–í–∞—Ä–∏–∞–Ω—Ç 3: –ö–∞—Å—Ç–æ–º–Ω—ã–π —Å—Ç–∏–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Å–∫—Ä–æ–ª–ª–±–∞—Ä (—É–ª—É—á—à–µ–Ω–∏–µ UX)**

–°—Ç–∏–ª–∏–∑–æ–≤–∞—Ç—å —Å–∫—Ä–æ–ª–ª–±–∞—Ä, —á—Ç–æ–±—ã –æ–Ω –ª—É—á—à–µ –≤–ø–∏—Å—ã–≤–∞–ª—Å—è –≤ –¥–∏–∑–∞–π–Ω:

```css
/* globals.css –∏–ª–∏ KanbanBoard.module.css */

.kanban-scrollable {
  overflow-x: auto;
  overflow-y: hidden;
}

/* Webkit browsers (Chrome, Safari, Edge) */
.kanban-scrollable::-webkit-scrollbar {
  height: 8px;
}

.kanban-scrollable::-webkit-scrollbar-track {
  background: hsl(var(--muted));
  border-radius: 4px;
}

.kanban-scrollable::-webkit-scrollbar-thumb {
  background: hsl(var(--muted-foreground) / 0.3);
  border-radius: 4px;
}

.kanban-scrollable::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--muted-foreground) / 0.5);
}

/* Firefox */
.kanban-scrollable {
  scrollbar-width: thin;
  scrollbar-color: hsl(var(--muted-foreground) / 0.3) hsl(var(--muted));
}
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**

```typescript
// modules/kanban/components/KanbanBoard.tsx

<div className="kanban-scrollable">
  <div className="flex gap-4 h-full min-w-min pb-4">
    {columns.map(column => <KanbanColumn key={column.id} {...column} />)}
  </div>
</div>
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –ö—Ä–∞—Å–∏–≤—ã–π, –≤–ø–∏—Å–∞–Ω–Ω—ã–π –≤ –¥–∏–∑–∞–π–Ω —Å–∫—Ä–æ–ª–ª–±–∞—Ä
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ–º—ã (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ dark/light mode)
- ‚úÖ –£–ª—É—á—à–∞–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω—É—é —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –¢—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö CSS –ø—Ä–∞–≤–∏–ª
- ‚ùå –†–∞–∑–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–∞—Ö (Webkit vs Firefox)

---

**–í–∞—Ä–∏–∞–Ω—Ç 4: –î–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å–∫—Ä–æ–ª–ª–∞ (optional UX improvement)**

–ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é, —á—Ç–æ –µ—Å—Ç—å –µ—â—ë –∫–æ–ª–æ–Ω–∫–∏ —Å–ø—Ä–∞–≤–∞/—Å–ª–µ–≤–∞:

```typescript
// modules/kanban/components/KanbanBoard.tsx

import { useRef, useState, useEffect } from 'react'
import { ChevronLeft, ChevronRight } from 'lucide-react'

export function KanbanBoard({ columns }) {
  const scrollRef = useRef<HTMLDivElement>(null)
  const [showLeftArrow, setShowLeftArrow] = useState(false)
  const [showRightArrow, setShowRightArrow] = useState(false)

  const checkScroll = () => {
    if (!scrollRef.current) return

    const { scrollLeft, scrollWidth, clientWidth } = scrollRef.current
    setShowLeftArrow(scrollLeft > 0)
    setShowRightArrow(scrollLeft + clientWidth < scrollWidth - 10)
  }

  useEffect(() => {
    checkScroll()
    window.addEventListener('resize', checkScroll)
    return () => window.removeEventListener('resize', checkScroll)
  }, [columns])

  const scroll = (direction: 'left' | 'right') => {
    if (!scrollRef.current) return
    const scrollAmount = 400
    scrollRef.current.scrollBy({
      left: direction === 'left' ? -scrollAmount : scrollAmount,
      behavior: 'smooth',
    })
  }

  return (
    <div className="relative h-full flex flex-col">
      {/* –õ–µ–≤–∞—è —Å—Ç—Ä–µ–ª–∫–∞ */}
      {showLeftArrow && (
        <button
          onClick={() => scroll('left')}
          className="absolute left-0 top-1/2 -translate-y-1/2 z-10 bg-background/80 backdrop-blur-sm rounded-full p-2 shadow-lg"
        >
          <ChevronLeft className="h-6 w-6" />
        </button>
      )}

      {/* –ü—Ä–∞–≤–∞—è —Å—Ç—Ä–µ–ª–∫–∞ */}
      {showRightArrow && (
        <button
          onClick={() => scroll('right')}
          className="absolute right-0 top-1/2 -translate-y-1/2 z-10 bg-background/80 backdrop-blur-sm rounded-full p-2 shadow-lg"
        >
          <ChevronRight className="h-6 w-6" />
        </button>
      )}

      {/* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏ */}
      <div
        ref={scrollRef}
        onScroll={checkScroll}
        className="overflow-x-auto overflow-y-hidden"
      >
        <div className="flex gap-4 h-full min-w-min pb-4">
          {columns.map(column => (
            <KanbanColumn key={column.id} {...column} />
          ))}
        </div>
      </div>
    </div>
  )
}
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –Ø–≤–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –µ—Å—Ç—å —Å–∫—Ä—ã—Ç—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç
- ‚úÖ –ö–Ω–æ–ø–∫–∏ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å–∫—Ä–æ–ª–ª–∞
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –≤—Å–µ –∫–æ–ª–æ–Ω–∫–∏ –≤–∏–¥–Ω—ã
- ‚úÖ –£–ª—É—á—à–∞–µ—Ç UX, –æ—Å–æ–±–µ–Ω–Ω–æ –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –ë–æ–ª—å—à–µ –∫–æ–¥–∞
- ‚ùå –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å (–Ω—É–∂–Ω–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å scroll position)
- ‚ùå –ú–æ–∂–µ—Ç –ø–µ—Ä–µ–∫—Ä—ã–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç –Ω–∞ –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö

---

#### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π

**–®–∞–≥ 1: –ù–∞–π—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏**

1. –û—Ç–∫—Ä—ã—Ç—å [modules/kanban/components/KanbanBoard.tsx](../modules/kanban/components/KanbanBoard.tsx)
2. –ù–∞–π—Ç–∏ JSX —Å —Ä–µ–Ω–¥–µ—Ä–æ–º –∫–æ–ª–æ–Ω–æ–∫:
   ```typescript
   // –ò—Å–∫–∞—Ç—å —á—Ç–æ-—Ç–æ –ø–æ–¥–æ–±–Ω–æ–µ:
   <div className="flex gap-4">
     {columns.map(...)}
   </div>
   ```

**–®–∞–≥ 2: –î–æ–±–∞–≤–∏—Ç—å overflow-x**

1. –û–±–µ—Ä–Ω—É—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏ –≤ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π `<div>` —Å `overflow-x`:
   ```typescript
   // ‚ùå –ë—ã–ª–æ:
   <div className="flex gap-4">
     {columns.map(column => <KanbanColumn key={column.id} {...column} />)}
   </div>

   // ‚úÖ –°—Ç–∞–ª–æ:
   <div className="overflow-x-auto overflow-y-hidden">
     <div className="flex gap-4 min-w-min pb-4">
       {columns.map(column => <KanbanColumn key={column.id} {...column} />)}
     </div>
   </div>
   ```

**–®–∞–≥ 3: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é —à–∏—Ä–∏–Ω—É –∫–æ–ª–æ–Ω–æ–∫**

1. –û—Ç–∫—Ä—ã—Ç—å [modules/kanban/components/KanbanColumn.tsx](../modules/kanban/components/KanbanColumn.tsx)
2. –î–æ–±–∞–≤–∏—Ç—å `flex-shrink-0` –∏ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—É—é —à–∏—Ä–∏–Ω—É:
   ```typescript
   // ‚ùå –ë—ã–ª–æ:
   <div className="flex flex-col">

   // ‚úÖ –°—Ç–∞–ª–æ:
   <div className="flex-shrink-0 w-80 flex flex-col">
   ```

**–®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç**

1. –û—Ç–∫—Ä—ã—Ç—å `/tasks` ‚Üí Kanban
2. –ï—Å–ª–∏ –∫–æ–ª–æ–Ω–æ–∫ –º–Ω–æ–≥–æ:
   - ‚úÖ –ü–æ—è–≤–ª—è–µ—Ç—Å—è –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª–±–∞—Ä
   - ‚úÖ –ú–æ–∂–Ω–æ –ø—Ä–æ–∫—Ä—É—Ç–∏—Ç—å –≤–ø—Ä–∞–≤–æ/–≤–ª–µ–≤–æ
   - ‚úÖ –ö–æ–ª–æ–Ω–∫–∏ –Ω–µ —Å–∂–∏–º–∞—é—Ç—Å—è
   - ‚úÖ –ö–æ–ª–æ–Ω–∫–∏ –Ω–µ –ø–µ—Ä–µ–Ω–æ—Å—è—Ç—Å—è –Ω–∞ –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É

3. –ï—Å–ª–∏ –∫–æ–ª–æ–Ω–æ–∫ –º–∞–ª–æ (–≤–ª–µ–∑–∞—é—Ç –Ω–∞ —ç–∫—Ä–∞–Ω):
   - ‚úÖ –°–∫—Ä–æ–ª–ª–±–∞—Ä –ù–ï –ø–æ—è–≤–ª—è–µ—Ç—Å—è
   - ‚úÖ –ö–æ–ª–æ–Ω–∫–∏ —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω—ã

**–®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–∞—Ö —ç–∫—Ä–∞–Ω–∞**

- ‚úÖ Desktop (1920px) ‚Äî —Å–∫—Ä–æ–ª–ª –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ >6 –∫–æ–ª–æ–Ω–∫–∞—Ö
- ‚úÖ Laptop (1366px) ‚Äî —Å–∫—Ä–æ–ª–ª –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ >4 –∫–æ–ª–æ–Ω–∫–∞—Ö
- ‚úÖ Tablet (768px) ‚Äî —Å–∫—Ä–æ–ª–ª –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ >2 –∫–æ–ª–æ–Ω–∫–∞—Ö
- ‚úÖ Mobile (375px) ‚Äî —Å–∫—Ä–æ–ª–ª –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤—Å–µ–≥–¥–∞ (–æ–¥–Ω–∞ –∫–æ–ª–æ–Ω–∫–∞ –≤–∏–¥–Ω–∞)

**–®–∞–≥ 6: –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ ‚Äî —Å—Ç–∏–ª–∏–∑–æ–≤–∞—Ç—å —Å–∫—Ä–æ–ª–ª–±–∞—Ä**

–ï—Å–ª–∏ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π —Å–∫—Ä–æ–ª–ª–±–∞—Ä –≤—ã–≥–ª—è–¥–∏—Ç –ø–ª–æ—Ö–æ, –¥–æ–±–∞–≤–∏—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Å—Ç–∏–ª–∏ (–í–∞—Ä–∏–∞–Ω—Ç 3).

**–®–∞–≥ 7: –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã**

–ï—Å–ª–∏ UX —Ç—Ä–µ–±—É–µ—Ç —è–≤–Ω—ã—Ö –ø–æ–¥—Å–∫–∞–∑–æ–∫ –æ —Å–∫—Ä–æ–ª–ª–µ, —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –í–∞—Ä–∏–∞–Ω—Ç 4 (—Å—Ç—Ä–µ–ª–∫–∏).

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤

**–ü—Ä–æ–±–ª–µ–º–∞ 1: –†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –±–ª–æ–∫–∏—Ä—É–µ—Ç overflow**

–ï—Å–ª–∏ —Å–∫—Ä–æ–ª–ª –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –®–∞–≥–∞ 2, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:

```bash
# –ù–∞–π—Ç–∏ layout –∏ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
grep -r "KanbanBoard" modules/tasks/
grep -r "overflow: hidden" app/tasks/
```

–£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ä–æ–¥–∏—Ç–µ–ª–∏ **–ù–ï –∏–º–µ—é—Ç** `overflow: hidden`:

```typescript
// ‚ùå –ü—Ä–æ–±–ª–µ–º–∞:
<div className="overflow-hidden">  {/* ‚Üê –ë–ª–æ–∫–∏—Ä—É–µ—Ç —Å–∫—Ä–æ–ª–ª! */}
  <KanbanBoard />
</div>

// ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:
<div className="overflow-visible">
  <KanbanBoard />
</div>
```

**–ü—Ä–æ–±–ª–µ–º–∞ 2: –ö–æ–Ω—Ñ–ª–∏–∫—Ç —Å drag & drop**

–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `@dnd-kit`, —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Å–∫—Ä–æ–ª–ª –Ω–µ –ª–æ–º–∞–µ—Ç DnD:

```typescript
// –ú–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ sensors
import { MouseSensor, TouchSensor, useSensor, useSensors } from '@dnd-kit/core'

const sensors = useSensors(
  useSensor(MouseSensor, {
    activationConstraint: {
      distance: 10, // –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ drag
    },
  }),
  useSensor(TouchSensor, {
    activationConstraint: {
      delay: 250,
      tolerance: 5,
    },
  })
)
```

**–ü—Ä–æ–±–ª–µ–º–∞ 3: –°–∫—Ä–æ–ª–ª –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É–µ—Ç —Å –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–º —Å–∫—Ä–æ–ª–ª–æ–º –∫–æ–ª–æ–Ω–æ–∫**

–£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∫–∞–∂–¥–∞—è –∫–æ–ª–æ–Ω–∫–∞ –∏–º–µ–µ—Ç **–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–π –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª**:

```typescript
// modules/kanban/components/KanbanColumn.tsx

<div className="flex-shrink-0 w-80 flex flex-col h-full">
  <div className="font-semibold mb-4">{title}</div>

  {/* –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª –í–ù–£–¢–†–ò –∫–æ–ª–æ–Ω–∫–∏ */}
  <div className="flex-1 overflow-y-auto space-y-2">
    {cards.map(card => <KanbanCard key={card.id} {...card} />)}
  </div>
</div>
```

#### –í—ã–≤–æ–¥—ã

- **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ —Å–∫—Ä–æ–ª–ª–∞** ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –≤–∏–¥–∏—Ç –≤—Å–µ –∫–æ–ª–æ–Ω–∫–∏ –Ω–∞ –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö
- **Root cause** ‚Äî –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –∏–º–µ–µ—Ç `overflow-x: auto`
- **–ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ** ‚Äî –¥–æ–±–∞–≤–∏—Ç—å `overflow-x: auto` + `flex-shrink-0` –Ω–∞ –∫–æ–ª–æ–Ω–∫–∏ (5 –º–∏–Ω—É—Ç)
- **–£–ª—É—á—à–µ–Ω–∏–µ UX** ‚Äî —Å—Ç–∏–ª–∏–∑–æ–≤–∞—Ç—å —Å–∫—Ä–æ–ª–ª–±–∞—Ä, –¥–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- **–†–µ–∑—É–ª—å—Ç–∞—Ç** ‚Äî –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è Kanban –¥–æ—Å–∫–∞ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –ª—é–±–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∫–æ–ª–æ–Ω–æ–∫

**–û–±—â–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:**
- –î–ª—è **–≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã—Ö —Å–ø–∏—Å–∫–æ–≤** (Kanban, –≥–∞–ª–µ—Ä–µ–∏, –∫–∞—Ä—É—Å–µ–ª–∏) –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π `overflow-x: auto`
- –ó–∞–ø—Ä–µ—â–∞–π **—Å–∂–∞—Ç–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤** —á–µ—Ä–µ–∑ `flex-shrink-0`
- –ò—Å–ø–æ–ª—å–∑—É–π **—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—É—é —à–∏—Ä–∏–Ω—É** —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–ª—è –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–≥–æ layout
- –°—Ç–∏–ª–∏–∑—É–π **—Å–∫—Ä–æ–ª–ª–±–∞—Ä—ã** –¥–ª—è –ª—É—á—à–µ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –¥–∏–∑–∞–π–Ω–æ–º
- –î–æ–±–∞–≤–ª—è–π **–≤–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã** —Å–∫—Ä–æ–ª–ª–∞ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è UX

---

### üëÜ –ë–ê–ì #8: –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏ –Ω–∞ –º–æ–¥–∞–ª–∫–µ –≤–Ω–µ—Å–µ–Ω–∏—è –æ—Ç—á–µ—Ç–∞

**–î–∞—Ç–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è:** 2025-12-30

**–õ–æ–∫–∞—Ü–∏—è:** –ú–æ–¥–∞–ª–∫–∞ –≤–Ω–µ—Å–µ–Ω–∏—è –æ—Ç—á–µ—Ç–∞ (–≤–µ—Ä–æ—è—Ç–Ω–æ –≤ Resource Graph –∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–º –º–æ–¥—É–ª–µ)

#### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

–ù–∞ –º–æ–¥–∞–ª–∫–µ –≤–Ω–µ—Å–µ–Ω–∏—è –æ—Ç—á–µ—Ç–∞ **–∫–ª–∏–∫–∞–±–µ–ª—å–Ω–æ—Å—Ç—å (–∫—É—Ä—Å–æ—Ä pointer) –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ –±–æ–ª—å—à–æ–π —á–∞—Å—Ç–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤**, —Ö–æ—Ç—è –æ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø–æ–∫–∞–∑–∞–Ω–∞ **—Ç–æ–ª—å–∫–æ –Ω–∞ –∏–∑–º–µ–Ω—è–µ–º—ã—Ö –ø–æ–ª—è—Ö** (–∏–Ω–ø—É—Ç—ã, –∫–Ω–æ–ø–∫–∏, —Å–µ–ª–µ–∫—Ç—ã). Read-only —ç–ª–µ–º–µ–Ω—Ç—ã (labels, —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π —Ç–µ–∫—Å—Ç, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã) –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –∫—É—Ä—Å–æ—Ä `pointer`, —Å–æ–∑–¥–∞–≤–∞—è –ø—É—Ç–∞–Ω–∏—Ü—É –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

**–¢–µ–∫—É—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª–∫—É –≤–Ω–µ—Å–µ–Ω–∏—è –æ—Ç—á–µ—Ç–∞
- –ü—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –∫—É—Ä—Å–æ—Ä–∞ –Ω–∞ **–±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤** –º–æ–¥–∞–ª–∫–∏ –∫—É—Ä—Å–æ—Ä –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ `pointer` (—Ä—É–∫–∞ —Å –ø–∞–ª—å—Ü–µ–º)
- –≠—Ç–æ –≤–∫–ª—é—á–∞–µ—Ç:
  - –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π —Ç–µ–∫—Å—Ç (labels, –∑–∞–≥–æ–ª–æ–≤–∫–∏)
  - –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã (div-–æ–±—ë—Ä—Ç–∫–∏)
  - Read-only –ø–æ–ª—è (–Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è)
  - –í–æ–∑–º–æ–∂–Ω–æ, –¥–∞–∂–µ –ø—É—Å—Ç–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –≤–Ω—É—Ç—Ä–∏ –º–æ–¥–∞–ª–∫–∏
- **–ü—É—Ç–∞–Ω–∏—Ü–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:** –∫—É—Ä—Å–æ—Ä pointer –æ–±—ã—á–Ω–æ –æ–∑–Ω–∞—á–∞–µ—Ç "–º–æ–∂–Ω–æ –∫–ª–∏–∫–Ω—É—Ç—å", –Ω–æ –∫–ª–∏–∫ –ø–æ —ç—Ç–∏–º —ç–ª–µ–º–µ–Ω—Ç–∞–º –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ—Ç

**–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ö—É—Ä—Å–æ—Ä `pointer` (—Ä—É–∫–∞) –¥–æ–ª–∂–µ–Ω –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è **–¢–û–õ–¨–ö–û** –Ω–∞:
  - –ö–Ω–æ–ø–∫–∞—Ö (`<button>`, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã Button)
  - –ò–Ω–ø—É—Ç–∞—Ö (`<input>`, `<textarea>`)
  - –°–µ–ª–µ–∫—Ç–∞—Ö (`<select>`, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã Select)
  - –ß–µ–∫–±–æ–∫—Å–∞—Ö –∏ —Ä–∞–¥–∏–æ-–∫–Ω–æ–ø–∫–∞—Ö
  - –ö–ª–∏–∫–∞–±–µ–ª—å–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–∞—Ö (—Å—Å—ã–ª–∫–∏, –∏–∫–æ–Ω–∫–∏ —Å –¥–µ–π—Å—Ç–≤–∏—è–º–∏)
- –ö—É—Ä—Å–æ—Ä `default` (—Å—Ç—Ä–µ–ª–∫–∞) –Ω–∞:
  - –°—Ç–∞—Ç–∏—á–µ—Å–∫–æ–º —Ç–µ–∫—Å—Ç–µ (labels, –∑–∞–≥–æ–ª–æ–≤–∫–∏, –æ–ø–∏—Å–∞–Ω–∏—è)
  - –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö (div, section)
  - Read-only –ø–æ–ª—è—Ö
  - –ü—É—Å—Ç–æ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ

**–ì–¥–µ –ø—Ä–æ—è–≤–ª—è–µ—Ç—Å—è:**
- –ú–æ–¥–∞–ª–∫–∞ –≤–Ω–µ—Å–µ–Ω–∏—è –æ—Ç—á–µ—Ç–∞
- –í–æ–∑–º–æ–∂–Ω–æ, –¥—Ä—É–≥–∏–µ –º–æ–¥–∞–ª–∫–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ (—Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏)

**–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ:**
1. –û—Ç–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª–∫—É –≤–Ω–µ—Å–µ–Ω–∏—è –æ—Ç—á–µ—Ç–∞
2. –ù–∞–≤–µ—Å—Ç–∏ –∫—É—Ä—Å–æ—Ä –Ω–∞ —Ä–∞–∑–ª–∏—á–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –º–æ–¥–∞–ª–∫–∏
3. **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ö—É—Ä—Å–æ—Ä pointer –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤, –≤–∫–ª—é—á–∞—è –Ω–µ–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ

#### –ü—Ä–∏—á–∏–Ω–∞

**Root cause:** –ò–∑–±—ã—Ç–æ—á–Ω–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ CSS –∫–ª–∞—Å—Å–∞ `cursor-pointer` –Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∏–ª–∏ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –∫—É—Ä—Å–æ—Ä –¥–ª—è –¥–æ—á–µ—Ä–Ω–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤.

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**

1. **–ö–ª–∞—Å—Å `cursor-pointer` –Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ**
   ```typescript
   // –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ ‚Äî –≤–µ—Å—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–π
   <div className="cursor-pointer">  {/* ‚Üê –í—Å–µ –¥–æ—á–µ—Ä–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã —É–Ω–∞—Å–ª–µ–¥—É—é—Ç pointer! */}
     <label>–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞</label>
     <p>–°—Ç–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ</p>
     <input type="text" />
   </div>
   ```

2. **–ì–ª–æ–±–∞–ª—å–Ω—ã–µ CSS —Å—Ç–∏–ª–∏ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –∫—É—Ä—Å–æ—Ä**
   ```css
   /* –ì–¥–µ-—Ç–æ –≤ globals.css –∏–ª–∏ module.css */
   .modal-content * {
     cursor: pointer; /* ‚Üê –í—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –≤ –º–æ–¥–∞–ª–∫–µ –ø–æ–ª—É—á–∞—é—Ç pointer */
   }
   ```

3. **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –æ–±—ë—Ä–Ω—É—Ç –≤ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç**
   ```typescript
   // –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ ‚Äî –≤–µ—Å—å Dialog/Sheet –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–π
   <Dialog>
     <DialogContent className="cursor-pointer">  {/* ‚Üê –í—Å—è –º–æ–¥–∞–ª–∫–∞ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–∞! */}
       {/* –í–µ—Å—å –∫–æ–Ω—Ç–µ–Ω—Ç */}
     </DialogContent>
   </Dialog>
   ```

4. **onClick handler –Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ**
   ```typescript
   // –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ ‚Äî onClick –Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª–µ, –Ω–æ –≤–∏–∑—É–∞–ª—å–Ω–æ pointer –≤–µ–∑–¥–µ
   <div onClick={handleSomething} className="cursor-pointer">
     <h2>–ó–∞–≥–æ–ª–æ–≤–æ–∫</h2>  {/* ‚Üê –ù–∞—Å–ª–µ–¥—É–µ—Ç cursor: pointer */}
     <p>–¢–µ–∫—Å—Ç</p>
   </div>
   ```

#### –õ–æ–∫–∞—Ü–∏—è –∫–æ–¥–∞

**–§–∞–π–ª—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:**

1. **–ú–æ–¥–∞–ª–∫–∞ –≤–Ω–µ—Å–µ–Ω–∏—è –æ—Ç—á–µ—Ç–∞:**
   - –ù–∞–π—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –º–æ–¥–∞–ª–∫–∏ (–≤–µ—Ä–æ—è—Ç–Ω–æ –≤ `modules/resource-graph/` –∏–ª–∏ `modules/planning/`)
   - –í–æ–∑–º–æ–∂–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è:
     - `ReportModal.tsx`
     - `TimeReportDialog.tsx`
     - `LoadingReportSheet.tsx`
     - `ReportForm.tsx`

2. **Dialog/Sheet –∫–æ–º–ø–æ–Ω–µ–Ω—Ç:**
   - `components/ui/dialog.tsx` ‚Äî –±–∞–∑–æ–≤—ã–π Dialog –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
   - `components/ui/sheet.tsx` ‚Äî –±–∞–∑–æ–≤—ã–π Sheet –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å: –µ—Å—Ç—å –ª–∏ `cursor-pointer` –≤ –±–∞–∑–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö

3. **CSS —Å—Ç–∏–ª–∏:**
   - `globals.css` ‚Äî –≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏
   - `modules/[module]/components/*.module.css` ‚Äî –º–æ–¥—É–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å: –Ω–µ—Ç –ª–∏ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –ø—Ä–∞–≤–∏–ª —Å `cursor: pointer`

**–î–ª—è –ø–æ–∏—Å–∫–∞:**

```bash
# –ù–∞–π—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å "Report" –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏
find modules -name "*Report*.tsx" -type f

# –ù–∞–π—Ç–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ cursor-pointer –≤ –º–æ–¥–∞–ª–∫–∞—Ö
grep -r "cursor-pointer" modules/ | grep -i "dialog\|sheet\|modal"

# –ù–∞–π—Ç–∏ CSS —Å cursor: pointer
grep -r "cursor: pointer" modules/ app/ components/

# –ù–∞–π—Ç–∏ onClick –Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö
grep -A 5 "onClick.*div\|div.*onClick" modules/
```

#### –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ—à–µ–Ω–∏—è

**‚ùå –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:**
- –û—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å ‚Äî —Å–æ–∑–¥–∞—ë—Ç –ø—É—Ç–∞–Ω–∏—Ü—É –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –£–¥–∞–ª–∏—Ç—å cursor: pointer –≤–µ–∑–¥–µ ‚Äî –ø–æ—Ç–µ—Ä—è–µ—Ç—Å—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏ –Ω–∞ –∫–Ω–æ–ø–∫–∞—Ö/–∏–Ω–ø—É—Ç–∞—Ö
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `cursor: default !important` ‚Äî —Å–ª–∏—à–∫–æ–º –≥—Ä—É–±–æ–µ —Ä–µ—à–µ–Ω–∏–µ, –º–æ–∂–µ—Ç —Å–ª–æ–º–∞—Ç—å –¥—Ä—É–≥–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã

**‚úÖ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:**

---

**–í–∞—Ä–∏–∞–Ω—Ç 1: –£–¥–∞–ª–∏—Ç—å `cursor-pointer` —Å —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ (–±—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ) ‚≠ê**

–ù–∞–π—Ç–∏ –∏ —É–¥–∞–ª–∏—Ç—å –∫–ª–∞—Å—Å `cursor-pointer` —Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —è–≤–ª—è—é—Ç—Å—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º–∏:

```typescript
// modules/.../ReportModal.tsx (–∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç)

// ‚ùå –ë—ã–ª–æ ‚Äî –≤–µ—Å—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–π:
<DialogContent className="cursor-pointer p-6">
  <DialogHeader>
    <DialogTitle>–í–Ω–µ—Å–µ–Ω–∏–µ –æ—Ç—á–µ—Ç–∞</DialogTitle>
  </DialogHeader>

  <div className="space-y-4">
    <label>–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞</label>
    <input type="text" />
  </div>
</DialogContent>

// ‚úÖ –°—Ç–∞–ª–æ ‚Äî —É–±—Ä–∞–ª–∏ cursor-pointer —Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:
<DialogContent className="p-6">  {/* ‚Üê –£–±—Ä–∞–ª–∏ cursor-pointer */}
  <DialogHeader>
    <DialogTitle>–í–Ω–µ—Å–µ–Ω–∏–µ –æ—Ç—á–µ—Ç–∞</DialogTitle>
  </DialogHeader>

  <div className="space-y-4">
    <label>–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞</label>
    <input type="text" />  {/* ‚Üê –ò–Ω–ø—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∫—É—Ä—Å–æ—Ä */}
  </div>
</DialogContent>
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (—É–¥–∞–ª–∏—Ç—å 1-2 –∫–ª–∞—Å—Å–∞)
- ‚úÖ –†–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É –≤ –∫–æ—Ä–Ω–µ
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–æ—á–µ—Ä–Ω–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –ù—É–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤—Å–µ –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã

---

**–í–∞—Ä–∏–∞–Ω—Ç 2: –Ø–≤–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `cursor-default` –Ω–∞ –Ω–µ–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã**

–î–æ–±–∞–≤–∏—Ç—å –∫–ª–∞—Å—Å `cursor-default` –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–º–∏:

```typescript
// modules/.../ReportModal.tsx

<DialogContent className="p-6">
  <DialogHeader className="cursor-default">  {/* ‚Üê –Ø–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞–µ–º default */}
    <DialogTitle className="cursor-default">–í–Ω–µ—Å–µ–Ω–∏–µ –æ—Ç—á–µ—Ç–∞</DialogTitle>
  </DialogHeader>

  <div className="space-y-4">
    <label className="cursor-default block text-sm font-medium">
      –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
    </label>
    <input type="text" className="w-full" />  {/* –ò–Ω–ø—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–º–µ–µ—Ç text cursor */}
  </div>

  <div className="flex justify-end gap-2">
    <Button variant="outline" onClick={onCancel}>–û—Ç–º–µ–Ω–∞</Button>  {/* Button –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–º–µ–µ—Ç pointer */}
    <Button onClick={onSubmit}>–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</Button>
  </div>
</DialogContent>
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –Ø–≤–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –∫—É—Ä—Å–æ—Ä–æ–º –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –¥–∞–∂–µ –µ—Å–ª–∏ —Ä–æ–¥–∏—Ç–µ–ª—å –∏–º–µ–µ—Ç cursor-pointer

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –ú–Ω–æ–≥–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞ (cursor-default –Ω–∞ –∫–∞–∂–¥–æ–º —ç–ª–µ–º–µ–Ω—Ç–µ)
- ‚ùå –õ–µ–≥–∫–æ –∑–∞–±—ã—Ç—å –¥–æ–±–∞–≤–∏—Ç—å –Ω–∞ –Ω–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã

---

**–í–∞—Ä–∏–∞–Ω—Ç 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–µ CSS –ø—Ä–∞–≤–∏–ª–∞**

–ù–∞–π—Ç–∏ –∏ —É–¥–∞–ª–∏—Ç—å/–∏—Å–ø—Ä–∞–≤–∏—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–µ CSS –ø—Ä–∞–≤–∏–ª–∞, –∫–æ—Ç–æ—Ä—ã–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –∫—É—Ä—Å–æ—Ä:

```css
/* globals.css –∏–ª–∏ module.css */

/* ‚ùå –£–¥–∞–ª–∏—Ç—å —ç—Ç–æ –ø—Ä–∞–≤–∏–ª–æ (–µ—Å–ª–∏ –µ—Å—Ç—å): */
.dialog-content *,
.sheet-content *,
.modal * {
  cursor: pointer;
}

/* ‚úÖ –ò–ª–∏ —Å–¥–µ–ª–∞—Ç—å –±–æ–ª–µ–µ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–º (—Ç–æ–ª—å–∫–æ –¥–ª—è –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤): */
.dialog-content button,
.dialog-content a,
.dialog-content [role="button"] {
  cursor: pointer;
}

.dialog-content label,
.dialog-content p,
.dialog-content h1,
.dialog-content h2,
.dialog-content h3,
.dialog-content div:not([role="button"]) {
  cursor: default;
}
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –†–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É –≥–ª–æ–±–∞–ª—å–Ω–æ –¥–ª—è –≤—Å–µ—Ö –º–æ–¥–∞–ª–æ–∫
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- ‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –ú–æ–∂–µ—Ç –∑–∞—Ç—Ä–æ–Ω—É—Ç—å –¥—Ä—É–≥–∏–µ —á–∞—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–Ω—É–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
- ‚ùå –°–ª–æ–∂–Ω–æ –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ —Å–ª—É—á–∞–∏

---

**–í–∞—Ä–∏–∞–Ω—Ç 4: –°–æ–∑–¥–∞—Ç—å —É—Ç–∏–ª–∏—Ç–Ω—ã–π –∫–ª–∞—Å—Å –¥–ª—è –Ω–µ–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ (–º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ)**

–°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∫–ª–∞—Å—Å –¥–ª—è –º–æ–¥–∞–ª–æ–∫ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –∫—É—Ä—Å–æ—Ä–∞–º–∏:

```typescript
// lib/utils/cn.ts –∏–ª–∏ components/ui/dialog.tsx

// –£—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –∫—É—Ä—Å–æ—Ä–æ–≤ –≤ –º–æ–¥–∞–ª–∫–∞—Ö
export const modalContentClasses = cn(
  "p-6",
  "[&_label]:cursor-default",      // Labels ‚Äî default cursor
  "[&_h1]:cursor-default",          // –ó–∞–≥–æ–ª–æ–≤–∫–∏ h1 ‚Äî default
  "[&_h2]:cursor-default",          // –ó–∞–≥–æ–ª–æ–≤–∫–∏ h2 ‚Äî default
  "[&_h3]:cursor-default",          // –ó–∞–≥–æ–ª–æ–≤–∫–∏ h3 ‚Äî default
  "[&_p]:cursor-default",           // –ü–∞—Ä–∞–≥—Ä–∞—Ñ—ã ‚Äî default
  "[&_span:not([role])]:cursor-default", // Spans –±–µ–∑ role ‚Äî default
  "[&_button]:cursor-pointer",      // –ö–Ω–æ–ø–∫–∏ ‚Äî pointer
  "[&_a]:cursor-pointer",           // –°—Å—ã–ª–∫–∏ ‚Äî pointer
  "[&_[role=button]]:cursor-pointer" // –≠–ª–µ–º–µ–Ω—Ç—ã —Å role=button ‚Äî pointer
)
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**

```typescript
// modules/.../ReportModal.tsx

import { modalContentClasses } from '@/lib/utils'

<DialogContent className={modalContentClasses}>
  <DialogHeader>
    <DialogTitle>–í–Ω–µ—Å–µ–Ω–∏–µ –æ—Ç—á–µ—Ç–∞</DialogTitle>  {/* ‚Üê –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ cursor: default */}
  </DialogHeader>

  <div className="space-y-4">
    <label>–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞</label>  {/* ‚Üê –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ cursor: default */}
    <input type="text" />
  </div>

  <Button onClick={onSubmit}>–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</Button>  {/* ‚Üê –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ cursor: pointer */}
</DialogContent>
```

**–ü–ª—é—Å—ã:**
- ‚úÖ DRY ‚Äî –Ω–µ –¥—É–±–ª–∏—Ä—É–µ–º cursor-default –Ω–∞ –∫–∞–∂–¥–æ–º —ç–ª–µ–º–µ–Ω—Ç–µ
- ‚úÖ –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–æ –≤—Å–µ—Ö –º–æ–¥–∞–ª–∫–∞—Ö
- ‚úÖ –õ–µ–≥–∫–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å (–∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ –Ω–æ–≤—ã–º —ç–ª–µ–º–µ–Ω—Ç–∞–º

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –¢—Ä–µ–±—É–µ—Ç —Å–æ–∑–¥–∞–Ω–∏—è —É—Ç–∏–ª–∏—Ç—ã
- ‚ùå –ù—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ –º–æ–¥–∞–ª–∫–∏, —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π –∫–ª–∞—Å—Å

---

#### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π

**–®–∞–≥ 1: –ù–∞–π—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –º–æ–¥–∞–ª–∫–∏**

1. –ù–∞–π—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –º–æ–¥–∞–ª–∫–∏ –≤–Ω–µ—Å–µ–Ω–∏—è –æ—Ç—á–µ—Ç–∞:
   ```bash
   # –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
   find modules -name "*Report*.tsx" -type f
   find modules -name "*TimeEntry*.tsx" -type f
   find modules -name "*Loading*.tsx" -type f
   ```

2. –û—Ç–∫—Ä—ã—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏ –Ω–∞–π—Ç–∏ Dialog/Sheet

**–®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ cursor-pointer –Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö**

1. –ù–∞–π—Ç–∏ `DialogContent`, `SheetContent`, –∏–ª–∏ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π `<div>`:
   ```typescript
   // –ò—Å–∫–∞—Ç—å —á—Ç–æ-—Ç–æ –ø–æ–¥–æ–±–Ω–æ–µ:
   <DialogContent className="cursor-pointer ...">
   <div className="cursor-pointer" onClick={...}>
   ```

2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –µ—Å—Ç—å –ª–∏ `cursor-pointer` –Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö

**–®–∞–≥ 3: –£–¥–∞–ª–∏—Ç—å cursor-pointer —Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤**

1. –£–¥–∞–ª–∏—Ç—å –∫–ª–∞—Å—Å `cursor-pointer` —Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤:
   ```typescript
   // ‚ùå –ë—ã–ª–æ:
   <DialogContent className="cursor-pointer p-6">

   // ‚úÖ –°—Ç–∞–ª–æ:
   <DialogContent className="p-6">
   ```

2. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ onClick handlers –Ω–∞—Ö–æ–¥—è—Ç—Å—è –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–∞—Ö (–∫–Ω–æ–ø–∫–∞—Ö), –∞ –Ω–µ –Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö

**–®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏**

1. –û—Ç–∫—Ä—ã—Ç—å `globals.css` –∏ –ø–æ–∏—Å–∫–∞—Ç—å –ø—Ä–∞–≤–∏–ª–∞ —Å `cursor: pointer`:
   ```bash
   grep -n "cursor: pointer" app/globals.css
   ```

2. –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω–æ –≥–ª–æ–±–∞–ª—å–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ, –∫–æ—Ç–æ—Ä–æ–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç –º–æ–¥–∞–ª–∫–∏:
   ```css
   /* ‚ùå –£–¥–∞–ª–∏—Ç—å –∏–ª–∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å: */
   .dialog-content * { cursor: pointer; }
   ```

**–®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç**

1. –û—Ç–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª–∫—É –≤–Ω–µ—Å–µ–Ω–∏—è –æ—Ç—á–µ—Ç–∞
2. –ù–∞–≤–µ—Å—Ç–∏ –∫—É—Ä—Å–æ—Ä –Ω–∞ —Ä–∞–∑–ª–∏—á–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã:
   - ‚úÖ **–ó–∞–≥–æ–ª–æ–≤–æ–∫ –º–æ–¥–∞–ª–∫–∏** ‚Üí cursor: default (—Å—Ç—Ä–µ–ª–∫–∞)
   - ‚úÖ **Labels –ø–æ–ª–µ–π** ‚Üí cursor: default
   - ‚úÖ **–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π —Ç–µ–∫—Å—Ç** ‚Üí cursor: default
   - ‚úÖ **–ü—É—Å—Ç–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ** ‚Üí cursor: default
   - ‚úÖ **–ò–Ω–ø—É—Ç—ã** ‚Üí cursor: text (–ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ –ø–æ–ª–µ –≤–≤–æ–¥–∞)
   - ‚úÖ **–ö–Ω–æ–ø–∫–∏** ‚Üí cursor: pointer (—Ä—É–∫–∞)
   - ‚úÖ **–°–µ–ª–µ–∫—Ç—ã** ‚Üí cursor: pointer

**–®–∞–≥ 6: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥—Ä—É–≥–∏–µ –º–æ–¥–∞–ª–∫–∏**

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞ –≤ –æ–¥–Ω–æ–π –º–æ–¥–∞–ª–∫–µ, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –¥—Ä—É–≥–∏–µ:

```bash
# –ù–∞–π—Ç–∏ –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å Dialog/Sheet
grep -r "DialogContent\|SheetContent" modules/ --include="*.tsx"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–∞–∂–¥—ã–π –Ω–∞ –Ω–∞–ª–∏—á–∏–µ cursor-pointer
```

**–®–∞–≥ 7: –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ ‚Äî —Å–æ–∑–¥–∞—Ç—å —É—Ç–∏–ª–∏—Ç—É (–í–∞—Ä–∏–∞–Ω—Ç 4)**

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è –≤–æ –º–Ω–æ–≥–∏—Ö –º–æ–¥–∞–ª–∫–∞—Ö, —Å–æ–∑–¥–∞—Ç—å —É—Ç–∏–ª–∏—Ç–Ω—ã–π –∫–ª–∞—Å—Å –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –∫—É—Ä—Å–æ—Ä–æ–≤ (—Å–º. –í–∞—Ä–∏–∞–Ω—Ç 4).

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ edge cases

**Edge case 1: –ö–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–µ labels (–¥–ª—è radio/checkbox)**

Labels, –∫–æ—Ç–æ—Ä—ã–µ —è–≤–ª—è—é—Ç—Å—è –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è —á–µ–∫–±–æ–∫—Å–æ–≤), **–¥–æ–ª–∂–Ω—ã** –∏–º–µ—Ç—å cursor: pointer:

```typescript
// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ ‚Äî label –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–∞ –¥–ª—è —á–µ–∫–±–æ–∫—Å–∞:
<label className="flex items-center cursor-pointer">
  <input type="checkbox" className="mr-2" />
  <span>–í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ</span>
</label>
```

**Edge case 2: Disabled —ç–ª–µ–º–µ–Ω—Ç—ã**

Disabled –∫–Ω–æ–ø–∫–∏/–∏–Ω–ø—É—Ç—ã **–Ω–µ –¥–æ–ª–∂–Ω—ã** –∏–º–µ—Ç—å cursor: pointer:

```typescript
// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ ‚Äî disabled –∫–Ω–æ–ø–∫–∞ –∏–º–µ–µ—Ç cursor: not-allowed:
<Button disabled className="cursor-not-allowed">
  –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
</Button>
```

**Edge case 3: Read-only –∏–Ω–ø—É—Ç—ã**

Read-only –∏–Ω–ø—É—Ç—ã (–Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–µ –ø–æ–ª—è) **–Ω–µ –¥–æ–ª–∂–Ω—ã** –∏–º–µ—Ç—å cursor: text:

```typescript
// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ ‚Äî read-only –∏–Ω–ø—É—Ç –∏–º–µ–µ—Ç cursor: default:
<input
  type="text"
  value={projectName}
  readOnly
  className="cursor-default bg-muted"
/>
```

**Edge case 4: –ò–∫–æ–Ω–∫–∏ —Å –¥–µ–π—Å—Ç–≤–∏—è–º–∏**

–ò–∫–æ–Ω–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç –¥–µ–π—Å—Ç–≤–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, "—É–¥–∞–ª–∏—Ç—å", "—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å"), **–¥–æ–ª–∂–Ω—ã** –∏–º–µ—Ç—å cursor: pointer:

```typescript
// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ ‚Äî –∏–∫–æ–Ω–∫–∞ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–∞:
<button onClick={handleDelete} className="cursor-pointer">
  <TrashIcon className="h-4 w-4" />
</button>

// ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ ‚Äî –∏–∫–æ–Ω–∫–∞ –Ω–µ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–∞ (—Ç–æ–ª—å–∫–æ –¥–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω–∞—è):
<CheckIcon className="h-4 w-4 cursor-pointer" />  {/* –ù–µ—Ç onClick! */}
```

#### –í—ã–≤–æ–¥—ã

- **–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–æ—Å—Ç—å** ‚Äî –∫—É—Ä—Å–æ—Ä pointer –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ –Ω–µ–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–∞—Ö
- **Root cause** ‚Äî –∫–ª–∞—Å—Å `cursor-pointer` –Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö –∏–ª–∏ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ CSS –ø—Ä–∞–≤–∏–ª–∞
- **–ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ** ‚Äî —É–¥–∞–ª–∏—Ç—å `cursor-pointer` —Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ (–í–∞—Ä–∏–∞–Ω—Ç 1)
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ** ‚Äî —Å–æ–∑–¥–∞—Ç—å —É—Ç–∏–ª–∏—Ç–Ω—ã–π –∫–ª–∞—Å—Å –¥–ª—è –º–æ–¥–∞–ª–æ–∫ (–í–∞—Ä–∏–∞–Ω—Ç 4)
- **–†–µ–∑—É–ª—å—Ç–∞—Ç** ‚Äî –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏, —É–ª—É—á—à–µ–Ω–Ω—ã–π UX

**–û–±—â–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:**
- **–ö—É—Ä—Å–æ—Ä pointer** –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¢–û–õ–¨–ö–û –Ω–∞ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–∞—Ö (–∫–Ω–æ–ø–∫–∏, —Å—Å—ã–ª–∫–∏, –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–µ labels)
- **–ö—É—Ä—Å–æ—Ä default** –Ω–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–º –∫–æ–Ω—Ç–µ–Ω—Ç–µ (–∑–∞–≥–æ–ª–æ–≤–∫–∏, labels, –ø–∞—Ä–∞–≥—Ä–∞—Ñ—ã)
- **–ö—É—Ä—Å–æ—Ä text** –Ω–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –∏–Ω–ø—É—Ç–∞—Ö (–±—Ä–∞—É–∑–µ—Ä —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
- **–ö—É—Ä—Å–æ—Ä not-allowed** –Ω–∞ disabled —ç–ª–µ–º–µ–Ω—Ç–∞—Ö
- **–ù–µ –ø—Ä–∏–º–µ–Ω—è–π** `cursor-pointer` –Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã (div, section) ‚Äî —Ç–æ–ª—å–∫–æ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
- –ò—Å–ø–æ–ª—å–∑—É–π **—É—Ç–∏–ª–∏—Ç–Ω—ã–µ –∫–ª–∞—Å—Å—ã** –¥–ª—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –∫—É—Ä—Å–æ—Ä–æ–≤ –≤–æ –≤—Å–µ—Ö –º–æ–¥–∞–ª–∫–∞—Ö

---

### üåó –ë–ê–ì #9: –¢—ë–º–Ω—ã–µ —Ç—É–ª—Ç–∏–ø—ã –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ —á–µ–∫–ø–æ–∏–Ω—Ç–æ–≤ –≤ —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–µ

**–î–∞—Ç–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è:** 2025-12-30

**–õ–æ–∫–∞—Ü–∏—è:** –ì—Ä–∞—Ñ–∏–∫ —á–µ–∫–ø–æ–∏–Ω—Ç–æ–≤ (–≤–µ—Ä–æ—è—Ç–Ω–æ –≤ Resource Graph –∏–ª–∏ Timeline)

#### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

–ü—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –∫—É—Ä—Å–æ—Ä–∞ –Ω–∞ —á–µ–∫–ø–æ–∏–Ω—Ç—ã –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ –≤ **—Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**, —Ç—É–ª—Ç–∏–ø—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ **—Ç—ë–º–Ω–æ–π —Ç–µ–º–µ** (—Ç—ë–º–Ω—ã–π —Ñ–æ–Ω, —Å–≤–µ—Ç–ª—ã–π —Ç–µ–∫—Å—Ç), —á—Ç–æ —Å–æ–∑–¥–∞—ë—Ç –≤–∏–∑—É–∞–ª—å–Ω—ã–π –¥–∏—Å—Å–æ–Ω–∞–Ω—Å –∏ –Ω–∞—Ä—É—à–∞–µ—Ç –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.

**–¢–µ–∫—É—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ **—Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–µ** (light mode)
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–≤–æ–¥–∏—Ç –∫—É—Ä—Å–æ—Ä –Ω–∞ —á–µ–∫–ø–æ–∏–Ω—Ç –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ (Resource Graph Timeline –∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π)
- –¢—É–ª—Ç–∏–ø –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å **—Ç—ë–º–Ω—ã–º —Ñ–æ–Ω–æ–º** –∏ **—Å–≤–µ—Ç–ª—ã–º —Ç–µ–∫—Å—Ç–æ–º**
- –û—Å—Ç–∞–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –æ—Å—Ç–∞—é—Ç—Å—è –≤ —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–µ
- –í–∏–∑—É–∞–ª—å–Ω–∞—è **–Ω–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å** ‚Äî —Ç—É–ª—Ç–∏–ø—ã –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ç–µ–º–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–ü—Ä–∏–º–µ—Ä –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –ì—Ä–∞—Ñ–∏–∫ (—Å–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞)                        ‚îÇ
‚îÇ                                              ‚îÇ
‚îÇ  ‚óè‚îÄ‚îÄ‚îÄ‚îÄ‚óè‚îÄ‚îÄ‚îÄ‚îÄ‚óè‚îÄ‚îÄ‚îÄ‚îÄ‚óè   ‚Üê –ß–µ–∫–ø–æ–∏–Ω—Ç—ã             ‚îÇ
‚îÇ        ‚Üë                                     ‚îÇ
‚îÇ    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                          ‚îÇ
‚îÇ    ‚îÇ üåô –¢—ë–º–Ω—ã–π —Ñ–æ–Ω‚îÇ  ‚Üê –¢—É–ª—Ç–∏–ø –≤ —Ç—ë–º–Ω–æ–π —Ç–µ–º–µ! ‚îÇ
‚îÇ    ‚îÇ üí° –°–≤–µ—Ç–ª—ã–π   ‚îÇ                          ‚îÇ
‚îÇ    ‚îÇ    —Ç–µ–∫—Å—Ç     ‚îÇ                          ‚îÇ
‚îÇ    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                          ‚îÇ
‚îÇ                                              ‚îÇ
‚îÇ ‚òÄÔ∏è –°–≤–µ—Ç–ª—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å                         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –í **—Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–µ** ‚Üí —Ç—É–ª—Ç–∏–ø—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å **—Å–≤–µ—Ç–ª—ã–º–∏** (—Å–≤–µ—Ç–ª—ã–π —Ñ–æ–Ω, —Ç—ë–º–Ω—ã–π —Ç–µ–∫—Å—Ç)
- –í **—Ç—ë–º–Ω–æ–π —Ç–µ–º–µ** ‚Üí —Ç—É–ª—Ç–∏–ø—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å **—Ç—ë–º–Ω—ã–º–∏** (—Ç—ë–º–Ω—ã–π —Ñ–æ–Ω, —Å–≤–µ—Ç–ª—ã–π —Ç–µ–∫—Å—Ç)
- –¢—É–ª—Ç–∏–ø—ã –¥–æ–ª–∂–Ω—ã **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –ø–æ–¥—Å—Ç—Ä–∞–∏–≤–∞—Ç—å—Å—è –ø–æ–¥ —Ç–µ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–ì–¥–µ –ø—Ä–æ—è–≤–ª—è–µ—Ç—Å—è:**
- –ì—Ä–∞—Ñ–∏–∫ —á–µ–∫–ø–æ–∏–Ω—Ç–æ–≤ (Resource Graph Timeline)
- –í–æ–∑–º–æ–∂–Ω–æ, –¥—Ä—É–≥–∏–µ –≥—Ä–∞—Ñ–∏–∫–∏ —Å —Ç—É–ª—Ç–∏–ø–∞–º–∏ (Gantt chart, –≤—Ä–µ–º–µ–Ω–Ω–∞—è —à–∫–∞–ª–∞)
- **–¢–æ–ª—å–∫–æ –≤ —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–µ** –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ:**
1. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ **—Å–≤–µ—Ç–ª—É—é —Ç–µ–º—É**
2. –û—Ç–∫—Ä—ã—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –≥—Ä–∞—Ñ–∏–∫–æ–º —á–µ–∫–ø–æ–∏–Ω—Ç–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `/tasks` ‚Üí Resource Graph)
3. –ù–∞–≤–µ—Å—Ç–∏ –∫—É—Ä—Å–æ—Ä –Ω–∞ –ª—é–±–æ–π —á–µ–∫–ø–æ–∏–Ω—Ç –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ
4. **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –¢—É–ª—Ç–∏–ø –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ —Ç—ë–º–Ω–æ–π —Ç–µ–º–µ

#### –ü—Ä–∏—á–∏–Ω–∞

**Root cause:** –¢—É–ª—Ç–∏–ø—ã –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ –∏–º–µ—é—Ç **—Ö–∞—Ä–¥–∫–æ–¥ —Ç—ë–º–Ω–æ–π —Ç–µ–º—ã** –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫—É —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Å—Ç–∏–ª—è–º–∏, –∫–æ—Ç–æ—Ä–∞—è –Ω–µ –Ω–∞—Å–ª–µ–¥—É–µ—Ç —Ç–µ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**

1. **–•–∞—Ä–¥–∫–æ–¥ —Ç—ë–º–Ω–æ–π —Ç–µ–º—ã –≤ SVG —Ç—É–ª—Ç–∏–ø–µ**
   ```typescript
   // –¢—É–ª—Ç–∏–ø –¥–ª—è —á–µ–∫–ø–æ–∏–Ω—Ç–æ–≤ —Å —Ö–∞—Ä–¥–∫–æ–¥–æ–º —Ü–≤–µ—Ç–æ–≤
   <g className="checkpoint-tooltip">
     <rect
       fill="#1a1a1a"  // ‚Üê –•–∞—Ä–¥–∫–æ–¥ —Ç—ë–º–Ω–æ–≥–æ —Ñ–æ–Ω–∞
       stroke="#333"
     />
     <text fill="#ffffff">  {/* ‚Üê –•–∞—Ä–¥–∫–æ–¥ —Å–≤–µ—Ç–ª–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ */}
       {checkpoint.name}
     </text>
   </g>
   ```

2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CSS —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Ü–≤–µ—Ç–∞–º–∏**
   ```css
   /* –°—Ç–∏–ª–∏ —Ç—É–ª—Ç–∏–ø–∞ —Å —Ö–∞—Ä–¥–∫–æ–¥–æ–º */
   .checkpoint-tooltip {
     background: #1a1a1a; /* –¢—ë–º–Ω—ã–π —Ñ–æ–Ω */
     color: #ffffff;       /* –°–≤–µ—Ç–ª—ã–π —Ç–µ–∫—Å—Ç */
   }
   ```

3. **–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –≥—Ä–∞—Ñ–∏–∫–æ–≤ —Å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ —Å—Ç–∏–ª—è–º–∏**
   - –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Ç–∏–ø–∞ Recharts, Chart.js, D3.js
   - –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –º–æ–∂–µ—Ç –∏–º–µ—Ç—å **–¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ —Ç—ë–º–Ω—ã–µ —Å—Ç–∏–ª–∏** –¥–ª—è —Ç—É–ª—Ç–∏–ø–æ–≤
   - –°—Ç–∏–ª–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ **–Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ** —Ç–µ–º—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

4. **–¢—É–ª—Ç–∏–ø —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –≤–Ω–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ ThemeProvider**
   - SVG —ç–ª–µ–º–µ–Ω—Ç—ã –∏–ª–∏ Portal –º–æ–≥—É—Ç —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å—Å—è –≤–Ω–µ –∫–æ—Ä–Ω–µ–≤–æ–≥–æ `<html>` —Å —Ç–µ–º–æ–π
   - –¢—É–ª—Ç–∏–ø –Ω–µ –Ω–∞—Å–ª–µ–¥—É–µ—Ç CSS –∫–ª–∞—Å—Å `.dark` –æ—Ç —Ä–æ–¥–∏—Ç–µ–ª—è

#### –õ–æ–∫–∞—Ü–∏—è –∫–æ–¥–∞

**–§–∞–π–ª—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:**

1. **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –≥—Ä–∞—Ñ–∏–∫–∞ —Å —á–µ–∫–ø–æ–∏–Ω—Ç–∞–º–∏:**
   - –ù–∞–π—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π —Ä–µ–Ω–¥–µ—Ä–∏—Ç –≥—Ä–∞—Ñ–∏–∫ (–≤–µ—Ä–æ—è—Ç–Ω–æ –≤ `modules/resource-graph/`)
   - –í–æ–∑–º–æ–∂–Ω—ã–µ —Ñ–∞–π–ª—ã:
     - `modules/resource-graph/components/timeline/CheckpointMarkers.tsx`
     - `modules/resource-graph/components/timeline/StageTimeline.tsx`
     - `modules/resource-graph/components/CheckpointGraph.tsx`
     - `modules/planning/components/GanttChart.tsx`

2. **SVG –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å SVG —ç–ª–µ–º–µ–Ω—Ç—ã `<g>`, `<rect>`, `<text>` –¥–ª—è —Ç—É–ª—Ç–∏–ø–æ–≤
   - –ò—Å–∫–∞—Ç—å inline –∞—Ç—Ä–∏–±—É—Ç—ã `fill`, `stroke`, `color`

3. **CSS —Å—Ç–∏–ª–∏ –≥—Ä–∞—Ñ–∏–∫–∞:**
   - `modules/resource-graph/components/*.module.css`
   - `globals.css` ‚Äî –≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤

4. **–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –≥—Ä–∞—Ñ–∏–∫–æ–≤:**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `package.json` –Ω–∞ –Ω–∞–ª–∏—á–∏–µ:
     - `recharts`
     - `chart.js`
     - `d3`
     - `react-chartjs-2`
   - –ù–∞–π—Ç–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Ç—É–ª—Ç–∏–ø–æ–≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

**–î–ª—è –ø–æ–∏—Å–∫–∞:**

```bash
# –ù–∞–π—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å Checkpoint
find modules -name "*Checkpoint*.tsx" -type f
find modules -name "*Timeline*.tsx" -type f

# –ù–∞–π—Ç–∏ SVG —Ç—É–ª—Ç–∏–ø—ã
grep -r "<text" modules/resource-graph/ modules/planning/

# –ù–∞–π—Ç–∏ —Ö–∞—Ä–¥–∫–æ–¥ —Ü–≤–µ—Ç–æ–≤ –≤ SVG
grep -r 'fill="#' modules/resource-graph/ modules/planning/
grep -r 'stroke="#' modules/resource-graph/ modules/planning/

# –ù–∞–π—Ç–∏ CSS —Å —Ö–∞—Ä–¥–∫–æ–¥ —Ü–≤–µ—Ç–∞–º–∏ –¥–ª—è —Ç—É–ª—Ç–∏–ø–æ–≤
grep -r "tooltip.*background\|tooltip.*color" modules/ --include="*.css"
```

#### –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ—à–µ–Ω–∏—è

**‚ùå –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:**
- –û—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å ‚Äî –Ω–∞—Ä—É—à–∞–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω—É—é –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ç—ë–º–Ω—É—é —Ç–µ–º—É ‚Äî –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –°–∫—Ä—ã—Ç—å —Ç—É–ª—Ç–∏–ø—ã ‚Äî —Ç–µ—Ä—è–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

**‚úÖ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:**

---

**–í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ–º—ã –≤–º–µ—Å—Ç–æ —Ö–∞—Ä–¥–∫–æ–¥ —Ü–≤–µ—Ç–æ–≤ (–±—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ) ‚≠ê**

–ó–∞–º–µ–Ω–∏—Ç—å —Ö–∞—Ä–¥–∫–æ–¥ —Ü–≤–µ—Ç–æ–≤ –≤ SVG/CSS –Ω–∞ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ–º—ã:

```typescript
// modules/resource-graph/components/timeline/CheckpointTooltip.tsx

// ‚ùå –ë—ã–ª–æ ‚Äî —Ö–∞—Ä–¥–∫–æ–¥ —Ü–≤–µ—Ç–æ–≤:
<g className="checkpoint-tooltip">
  <rect
    x={x}
    y={y}
    width={100}
    height={40}
    fill="#1a1a1a"  // –¢—ë–º–Ω—ã–π —Ñ–æ–Ω
    stroke="#333"
  />
  <text x={x + 10} y={y + 20} fill="#ffffff">  {/* –°–≤–µ—Ç–ª—ã–π —Ç–µ–∫—Å—Ç */}
    {checkpoint.name}
  </text>
</g>

// ‚úÖ –°—Ç–∞–ª–æ ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ–º CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
<g className="checkpoint-tooltip">
  <rect
    x={x}
    y={y}
    width={100}
    height={40}
    fill="hsl(var(--popover))"  // –§–æ–Ω –∏–∑ —Ç–µ–º—ã
    stroke="hsl(var(--border))"  // –ì—Ä–∞–Ω–∏—Ü–∞ –∏–∑ —Ç–µ–º—ã
  />
  <text
    x={x + 10}
    y={y + 20}
    fill="hsl(var(--popover-foreground))"  // –¢–µ–∫—Å—Ç –∏–∑ —Ç–µ–º—ã
  >
    {checkpoint.name}
  </text>
</g>
```

**–ò–ª–∏ —á–µ—Ä–µ–∑ CSS –∫–ª–∞—Å—Å:**

```css
/* modules/resource-graph/components/timeline.css */

.checkpoint-tooltip rect {
  fill: hsl(var(--popover));
  stroke: hsl(var(--border));
}

.checkpoint-tooltip text {
  fill: hsl(var(--popover-foreground));
}
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –ø–æ–¥ —Ç–µ–º—É
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –ù—É–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤—Å–µ SVG —ç–ª–µ–º–µ–Ω—Ç—ã —Å —Ö–∞—Ä–¥–∫–æ–¥–æ–º

---

**–í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç Tooltip –∏–∑ Radix UI (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) ‚≠ê**

–ó–∞–º–µ–Ω–∏—Ç—å custom SVG —Ç—É–ª—Ç–∏–ø –Ω–∞ –≥–æ—Ç–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `Tooltip` –∏–∑ UI –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:

```typescript
// modules/resource-graph/components/timeline/CheckpointMarkers.tsx

import { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from '@/components/ui/tooltip'

export function CheckpointMarkers({ checkpoints }) {
  return (
    <g className="checkpoints">
      {checkpoints.map((checkpoint, index) => (
        <TooltipProvider key={index}>
          <Tooltip>
            <TooltipTrigger asChild>
              <circle
                cx={checkpoint.x}
                cy={checkpoint.y}
                r={6}
                fill="hsl(var(--primary))"
                className="cursor-pointer hover:fill-primary/80"
              />
            </TooltipTrigger>
            <TooltipContent>
              <div className="text-xs">
                <p className="font-semibold">{checkpoint.name}</p>
                <p className="text-muted-foreground">{checkpoint.date}</p>
              </div>
            </TooltipContent>
          </Tooltip>
        </TooltipProvider>
      ))}
    </g>
  )
}
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –≥–æ—Ç–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ç–µ–º–æ–π
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –æ–±–µ–∏—Ö —Ç–µ–º–∞—Ö
- ‚úÖ –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–µ–Ω —Å –¥—Ä—É–≥–∏–º–∏ —Ç—É–ª—Ç–∏–ø–∞–º–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç accessibility (ARIA)

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –¢—Ä–µ–±—É–µ—Ç —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –≥—Ä–∞—Ñ–∏–∫–∞
- ‚ùå –ú–æ–∂–µ—Ç –±—ã—Ç—å —Å–ª–æ–∂–Ω–µ–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ SVG

---

**–í–∞—Ä–∏–∞–Ω—Ç 3: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å—Ç–∏–ª–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –≥—Ä–∞—Ñ–∏–∫–æ–≤ (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Recharts/Chart.js)**

–ï—Å–ª–∏ –≥—Ä–∞—Ñ–∏–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫—É, –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –µ—ë —Ç—É–ª—Ç–∏–ø—ã:

**–î–ª—è Recharts:**

```typescript
// modules/resource-graph/components/Timeline.tsx

import { LineChart, Line, Tooltip } from 'recharts'

// –ö–∞—Å—Ç–æ–º–Ω—ã–π —Ç—É–ª—Ç–∏–ø —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ç–µ–º–æ–π
const CustomTooltip = ({ active, payload }) => {
  if (!active || !payload) return null

  return (
    <div className="bg-popover text-popover-foreground border border-border rounded-lg p-2 shadow-lg">
      <p className="text-sm font-semibold">{payload[0]?.name}</p>
      <p className="text-xs text-muted-foreground">{payload[0]?.value}</p>
    </div>
  )
}

export function Timeline() {
  return (
    <LineChart data={data}>
      <Line dataKey="value" />
      <Tooltip content={<CustomTooltip />} />  {/* ‚Üê –ö–∞—Å—Ç–æ–º–Ω—ã–π —Ç—É–ª—Ç–∏–ø */}
    </LineChart>
  )
}
```

**–î–ª—è D3.js:**

```typescript
// modules/resource-graph/components/D3Graph.tsx

import * as d3 from 'd3'

// –°–æ–∑–¥–∞—Ç—å —Ç—É–ª—Ç–∏–ø —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ CSS –∫–ª–∞—Å—Å–∞–º–∏
const tooltip = d3.select('body')
  .append('div')
  .attr('class', 'bg-popover text-popover-foreground border border-border rounded-lg p-2 shadow-lg opacity-0')
  .style('position', 'absolute')

// –ü—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç
circle
  .on('mouseover', (event, d) => {
    tooltip
      .html(`<p class="text-sm font-semibold">${d.name}</p>`)
      .style('opacity', 1)
  })
  .on('mouseout', () => {
    tooltip.style('opacity', 0)
  })
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ–º—ã
- ‚úÖ –ì–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —Ç—É–ª—Ç–∏–ø–∞

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –¢—Ä–µ–±—É–µ—Ç –∑–Ω–∞–Ω–∏—è API –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
- ‚ùå –ú–æ–∂–µ—Ç –±—ã—Ç—å —Å–ª–æ–∂–Ω–µ–µ –¥–ª—è D3.js (–Ω—É–∂–µ–Ω DOM manipulation)

---

**–í–∞—Ä–∏–∞–Ω—Ç 4: –°–æ–∑–¥–∞—Ç—å —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç SVGTooltip (–º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ)**

–°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è SVG —Ç—É–ª—Ç–∏–ø–æ–≤ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ç–µ–º—ã:

```typescript
// components/ui/svg-tooltip.tsx

import { useTheme } from 'next-themes'

interface SVGTooltipProps {
  x: number
  y: number
  content: string | React.ReactNode
  width?: number
  height?: number
}

export function SVGTooltip({ x, y, content, width = 120, height = 40 }: SVGTooltipProps) {
  const { theme } = useTheme()

  // CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —Ç–µ–∫—É—â–µ–π —Ç–µ–º—ã
  const bgColor = 'hsl(var(--popover))'
  const textColor = 'hsl(var(--popover-foreground))'
  const borderColor = 'hsl(var(--border))'

  return (
    <g className="svg-tooltip">
      {/* –§–æ–Ω —Ç—É–ª—Ç–∏–ø–∞ */}
      <rect
        x={x}
        y={y}
        width={width}
        height={height}
        fill={bgColor}
        stroke={borderColor}
        strokeWidth={1}
        rx={4}  // –°–∫—Ä—É–≥–ª–µ–Ω–∏–µ —É–≥–ª–æ–≤
        className="drop-shadow-lg"
      />

      {/* –ö–æ–Ω—Ç–µ–Ω—Ç */}
      <foreignObject x={x} y={y} width={width} height={height}>
        <div className="p-2 text-popover-foreground text-xs">
          {content}
        </div>
      </foreignObject>
    </g>
  )
}
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**

```typescript
// modules/resource-graph/components/CheckpointGraph.tsx

import { SVGTooltip } from '@/components/ui/svg-tooltip'

export function CheckpointGraph({ checkpoints }) {
  const [hoveredCheckpoint, setHoveredCheckpoint] = useState(null)

  return (
    <svg width={800} height={400}>
      {/* –ß–µ–∫–ø–æ–∏–Ω—Ç—ã */}
      {checkpoints.map((cp, idx) => (
        <circle
          key={idx}
          cx={cp.x}
          cy={cp.y}
          r={6}
          onMouseEnter={() => setHoveredCheckpoint(cp)}
          onMouseLeave={() => setHoveredCheckpoint(null)}
        />
      ))}

      {/* –¢—É–ª—Ç–∏–ø */}
      {hoveredCheckpoint && (
        <SVGTooltip
          x={hoveredCheckpoint.x + 10}
          y={hoveredCheckpoint.y - 50}
          content={
            <>
              <p className="font-semibold">{hoveredCheckpoint.name}</p>
              <p className="text-muted-foreground">{hoveredCheckpoint.date}</p>
            </>
          }
        />
      )}
    </svg>
  )
}
```

**–ü–ª—é—Å—ã:**
- ‚úÖ DRY ‚Äî –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–æ –≤—Å–µ—Ö –≥—Ä–∞—Ñ–∏–∫–∞—Ö
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–µ–º—ã
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `foreignObject` –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∞ HTML –≤ SVG
- ‚úÖ –õ–µ–≥–∫–æ –∫–∞—Å—Ç–æ–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –¢—Ä–µ–±—É–µ—Ç —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- ‚ùå `foreignObject` –º–æ–∂–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å –≤ —Å—Ç–∞—Ä—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö (Edge legacy, IE)

---

#### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π

**–®–∞–≥ 1: –ù–∞–π—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å —á–µ–∫–ø–æ–∏–Ω—Ç–∞–º–∏**

1. –ù–∞–π—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≥—Ä–∞—Ñ–∏–∫–∞ —Å —á–µ–∫–ø–æ–∏–Ω—Ç–∞–º–∏:
   ```bash
   # –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
   find modules -name "*Checkpoint*.tsx" -type f
   find modules -name "*Timeline*.tsx" -type f
   find modules -name "*Graph*.tsx" -type f
   ```

2. –û—Ç–∫—Ä—ã—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏ –Ω–∞–π—Ç–∏ –∫–æ–¥ —Ä–µ–Ω–¥–µ—Ä–∞ —Ç—É–ª—Ç–∏–ø–∞

**–®–∞–≥ 2: –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–∏–ø —Ç—É–ª—Ç–∏–ø–∞**

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∫–∞–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Ç—É–ª—Ç–∏–ø:

**–°–ª—É—á–∞–π A: Custom SVG —Ç—É–ª—Ç–∏–ø**
```typescript
// –ü–æ–∏—Å–∫ SVG text/rect
<g className="tooltip">
  <rect fill="#1a1a1a" />  {/* ‚Üê –•–∞—Ä–¥–∫–æ–¥ */}
  <text fill="#ffffff" />
</g>
```
‚Üí –ü—Ä–∏–º–µ–Ω–∏—Ç—å **–í–∞—Ä–∏–∞–Ω—Ç 1** (CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ)

**–°–ª—É—á–∞–π B: –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ (Recharts, Chart.js)**
```typescript
import { Tooltip } from 'recharts'
<Tooltip />  {/* ‚Üê –î–µ—Ñ–æ–ª—Ç–Ω—ã–π —Ç—É–ª—Ç–∏–ø –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ */}
```
‚Üí –ü—Ä–∏–º–µ–Ω–∏—Ç—å **–í–∞—Ä–∏–∞–Ω—Ç 3** (–∫–∞—Å—Ç–æ–º–Ω—ã–π —Ç—É–ª—Ç–∏–ø –±–∏–±–ª–∏–æ—Ç–µ–∫–∏)

**–°–ª—É—á–∞–π C: –ù–µ—Ç —Ç—É–ª—Ç–∏–ø–∞, —Ç–æ–ª—å–∫–æ SVG —ç–ª–µ–º–µ–Ω—Ç—ã**
‚Üí –ü—Ä–∏–º–µ–Ω–∏—Ç—å **–í–∞—Ä–∏–∞–Ω—Ç 2** (–¥–æ–±–∞–≤–∏—Ç—å Radix Tooltip)

**–®–∞–≥ 3: –ó–∞–º–µ–Ω–∏—Ç—å —Ö–∞—Ä–¥–∫–æ–¥ —Ü–≤–µ—Ç–æ–≤ –Ω–∞ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ**

–î–ª—è **–°–ª—É—á–∞—è A** (Custom SVG):

```typescript
// ‚ùå –£–¥–∞–ª–∏—Ç—å —Ö–∞—Ä–¥–∫–æ–¥:
<rect fill="#1a1a1a" stroke="#333" />
<text fill="#ffffff">...</text>

// ‚úÖ –ó–∞–º–µ–Ω–∏—Ç—å –Ω–∞ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
<rect fill="hsl(var(--popover))" stroke="hsl(var(--border))" />
<text fill="hsl(var(--popover-foreground))">...</text>
```

**–®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç**

1. –û—Ç–∫—Ä—ã—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –≥—Ä–∞—Ñ–∏–∫–æ–º
2. **–í —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–µ:**
   - –ù–∞–≤–µ—Å—Ç–∏ –∫—É—Ä—Å–æ—Ä –Ω–∞ —á–µ–∫–ø–æ–∏–Ω—Ç
   - ‚úÖ –¢—É–ª—Ç–∏–ø –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–≤–µ—Ç–ª—ã–º (—Å–≤–µ—Ç–ª—ã–π —Ñ–æ–Ω, —Ç—ë–º–Ω—ã–π —Ç–µ–∫—Å—Ç)

3. **–í —Ç—ë–º–Ω–æ–π —Ç–µ–º–µ:**
   - –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ —Ç—ë–º–Ω—É—é —Ç–µ–º—É
   - –ù–∞–≤–µ—Å—Ç–∏ –∫—É—Ä—Å–æ—Ä –Ω–∞ —á–µ–∫–ø–æ–∏–Ω—Ç
   - ‚úÖ –¢—É–ª—Ç–∏–ø –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ç—ë–º–Ω—ã–º (—Ç—ë–º–Ω—ã–π —Ñ–æ–Ω, —Å–≤–µ—Ç–ª—ã–π —Ç–µ–∫—Å—Ç)

**–®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥—Ä—É–≥–∏–µ –≥—Ä–∞—Ñ–∏–∫–∏**

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –¥—Ä—É–≥–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å –≥—Ä–∞—Ñ–∏–∫–∞–º–∏:

```bash
# –ù–∞–π—Ç–∏ –≤—Å–µ SVG —Ç—É–ª—Ç–∏–ø—ã
grep -r "<text" modules/ --include="*.tsx" | grep -i "tooltip\|hover"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–∞–∂–¥—ã–π –Ω–∞ –Ω–∞–ª–∏—á–∏–µ —Ö–∞—Ä–¥–∫–æ–¥ —Ü–≤–µ—Ç–æ–≤
```

**–®–∞–≥ 6: –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ ‚Äî —Å–æ–∑–¥–∞—Ç—å SVGTooltip –∫–æ–º–ø–æ–Ω–µ–Ω—Ç**

–ï—Å–ª–∏ —Ç—É–ª—Ç–∏–ø—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º–µ—Å—Ç–∞—Ö, —Å–æ–∑–¥–∞—Ç—å —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (–í–∞—Ä–∏–∞–Ω—Ç 4).

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ edge cases

**Edge case 1: –¢—É–ª—Ç–∏–ø –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã SVG**

–ï—Å–ª–∏ —Ç—É–ª—Ç–∏–ø —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –Ω–∞ –∫—Ä–∞—é SVG, –æ–Ω –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–±—Ä–µ–∑–∞–Ω:

```typescript
// –†–µ—à–µ–Ω–∏–µ: –¥–æ–±–∞–≤–∏—Ç—å –æ—Ç—Å—Ç—É–ø—ã –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å position
const tooltipX = checkpoint.x + 10 > svgWidth - tooltipWidth
  ? checkpoint.x - tooltipWidth - 10  // –ü–æ–∫–∞–∑–∞—Ç—å —Å–ª–µ–≤–∞
  : checkpoint.x + 10                  // –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∞
```

**Edge case 2: –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ç—É–ª—Ç–∏–ø—ã**

–ï—Å–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —á–µ–∫–ø–æ–∏–Ω—Ç–æ–≤ –±–ª–∏–∑–∫–æ –¥—Ä—É–≥ –∫ –¥—Ä—É–≥—É, —Ç—É–ª—Ç–∏–ø—ã –º–æ–≥—É—Ç –ø–µ—Ä–µ–∫—Ä—ã–≤–∞—Ç—å—Å—è:

```typescript
// –†–µ—à–µ–Ω–∏–µ: –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ç—É–ª—Ç–∏–ø –∑–∞ —Ä–∞–∑
const [hoveredIndex, setHoveredIndex] = useState<number | null>(null)

{hoveredIndex !== null && (
  <SVGTooltip {...checkpoints[hoveredIndex]} />
)}
```

**Edge case 3: –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è —Ç—É–ª—Ç–∏–ø–∞**

–î–æ–±–∞–≤–∏—Ç—å –ø–ª–∞–≤–Ω–æ–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ –¥–ª—è –ª—É—á—à–µ–≥–æ UX:

```typescript
<g
  className="tooltip opacity-0 transition-opacity duration-200"
  style={{ opacity: isHovered ? 1 : 0 }}
>
  {/* –ö–æ–Ω—Ç–µ–Ω—Ç —Ç—É–ª—Ç–∏–ø–∞ */}
</g>
```

**Edge case 4: –¢—É–ª—Ç–∏–ø—ã –≤ Portal (D3.js)**

–ï—Å–ª–∏ —Ç—É–ª—Ç–∏–ø —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è —á–µ—Ä–µ–∑ Portal (–≤–Ω–µ SVG), —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –æ–Ω –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ —Ç–µ–º—ã:

```typescript
// D3 —Ç—É–ª—Ç–∏–ø –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –∫–ª–∞—Å—Å—ã —Ç–µ–º—ã
const tooltip = d3.select('body')
  .append('div')
  .attr('class', 'bg-popover text-popover-foreground border rounded-lg p-2')  // ‚Üê –ö–ª–∞—Å—Å—ã —Ç–µ–º—ã
```

#### –í—ã–≤–æ–¥—ã

- **–í–∏–∑—É–∞–ª—å–Ω—ã–π –¥–∏—Å—Å–æ–Ω–∞–Ω—Å** ‚Äî —Ç—É–ª—Ç–∏–ø—ã –≤ —Ç—ë–º–Ω–æ–π —Ç–µ–º–µ –ø—Ä–∏ —Å–≤–µ—Ç–ª–æ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
- **Root cause** ‚Äî —Ö–∞—Ä–¥–∫–æ–¥ —Ü–≤–µ—Ç–æ–≤ –≤ SVG —ç–ª–µ–º–µ–Ω—Ç–∞—Ö –∏–ª–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ –≥—Ä–∞—Ñ–∏–∫–æ–≤
- **–ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ** ‚Äî –∑–∞–º–µ–Ω–∏—Ç—å —Ö–∞—Ä–¥–∫–æ–¥ –Ω–∞ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (–í–∞—Ä–∏–∞–Ω—Ç 1)
- **–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ** ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Radix UI Tooltip –∏–ª–∏ –∫–∞—Å—Ç–æ–º–Ω—ã–π —Ç—É–ª—Ç–∏–ø –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (–í–∞—Ä–∏–∞–Ω—Ç—ã 2-3)
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ** ‚Äî —Å–æ–∑–¥–∞—Ç—å —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π SVGTooltip –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (–í–∞—Ä–∏–∞–Ω—Ç 4)
- **–†–µ–∑—É–ª—å—Ç–∞—Ç** ‚Äî —Ç—É–ª—Ç–∏–ø—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –ø–æ–¥ —Ç–µ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–û–±—â–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:**
- **–ù–∏–∫–æ–≥–¥–∞ –Ω–µ —Ö–∞—Ä–¥–∫–æ–¥—å —Ü–≤–µ—Ç–∞** –≤ SVG –∞—Ç—Ä–∏–±—É—Ç–∞—Ö (`fill`, `stroke`) ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
- –ò—Å–ø–æ–ª—å–∑—É–π **CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ–º—ã**: `hsl(var(--popover))`, `hsl(var(--popover-foreground))`, `hsl(var(--border))`
- –î–ª—è **–±–∏–±–ª–∏–æ—Ç–µ–∫ –≥—Ä–∞—Ñ–∏–∫–æ–≤** —Å–æ–∑–¥–∞–≤–∞–π –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Ç—É–ª—Ç–∏–ø—ã —Å –∫–ª–∞—Å—Å–∞–º–∏ Tailwind
- –ò—Å–ø–æ–ª—å–∑—É–π **–≥–æ—Ç–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã** (Radix UI Tooltip) –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ
- –î–ª—è **SVG –≥—Ä–∞—Ñ–∏–∫–æ–≤** –∏—Å–ø–æ–ª—å–∑—É–π `foreignObject` –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∞ HTML —Å —Ç–µ–º–æ–π
- –ü—Ä–æ–≤–µ—Ä—è–π **–æ–±–∞ —Ä–µ–∂–∏–º–∞ —Ç–µ–º—ã** –ø—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –≥—Ä–∞—Ñ–∏–∫–æ–≤

---

### üé® –ë–ê–ì #10: IconColorPicker –ø–æ–ø–∞–¥–∞–µ—Ç –ø–æ–¥ –º–æ–¥–∞–ª–∫—É —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —á–µ–∫–ø–æ–∏–Ω—Ç–∞ (–Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π z-index)

**–î–∞—Ç–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è:** 2025-12-30

**–õ–æ–∫–∞—Ü–∏—è:** –ú–æ–¥–∞–ª–∫–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —á–µ–∫–ø–æ–∏–Ω—Ç–∞ ‚Üí —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∫–æ–Ω–∫–∏ –∏ —Ü–≤–µ—Ç–∞

#### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

–ü—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ —á–µ–∫–ø–æ–∏–Ω—Ç–∞ –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ `CheckpointEditModal`, –ø—Ä–∏ **–∫–ª–∏–∫–µ –Ω–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∫–æ–Ω–∫–∏/—Ü–≤–µ—Ç–∞** (–∫–æ–º–ø–æ–Ω–µ–Ω—Ç `IconColorPicker`), –ø–æ–ø–∞–ø —Å –≤—ã–±–æ—Ä–æ–º –∏–∫–æ–Ω–∫–∏ –∏ —Ü–≤–µ—Ç–∞ **–æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ–¥ –º–æ–¥–∞–ª–∫–æ–π**, –∞ –Ω–µ –Ω–∞–¥ –Ω–µ–π, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –µ–≥–æ **–Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–º –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è**.

**–¢–µ–∫—É—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª–∫—É —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —á–µ–∫–ø–æ–∏–Ω—Ç–∞ (–∫–Ω–æ–ø–∫–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —á–µ–∫–ø–æ–∏–Ω—Ç–∞)
- –ö–ª–∏–∫–∞–µ—Ç –Ω–∞ –∞–≤–∞—Ç–∞—Ä —á–µ–∫–ø–æ–∏–Ω—Ç–∞ (–∫—Ä—É–≥–ª–∞—è –∫–Ω–æ–ø–∫–∞ —Å –∏–∫–æ–Ω–∫–æ–π) –¥–ª—è –≤—ã–±–æ—Ä–∞ –∏–∫–æ–Ω–∫–∏/—Ü–≤–µ—Ç–∞
- –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è Popover —Å –≤—ã–±–æ—Ä–æ–º –∏–∫–æ–Ω–æ–∫ –∏ —Ü–≤–µ—Ç–æ–≤
- **Popover –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–µ—Ç—Å—è –º–æ–¥–∞–ª–∫–æ–π** ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –≤–∏–¥–∏—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∏–ª–∏ –≤–∏–¥–∏—Ç –µ–≥–æ –ø–æ–¥ overlay
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –∏–∫–æ–Ω–∫—É –∏–ª–∏ —Ü–≤–µ—Ç

**–í–∏–∑—É–∞–ª—å–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –ú–æ–¥–∞–ª–∫–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —á–µ–∫–ø–æ–∏–Ω—Ç–∞ (z-100)   ‚îÇ
‚îÇ                                            ‚îÇ
‚îÇ  –ù–∞–∑–≤–∞–Ω–∏–µ: [üéØ] [________]                 ‚îÇ
‚îÇ             ‚Üë                              ‚îÇ
‚îÇ             –ö–ª–∏–∫–Ω—É—Ç—å                       ‚îÇ
‚îÇ                                            ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚Üê –ü–æ–ø–∞–ø (z-50)      ‚îÇ
‚îÇ  ‚îÇ üéØ üöÄ üèÜ üìå     ‚îÇ     –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–µ—Ç—Å—è!    ‚îÇ
‚îÇ  ‚îÇ ‚≠ê üî• üí° üé®     ‚îÇ                        ‚îÇ
‚îÇ  ‚îÇ ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà    ‚îÇ                        ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                       ‚îÇ
‚îÇ                                            ‚îÇ
‚îÇ [–û—Ç–º–µ–Ω–∞]  [–°–æ—Ö—Ä–∞–Ω–∏—Ç—å]                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
    ‚Üë Overlay –º–æ–¥–∞–ª–∫–∏ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–µ—Ç –ø–æ–ø–∞–ø
```

**–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- Popover –¥–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã–≤–∞—Ç—å—Å—è **–Ω–∞–¥ –º–æ–¥–∞–ª–∫–æ–π** —Å z-index –≤—ã—à–µ, —á–µ–º —É –º–æ–¥–∞–ª–∫–∏
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –≤–∏–¥–µ—Ç—å –ø–æ–ª–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤—ã–±–æ—Ä–∞ –∏–∫–æ–Ω–∫–∏/—Ü–≤–µ—Ç–∞
- –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å Popover –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ

**–ì–¥–µ –ø—Ä–æ—è–≤–ª—è–µ—Ç—Å—è:**
- [modules/modals/components/checkpoint/CheckpointEditModal.tsx:385-405](../modules/modals/components/checkpoint/CheckpointEditModal.tsx#L385-L405) ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `IconColorPicker`
- –ê–Ω–∞–ª–æ–≥–∏—á–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ `CheckpointCreateModal.tsx` (—Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏)

**–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ:**
1. –û—Ç–∫—Ä—ã—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å —á–µ–∫–ø–æ–∏–Ω—Ç–∞–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, Resource Graph Timeline)
2. –ù–∞–∂–∞—Ç—å –Ω–∞ —á–µ–∫–ø–æ–∏–Ω—Ç –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
3. –í –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ –Ω–∞–∂–∞—Ç—å –Ω–∞ –∫—Ä—É–≥–ª—É—é –∫–Ω–æ–ø–∫—É —Å –∏–∫–æ–Ω–∫–æ–π (—Å–ª–µ–≤–∞ –æ—Ç –ø–æ–ª—è "–ù–∞–∑–≤–∞–Ω–∏–µ")
4. **–†–µ–∑—É–ª—å—Ç–∞—Ç:** Popover –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è, –Ω–æ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–µ—Ç—Å—è –º–æ–¥–∞–ª–∫–æ–π –∏–ª–∏ –µ—ë overlay

#### –ü—Ä–∏—á–∏–Ω–∞

**Root cause:** –ö–æ–Ω—Ñ–ª–∏–∫—Ç z-index –º–µ–∂–¥—É –º–æ–¥–∞–ª—å–Ω—ã–º –æ–∫–Ω–æ–º –∏ Popover –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º.

**Z-index –∞–Ω–∞–ª–∏–∑:**

1. **–ú–æ–¥–∞–ª–∫–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —á–µ–∫–ø–æ–∏–Ω—Ç–∞:**
   ```typescript
   // CheckpointEditModal.tsx:236
   <div className="fixed inset-0 z-[100]">
     {/* Overlay - –±–ª–æ–∫–∏—Ä—É–µ—Ç –≤—Å–µ –∫–ª–∏–∫–∏ */}
     <div className="absolute inset-0 bg-black/20 dark:bg-black/60 backdrop-blur-sm" />

     {/* Modal Container */}
     <div className="absolute inset-0 flex items-center justify-center p-4">
       {/* Modal content */}
     </div>
   </div>
   ```
   - z-index: **`z-[100]`** (100)
   - Overlay –ø–æ–∫—Ä—ã–≤–∞–µ—Ç –≤–µ—Å—å —ç–∫—Ä–∞–Ω

2. **Popover –∏–∑ Radix UI:**
   ```typescript
   // components/ui/popover.tsx:22
   <PopoverPrimitive.Content
     className={cn(
       "z-50 w-72 rounded-md border bg-popover ...",
       className
     )}
   />
   ```
   - z-index: **`z-50`** (50)
   - –†–µ–Ω–¥–µ—Ä–∏—Ç—Å—è —á–µ—Ä–µ–∑ Portal (–≤–Ω–µ DOM –¥–µ—Ä–µ–≤–∞ –º–æ–¥–∞–ª–∫–∏)

3. **–ü—Ä–æ–±–ª–µ–º–∞:**
   - –ú–æ–¥–∞–ª–∫–∞: `z-100` (100)
   - Popover: `z-50` (50)
   - **100 > 50** ‚Üí –ú–æ–¥–∞–ª–∫–∞ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–µ—Ç Popover

**–ü–æ—á–µ–º—É –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**

Radix UI Popover –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `Portal` –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∞ –≤–Ω–µ DOM –¥–µ—Ä–µ–≤–∞ —Ä–æ–¥–∏—Ç–µ–ª—è (—á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å overflow clipping), –Ω–æ —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –µ–≥–æ z-index **–Ω–µ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π**, –∞ **–≥–ª–æ–±–∞–ª—å–Ω—ã–π**. –ú–æ–¥–∞–ª–∫–∞ —Å `z-[100]` –∏–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–∞–¥ Popover —Å `z-50`.

**–î—Ä—É–≥–∏–µ –º–æ–¥–∞–ª–∫–∏ –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è:**

```typescript
// –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –º–æ–¥–∞–ª–æ–∫ –∏—Å–ø–æ–ª—å–∑—É—é—Ç z-50:
WorkLogCreateModal.tsx:259     ‚Üí z-50
ProjectReportModal.tsx:164     ‚Üí z-50
CheckpointCreateModal.tsx:195  ‚Üí z-50
StageModal.tsx:306             ‚Üí z-50

// CheckpointEditModal ‚Äî –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è —Å z-[100]!
CheckpointEditModal.tsx:236    ‚Üí z-[100]  ‚Üê –ê–Ω–æ–º–∞–ª–∏—è!
```

**–í—ã–≤–æ–¥:** `CheckpointEditModal` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π z-index (`z-[100]`), —Ç–æ–≥–¥–∞ –∫–∞–∫ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –º–æ–¥–∞–ª–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç `z-50`. –≠—Ç–æ —Å–æ–∑–¥–∞—ë—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç —Å Popover.

#### –õ–æ–∫–∞—Ü–∏—è –∫–æ–¥–∞

**–§–∞–π–ª—ã —Å –ø—Ä–æ–±–ª–µ–º–æ–π:**

1. **–ú–æ–¥–∞–ª–∫–∞ —Å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º z-index:**
   - [modules/modals/components/checkpoint/CheckpointEditModal.tsx:236](../modules/modals/components/checkpoint/CheckpointEditModal.tsx#L236)
   ```typescript
   <div className="fixed inset-0 z-[100]">  {/* ‚Üê –°–ª–∏—à–∫–æ–º –≤—ã—Å–æ–∫–∏–π z-index */}
   ```

2. **Popover –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π z-index):**
   - [components/ui/popover.tsx:22](../components/ui/popover.tsx#L22)
   ```typescript
   className="z-50 w-72 rounded-md border ..."  {/* ‚Üê –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π z-50 */}
   ```

3. **IconColorPicker –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Popover:**
   - [modules/checkpoints/components/shared/IconColorPicker.tsx:30-42](../modules/checkpoints/components/shared/IconColorPicker.tsx#L30-L42)
   ```typescript
   <Popover open={open} onOpenChange={setOpen}>
     <PopoverTrigger asChild>
       {renderTrigger ? renderTrigger(...) : <button>...</button>}
     </PopoverTrigger>
     <PopoverContent className="w-[320px] p-2 border ...">
       {/* –í—ã–±–æ—Ä –∏–∫–æ–Ω–∫–∏ –∏ —Ü–≤–µ—Ç–∞ */}
     </PopoverContent>
   </Popover>
   ```

4. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ IconColorPicker –≤ –º–æ–¥–∞–ª–∫–µ:**
   - [modules/modals/components/checkpoint/CheckpointEditModal.tsx:385-405](../modules/modals/components/checkpoint/CheckpointEditModal.tsx#L385-L405)

**–î—Ä—É–≥–∏–µ –º–µ—Å—Ç–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:**
- `CheckpointCreateModal.tsx` ‚Äî –≤–æ–∑–º–æ–∂–Ω–æ —Ç–∞ –∂–µ –ø—Ä–æ–±–ª–µ–º–∞ (—Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏)

#### –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ—à–µ–Ω–∏—è

**‚ùå –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:**
- –£–≤–µ–ª–∏—á–∏–≤–∞—Ç—å z-index Popover –¥–æ `z-[150]` ‚Äî —Å–æ–∑–¥–∞—Å—Ç –Ω–æ–≤—ã–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –∏ –Ω–∞—Ä—É—à–∏—Ç –≥–ª–æ–±–∞–ª—å–Ω—É—é –∏–µ—Ä–∞—Ä—Ö–∏—é z-index
- –†–µ–Ω–¥–µ—Ä–∏—Ç—å IconColorPicker –≤–Ω—É—Ç—Ä–∏ –º–æ–¥–∞–ª–∫–∏ –±–µ–∑ Portal ‚Äî –±—É–¥–µ—Ç –æ–±—Ä–µ–∑–∞—Ç—å—Å—è overflow –º–æ–¥–∞–ª–∫–∏
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å inline dropdown –≤–º–µ—Å—Ç–æ Popover ‚Äî –ø–æ—Ç–µ—Ä—è–µ–º UX Radix UI (accessibility, keyboard nav)

**‚úÖ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:**

---

**–í–∞—Ä–∏–∞–Ω—Ç 1: –ü–æ–Ω–∏–∑–∏—Ç—å z-index –º–æ–¥–∞–ª–∫–∏ –¥–æ z-50 (–±—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ) ‚≠ê**

–ü—Ä–∏–≤–µ—Å—Ç–∏ `CheckpointEditModal` –∫ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º—É z-index, –∫–∞–∫ —É –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –º–æ–¥–∞–ª–æ–∫:

```typescript
// modules/modals/components/checkpoint/CheckpointEditModal.tsx:236

// ‚ùå –ë—ã–ª–æ ‚Äî —Å–ª–∏—à–∫–æ–º –≤—ã—Å–æ–∫–∏–π z-index:
<div className="fixed inset-0 z-[100]">

// ‚úÖ –°—Ç–∞–ª–æ ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π z-index –∫–∞–∫ —É –≤—Å–µ—Ö –º–æ–¥–∞–ª–æ–∫:
<div className="fixed inset-0 z-50">
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (1 —Å–∏–º–≤–æ–ª)
- ‚úÖ –°–æ–≥–ª–∞—Å—É–µ—Ç—Å—è —Å –æ—Å—Ç–∞–ª—å–Ω—ã–º–∏ –º–æ–¥–∞–ª–∫–∞–º–∏
- ‚úÖ Popover (z-50) –±—É–¥–µ—Ç —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å—Å—è –Ω–∞ —Ç–æ–º –∂–µ —É—Ä–æ–≤–Ω–µ, –Ω–æ –±–ª–∞–≥–æ–¥–∞—Ä—è Portal ‚Äî –ø–æ–∑–∂–µ –≤ DOM, –∑–Ω–∞—á–∏—Ç –≤—ã—à–µ –≤–∏–∑—É–∞–ª—å–Ω–æ
- ‚úÖ –ù–µ —Å–æ–∑–¥–∞—ë—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ —Å –¥—Ä—É–≥–∏–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏

**–ú–∏–Ω—É—Å—ã:**
- ‚ö†Ô∏è –ï—Å–ª–∏ –º–æ–¥–∞–ª–∫–∞ –±—ã–ª–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –ø–æ–¥–Ω—è—Ç–∞ –¥–æ z-100 –¥–ª—è –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏—è —á–µ–≥–æ-—Ç–æ ‚Äî –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å (–º–∞–ª–æ–≤–µ—Ä–æ—è—Ç–Ω–æ)

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
–£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –º–æ–¥–∞–ª–∫–∞ –Ω–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É–µ—Ç —Å –¥—Ä—É–≥–∏–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ –ø–æ—Å–ª–µ –ø–æ–Ω–∏–∂–µ–Ω–∏—è z-index:
- Sidebar (–æ–±—ã—á–Ω–æ z-40)
- Header/Navigation (–æ–±—ã—á–Ω–æ z-40)
- Dropdown –º–µ–Ω—é (–æ–±—ã—á–Ω–æ z-50)

---

**–í–∞—Ä–∏–∞–Ω—Ç 2: –ü–æ–≤—ã—Å–∏—Ç—å z-index Popover —Ç–æ–ª—å–∫–æ –¥–ª—è IconColorPicker (–ª–æ–∫–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ)**

–ü–µ—Ä–µ–¥–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–π z-index –≤ PopoverContent —á–µ—Ä–µ–∑ prop:

```typescript
// modules/checkpoints/components/shared/IconColorPicker.tsx:43

// ‚ùå –ë—ã–ª–æ:
<PopoverContent
  className={cn(
    'w-[320px] p-2 border',
    'bg-white border-slate-300',
    'dark:bg-slate-900 dark:border-slate-700'
  )}
  align="start"
>

// ‚úÖ –°—Ç–∞–ª–æ ‚Äî –¥–æ–±–∞–≤–∏—Ç—å z-[150]:
<PopoverContent
  className={cn(
    'w-[320px] p-2 border z-[150]',  // ‚Üê –ü–µ—Ä–µ–∫—Ä—ã–≤–∞–µ—Ç z-100
    'bg-white border-slate-300',
    'dark:bg-slate-900 dark:border-slate-700'
  )}
  align="start"
>
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –ù–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç z-index –º–æ–¥–∞–ª–∫–∏
- ‚úÖ –†–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É –ª–æ–∫–∞–ª—å–Ω–æ –¥–ª—è IconColorPicker

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –°–æ–∑–¥–∞—ë—Ç –Ω–µ–∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å (Popover –±—É–¥–µ—Ç –∏–º–µ—Ç—å —Ä–∞–∑–Ω—ã–µ z-index –≤ —Ä–∞–∑–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö)
- ‚ùå –ú–æ–∂–µ—Ç —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã —Å –¥—Ä—É–≥–∏–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, z-[9999] –≤ ResponsiblesDropdown)
- ‚ùå –ù–µ —Ä–µ—à–∞–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—É—é –ø—Ä–æ–±–ª–µ–º—É ‚Äî –∞–Ω–æ–º–∞–ª—å–Ω—ã–π z-100 —É –º–æ–¥–∞–ª–∫–∏

---

**–í–∞—Ä–∏–∞–Ω—Ç 3: –°–æ–∑–¥–∞—Ç—å PropoverContent —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º z-index (—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ)**

–î–æ–±–∞–≤–∏—Ç—å prop `zIndex` –≤ `PopoverContent`:

```typescript
// components/ui/popover.tsx

const PopoverContent = React.forwardRef<
  React.ElementRef<typeof PopoverPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content> & {
    zIndex?: string  // ‚Üê –ù–æ–≤—ã–π prop
  }
>(({ className, align = "center", sideOffset = 4, zIndex = "z-50", ...props }, ref) => (
  <PopoverPrimitive.Portal>
    <PopoverPrimitive.Content
      ref={ref}
      align={align}
      sideOffset={sideOffset}
      className={cn(
        zIndex,  // ‚Üê –ò—Å–ø–æ–ª—å–∑—É–µ–º prop –≤–º–µ—Å—Ç–æ —Ö–∞—Ä–¥–∫–æ–¥–∞
        "w-72 rounded-md border bg-popover ...",
        className
      )}
      {...props}
    />
  </PopoverPrimitive.Portal>
))
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**

```typescript
// modules/checkpoints/components/shared/IconColorPicker.tsx:43

<PopoverContent
  zIndex="z-[150]"  // ‚Üê –ü–µ—Ä–µ–¥–∞—ë–º –∫–∞—Å—Ç–æ–º–Ω—ã–π z-index
  className="w-[320px] p-2 border ..."
>
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –ì–∏–±–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ ‚Äî –º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å z-index –≥–¥–µ –Ω—É–∂–Ω–æ
- ‚úÖ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å (–¥–µ—Ñ–æ–ª—Ç `z-50`)
- ‚úÖ –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –¥—Ä—É–≥–∏—Ö –º–µ—Å—Ç–∞—Ö

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –ò–∑–º–µ–Ω—è–µ—Ç –±–∞–∑–æ–≤—ã–π UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (–Ω–µ –∏–¥–µ–∞–ª—å–Ω–æ –¥–ª—è shadcn/ui –ø–∞—Ç—Ç–µ—Ä–Ω–∞)
- ‚ùå –í—Å–µ —Ä–∞–≤–Ω–æ –Ω–µ —Ä–µ—à–∞–µ—Ç –∫–æ—Ä–Ω–µ–≤—É—é –ø—Ä–æ–±–ª–µ–º—É ‚Äî –∞–Ω–æ–º–∞–ª—å–Ω—ã–π z-100 —É –º–æ–¥–∞–ª–∫–∏

---

#### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π

**–®–∞–≥ 1: –ü–æ–Ω–∏–∑–∏—Ç—å z-index –º–æ–¥–∞–ª–∫–∏ (–í–∞—Ä–∏–∞–Ω—Ç 1) ‚≠ê**

1. –û—Ç–∫—Ä—ã—Ç—å [modules/modals/components/checkpoint/CheckpointEditModal.tsx:236](../modules/modals/components/checkpoint/CheckpointEditModal.tsx#L236)
2. –ò–∑–º–µ–Ω–∏—Ç—å `z-[100]` –Ω–∞ `z-50`:
   ```typescript
   <div className="fixed inset-0 z-50">  {/* ‚Üê –ë—ã–ª–æ z-[100] */}
   ```
3. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ñ–∞–π–ª

**–®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å CheckpointCreateModal**

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –µ—Å—Ç—å –ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –≤ –º–æ–¥–∞–ª–∫–µ —Å–æ–∑–¥–∞–Ω–∏—è:

```bash
# –ü–æ–∏—Å–∫ z-index –≤ CheckpointCreateModal
grep "z-\[" modules/modals/components/checkpoint/CheckpointCreateModal.tsx
```

–ï—Å–ª–∏ —Ç–∞–º —Ç–æ–∂–µ `z-[100]` ‚Äî –∏—Å–ø—Ä–∞–≤–∏—Ç—å –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ.

**–®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç**

1. –û—Ç–∫—Ä—ã—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å —á–µ–∫–ø–æ–∏–Ω—Ç–∞–º–∏
2. –ù–∞–∂–∞—Ç—å –Ω–∞ —á–µ–∫–ø–æ–∏–Ω—Ç –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
3. –í –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ –Ω–∞–∂–∞—Ç—å –Ω–∞ –∫—Ä—É–≥–ª—É—é –∫–Ω–æ–ø–∫—É —Å –∏–∫–æ–Ω–∫–æ–π
4. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
   - ‚úÖ Popover –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è **–Ω–∞–¥ –º–æ–¥–∞–ª–∫–æ–π**
   - ‚úÖ –ú–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –∏–∫–æ–Ω–∫—É
   - ‚úÖ –ú–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å —Ü–≤–µ—Ç
   - ‚úÖ –ü–æ–ø–∞–ø –Ω–µ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–µ—Ç—Å—è overlay

5. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ —Ä–µ–∂–∏–º–µ —Å–æ–∑–¥–∞–Ω–∏—è:**
   - –û—Ç–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª–∫—É —Å–æ–∑–¥–∞–Ω–∏—è —á–µ–∫–ø–æ–∏–Ω—Ç–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å)
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É IconColorPicker

**–®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –Ω–æ–≤—ã—Ö –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤**

–£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ø–æ–Ω–∏–∂–µ–Ω–∏–µ z-index –º–æ–¥–∞–ª–∫–∏ –Ω–µ —Å–æ–∑–¥–∞–ª–æ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤:

1. **Sidebar –¥–æ–ª–∂–µ–Ω –∑–∞–∫—Ä—ã–≤–∞—Ç—å—Å—è –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –º–æ–¥–∞–ª–∫–∏**
   - –û–±—ã—á–Ω–æ sidebar –∏–º–µ–µ—Ç `z-40`, –º–æ–¥–∞–ª–∫–∞ `z-50` ‚Üí –û–ö

2. **Header –Ω–µ –¥–æ–ª–∂–µ–Ω –ø–µ—Ä–µ–∫—Ä—ã–≤–∞—Ç—å –º–æ–¥–∞–ª–∫—É**
   - –û–±—ã—á–Ω–æ header –∏–º–µ–µ—Ç `z-40`, –º–æ–¥–∞–ª–∫–∞ `z-50` ‚Üí –û–ö

3. **–î—Ä—É–≥–∏–µ Popover/Dropdown –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å –≤–Ω—É—Ç—Ä–∏ –º–æ–¥–∞–ª–∫–∏**
   - –ù–∞–ø—Ä–∏–º–µ—Ä, DatePicker, Select, Dropdown –¥–ª—è —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Ä–∞–∑–¥–µ–ª–æ–≤

**–®–∞–≥ 5: –ü—Ä–æ–≤–µ—Å—Ç–∏ –∞—É–¥–∏—Ç z-index –≤ –º–æ–¥–∞–ª–∫–∞—Ö**

–£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ –º–æ–¥–∞–ª–∫–∏ —Å–ª–µ–¥—É—é—Ç –µ–¥–∏–Ω–æ–º—É —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É:

```bash
# –ù–∞–π—Ç–∏ –≤—Å–µ z-index –≤ –º–æ–¥–∞–ª–∫–∞—Ö
grep -r "z-\[" modules/modals/components/ | grep "fixed inset-0"
```

–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç ‚Äî –≤—Å–µ –º–æ–¥–∞–ª–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç `z-50`, –∫—Ä–æ–º–µ –æ—Å–æ–±—ã—Ö —Å–ª—É—á–∞–µ–≤ (–≤–ª–æ–∂–µ–Ω–Ω—ã–µ –º–æ–¥–∞–ª–∫–∏, –µ—Å–ª–∏ –µ—Å—Ç—å).

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ edge cases

**Edge case 1: –í–ª–æ–∂–µ–Ω–Ω—ã–µ –º–æ–¥–∞–ª–∫–∏**

–ï—Å–ª–∏ –µ—Å—Ç—å –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –º–æ–¥–∞–ª–∫–∏ (–º–æ–¥–∞–ª–∫–∞ –ø–æ–≤–µ—Ä—Ö –º–æ–¥–∞–ª–∫–∏), –Ω—É–∂–Ω–∞ –∏–µ—Ä–∞—Ä—Ö–∏—è z-index:

```typescript
// –í–Ω–µ—à–Ω—è—è –º–æ–¥–∞–ª–∫–∞
<div className="fixed inset-0 z-50">

// –í–ª–æ–∂–µ–Ω–Ω–∞—è –º–æ–¥–∞–ª–∫–∞ (–µ—Å–ª–∏ —Ç–∞–∫–∏–µ –µ—Å—Ç—å)
<div className="fixed inset-0 z-60">
```

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –Ω–µ—Ç –ª–∏ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –º–æ–¥–∞–ª–æ–∫ –≤ `CheckpointEditModal` (–º–∞–ª–æ–≤–µ—Ä–æ—è—Ç–Ω–æ).

**Edge case 2: Popover –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã –º–æ–¥–∞–ª–∫–∏**

–ï—Å–ª–∏ Popover —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –Ω–∞ –∫—Ä–∞—é –º–æ–¥–∞–ª–∫–∏, –æ–Ω –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–±—Ä–µ–∑–∞–Ω:

```typescript
// IconColorPicker.tsx:49 ‚Äî align="start" –º–æ–∂–µ—Ç –ø–æ–º–æ—á—å
<PopoverContent align="start">  {/* –í—ã—Ä–æ–≤–Ω—è—Ç—å –ø–æ –ª–µ–≤–æ–º—É –∫—Ä–∞—é —Ç—Ä–∏–≥–≥–µ—Ä–∞ */}
```

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–ª–æ–∂–µ–Ω–∏–µ Popover –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è—Ö —ç–∫—Ä–∞–Ω–∞.

**Edge case 3: –ù–µ—Å–∫–æ–ª—å–∫–æ Popover –æ—Ç–∫—Ä—ã—Ç–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ**

–ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –æ—Ç–∫—Ä—ã—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ Popover –≤ –º–æ–¥–∞–ª–∫–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, DatePicker + IconColorPicker):

- Radix UI Popover —É–ø—Ä–∞–≤–ª—è–µ—Ç focus trap –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –ü–æ—Å–ª–µ–¥–Ω–∏–π –æ—Ç–∫—Ä—ã—Ç—ã–π –±—É–¥–µ—Ç –Ω–∞ –ø–µ—Ä–µ–¥–Ω–µ–º –ø–ª–∞–Ω–µ (–±–ª–∞–≥–æ–¥–∞—Ä—è Portal)

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –Ω–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –ø—Ä–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º –æ—Ç–∫—Ä—ã—Ç–∏–∏.

**Edge case 4: Keyboard navigation**

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã (Tab, Escape):

- ‚úÖ Tab –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç —Ñ–æ–∫—É—Å –≤–Ω—É—Ç—Ä–∏ Popover
- ‚úÖ Escape –∑–∞–∫—Ä—ã–≤–∞–µ—Ç Popover, –∞ –Ω–µ –º–æ–¥–∞–ª–∫—É
- ‚úÖ –ü–æ—Å–ª–µ –∑–∞–∫—Ä—ã—Ç–∏—è Popover —Ñ–æ–∫—É—Å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –Ω–∞ —Ç—Ä–∏–≥–≥–µ—Ä

#### –í—ã–≤–æ–¥—ã

- **Z-index –∫–æ–Ω—Ñ–ª–∏–∫—Ç** ‚Äî –º–æ–¥–∞–ª–∫–∞ (`z-[100]`) –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–µ—Ç Popover (`z-50`)
- **Root cause** ‚Äî –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π z-index —É `CheckpointEditModal` (–æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –º–æ–¥–∞–ª–æ–∫)
- **–ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ** ‚Äî –ø–æ–Ω–∏–∑–∏—Ç—å z-index –º–æ–¥–∞–ª–∫–∏ –¥–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ `z-50` (–í–∞—Ä–∏–∞–Ω—Ç 1) ‚≠ê
- **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ** ‚Äî –ø–æ–≤—ã—Å–∏—Ç—å z-index Popover –ª–æ–∫–∞–ª—å–Ω–æ (–í–∞—Ä–∏–∞–Ω—Ç 2, –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ** ‚Äî –¥–æ–±–∞–≤–∏—Ç—å prop `zIndex` –≤ PopoverContent (–í–∞—Ä–∏–∞–Ω—Ç 3, –∏–∑–±—ã—Ç–æ—á–Ω–æ)
- **–†–µ–∑—É–ª—å—Ç–∞—Ç** ‚Äî Popover —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –Ω–∞–¥ –º–æ–¥–∞–ª–∫–æ–π, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Ç—å –∏–∫–æ–Ω–∫—É –∏ —Ü–≤–µ—Ç

**–û–±—â–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:**

- **–°–ª–µ–¥—É–π –µ–¥–∏–Ω–æ–º—É —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É z-index** –¥–ª—è –≤—Å–µ—Ö –º–æ–¥–∞–ª–æ–∫ (–æ–±—ã—á–Ω–æ `z-50`)
- **–ù–µ –ø–æ–¥–Ω–∏–º–∞–π z-index –º–æ–¥–∞–ª–æ–∫ –±–µ–∑ –ø—Ä–∏—á–∏–Ω—ã** ‚Äî —ç—Ç–æ —Å–æ–∑–¥–∞—ë—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã —Å Portal –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ (Popover, Tooltip, Select)
- **Popover –≤ Portal** —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –≤–Ω–µ DOM –¥–µ—Ä–µ–≤–∞ ‚Üí –µ–≥–æ z-index –≥–ª–æ–±–∞–ª—å–Ω—ã–π, –∞ –Ω–µ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π
- **–ò–µ—Ä–∞—Ä—Ö–∏—è z-index –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏:**
  - Sidebar/Header: `z-40`
  - Modals: `z-50`
  - Popover/Tooltip: `z-50` (Portal –≤ –∫–æ–Ω—Ü–µ DOM ‚Üí –≤–∏–∑—É–∞–ª—å–Ω–æ –≤—ã—à–µ)
  - Nested modals: `z-60`, `z-70` (–µ—Å–ª–∏ –µ—Å—Ç—å)
- **–ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ z-index –º–æ–¥–∞–ª–∫–∏** –ø—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –Ω–µ —Å–ª–æ–º–∞–ª–∏—Å—å:
  - Popover (DatePicker, Select, Dropdown)
  - Tooltip
  - –î—Ä—É–≥–∏–µ Portal –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- **–ò—Å–ø–æ–ª—å–∑—É–π DevTools –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ z-index:**
  ```javascript
  // Console snippet –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ z-index
  $$('*').forEach(el => {
    const z = getComputedStyle(el).zIndex
    if (z !== 'auto') console.log(el, 'z-index:', z)
  })
  ```

**–°—Å—ã–ª–∫–∏:**
- [Radix UI Portal](https://www.radix-ui.com/primitives/docs/utilities/portal) ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ Portal
- [Popover z-index issues](https://github.com/radix-ui/primitives/issues/1159) ‚Äî –∏–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —Å z-index

---

### üåì –ë–ê–ì #11: –ú–æ–¥–∞–ª–∫–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ç–µ–º–Ω–∞—è –≤ —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–µ

**–î–∞—Ç–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è:** 2025-12-30

**–õ–æ–∫–∞—Ü–∏—è:** –ú–æ–¥–∞–ª–∫–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è/—Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ (`LoadingModal`)

#### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ (–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –Ω–∞ –∑–∞–¥–∞—á—É —Å —É–∫–∞–∑–∞–Ω–∏–µ–º —Å—Ç–∞–≤–∫–∏) **–≤—Å–µ–≥–¥–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ —Ç—ë–º–Ω–æ–π —Ç–µ–º–µ**, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–π —Ç–µ–º—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –ü—Ä–∏ —Ä–∞–±–æ—Ç–µ –≤ **—Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–µ** –º–æ–¥–∞–ª–∫–∞ –æ—Å—Ç–∞—ë—Ç—Å—è —Ç—ë–º–Ω–æ–π, —Å–æ–∑–¥–∞–≤–∞—è –≤–∏–∑—É–∞–ª—å–Ω—ã–π –¥–∏—Å—Å–æ–Ω–∞–Ω—Å.

**–¢–µ–∫—É—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ **—Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–µ** –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª–∫—É —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ (–∫–ª–∏–∫ –Ω–∞ –∑–∞–≥—Ä—É–∑–∫—É –≤ Resource Graph –∏–ª–∏ Timeline)
- **–ú–æ–¥–∞–ª–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ —Ç—ë–º–Ω–æ–π —Ç–µ–º–µ** (—Ç—ë–º–Ω—ã–π —Ñ–æ–Ω, —Å–≤–µ—Ç–ª—ã–π —Ç–µ–∫—Å—Ç, —Ç—ë–º–Ω—ã–µ –∏–Ω–ø—É—Ç—ã)
- –û—Å—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ—Å—Ç–∞—ë—Ç—Å—è –≤ —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–µ
- –í–∏–∑—É–∞–ª—å–Ω–∞—è **–Ω–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å**

**–í–∏–∑—É–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ñ–ª–∏–∫—Ç:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ ‚òÄÔ∏è –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (—Å–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞)            ‚îÇ
‚îÇ                                         ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ üåô –ú–æ–¥–∞–ª–∫–∞ (—Ç—ë–º–Ω–∞—è —Ç–µ–º–∞)          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ                                   ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ                                   ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:                    ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ ‚îÇ üåô –¢—ë–º–Ω—ã–π –∏–Ω–ø—É—Ç     ‚îÇ           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ                                   ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ –°—Ç–∞–≤–∫–∞: [25%][50%][75%][100%]     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ üåô –¢—ë–º–Ω—ã–µ –∫–Ω–æ–ø–∫–∏                  ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ                                   ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ [–£–¥–∞–ª–∏—Ç—å]        [–û—Ç–º–µ–Ω–∞][–°–æ—Ö—Ä.]  ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ                                         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –í **—Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–µ** ‚Üí –º–æ–¥–∞–ª–∫–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å **—Å–≤–µ—Ç–ª–æ–π** (—Å–≤–µ—Ç–ª—ã–π —Ñ–æ–Ω, —Ç—ë–º–Ω—ã–π —Ç–µ–∫—Å—Ç)
- –í **—Ç—ë–º–Ω–æ–π —Ç–µ–º–µ** ‚Üí –º–æ–¥–∞–ª–∫–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å **—Ç—ë–º–Ω–æ–π** (—Ç—ë–º–Ω—ã–π —Ñ–æ–Ω, —Å–≤–µ—Ç–ª—ã–π —Ç–µ–∫—Å—Ç)
- –ú–æ–¥–∞–ª–∫–∞ –¥–æ–ª–∂–Ω–∞ **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –ø–æ–¥—Å—Ç—Ä–∞–∏–≤–∞—Ç—å—Å—è –ø–æ–¥ —Ç–µ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–ì–¥–µ –ø—Ä–æ—è–≤–ª—è–µ—Ç—Å—è:**
- [modules/modals/components/loading/LoadingModal.tsx](../modules/modals/components/loading/LoadingModal.tsx)
- –†–µ–∂–∏–º —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (mode: 'edit')
- –†–µ–∂–∏–º —Å–æ–∑–¥–∞–Ω–∏—è (mode: 'create')
- **–¢–æ–ª—å–∫–æ –≤ —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–µ** (–≤ —Ç—ë–º–Ω–æ–π —Ç–µ–º–µ –ø—Ä–æ–±–ª–µ–º—ã –Ω–µ—Ç, —Ç–∞–∫ –∫–∞–∫ —Ö–∞—Ä–¥–∫–æ–¥ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å —Ç–µ–º–æ–π)

**–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ:**
1. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ **—Å–≤–µ—Ç–ª—É—é —Ç–µ–º—É**
2. –û—Ç–∫—Ä—ã—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É `/tasks` ‚Üí –≤–∫–ª–∞–¥–∫–∞ "–ì—Ä–∞—Ñ–∏–∫ —Ä–µ—Å—É—Ä—Å–æ–≤"
3. –ù–∞–π—Ç–∏ –ª—é–±—É—é –∑–∞–≥—Ä—É–∑–∫—É (–ø–æ–ª–æ—Å–∞ –Ω–∞ Timeline)
4. –ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ –∑–∞–≥—Ä—É–∑–∫—É –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
5. **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ú–æ–¥–∞–ª–∫–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤ —Ç—ë–º–Ω–æ–π —Ç–µ–º–µ

#### –ü—Ä–∏—á–∏–Ω–∞

**Root cause:** –ú–æ–¥–∞–ª–∫–∞ –∏–º–µ–µ—Ç **—Ö–∞—Ä–¥–∫–æ–¥ —Ç—ë–º–Ω–æ–π —Ç–µ–º—ã** –≤ className, –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ–º—ã –∏ –Ω–µ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –∫ —Ç–µ–∫—É—â–µ–π —Ç–µ–º–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

**–ê–Ω–∞–ª–∏–∑ –∫–æ–¥–∞:**

**1. –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –º–æ–¥–∞–ª–∫–∏ ‚Äî —Ö–∞—Ä–¥–∫–æ–¥ —Ç—ë–º–Ω–æ–≥–æ —Ñ–æ–Ω–∞:**

```typescript
// modules/modals/components/loading/LoadingModal.tsx:292-300
<div
  className={cn(
    'pointer-events-auto w-full max-w-md',
    'bg-slate-900/95 backdrop-blur-md',  // ‚Üê –•–∞—Ä–¥–∫–æ–¥ —Ç—ë–º–Ω–æ–≥–æ —Ñ–æ–Ω–∞
    'border border-slate-700/50',         // ‚Üê –•–∞—Ä–¥–∫–æ–¥ —Ç—ë–º–Ω–æ–π –≥—Ä–∞–Ω–∏—Ü—ã
    'rounded-lg shadow-2xl shadow-black/50',
    'transform transition-all duration-200',
    isOpen ? 'scale-100 opacity-100' : 'scale-95 opacity-0'
  )}
>
```

**–ü—Ä–æ–±–ª–µ–º–∞:** `bg-slate-900/95` ‚Äî —ç—Ç–æ —Ö–∞—Ä–¥–∫–æ–¥ —Ç—ë–º–Ω–æ–≥–æ —Ñ–æ–Ω–∞. –ù–µ—Ç `dark:` –ø—Ä–µ—Ñ–∏–∫—Å–∞ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö.

**2. Header ‚Äî —Ö–∞—Ä–¥–∫–æ–¥ —Ç—ë–º–Ω—ã—Ö —Ü–≤–µ—Ç–æ–≤:**

```typescript
// LoadingModal.tsx:304-316
<div className="flex items-center justify-between px-4 py-2.5 border-b border-slate-700/50">
  <div className="flex items-center gap-2">
    <Users className="w-4 h-4 text-amber-500" />
    <span className="text-xs font-medium text-slate-300">  {/* ‚Üê –°–≤–µ—Ç–ª—ã–π —Ç–µ–∫—Å—Ç */}
      {isEditMode ? '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É' : '–ù–æ–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞'}
    </span>
  </div>
  <button className="p-1 text-slate-500 hover:text-slate-300 hover:bg-slate-800 ...">
    {/* ‚Üê –•–∞—Ä–¥–∫–æ–¥ —Ç—ë–º–Ω—ã—Ö hover —Å–æ—Å—Ç–æ—è–Ω–∏–π */}
    <X className="w-4 h-4" />
  </button>
</div>
```

**–ü—Ä–æ–±–ª–µ–º–∞:** `text-slate-300`, `border-slate-700/50`, `hover:bg-slate-800` ‚Äî –≤—Å–µ –¥–ª—è —Ç—ë–º–Ω–æ–π —Ç–µ–º—ã.

**3. –ò–Ω–ø—É—Ç—ã ‚Äî —Ö–∞—Ä–¥–∫–æ–¥ —Ç—ë–º–Ω–æ–≥–æ —Ñ–æ–Ω–∞:**

```typescript
// LoadingModal.tsx:397-405 (Search input)
<input
  className={cn(
    'w-full pl-8 pr-3 py-1.5 text-xs',
    'bg-slate-900/50 border border-slate-600',  // ‚Üê –¢—ë–º–Ω—ã–π —Ñ–æ–Ω
    'rounded text-slate-200',                   // ‚Üê –°–≤–µ—Ç–ª—ã–π —Ç–µ–∫—Å—Ç
    'placeholder:text-slate-600',
    'focus:outline-none focus:border-slate-500 focus:ring-1 focus:ring-slate-500/50',
    'transition-colors'
  )}
/>
```

**–ü—Ä–æ–±–ª–µ–º–∞:** –í—Å–µ –∏–Ω–ø—É—Ç—ã (–ø–æ–∏—Å–∫, —Å—Ç–∞–≤–∫–∞, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π) –∏—Å–ø–æ–ª—å–∑—É—é—Ç `bg-slate-900/50`, `bg-slate-800/50` ‚Äî —Ç—ë–º–Ω—ã–µ —Ñ–æ–Ω—ã.

**4. –ö–Ω–æ–ø–∫–∏ –ø—Ä–µ—Å–µ—Ç–æ–≤ —Å—Ç–∞–≤–∫–∏ ‚Äî —Ö–∞—Ä–¥–∫–æ–¥ —Ç—ë–º–Ω—ã—Ö —Å—Ç–∏–ª–µ–π:**

```typescript
// LoadingModal.tsx:475-485
<button
  className={cn(
    'flex-1 px-2 py-1 text-[11px] font-medium rounded',
    'border transition-all duration-150',
    rate === preset.value
      ? 'border-amber-500/50 bg-amber-500/10 text-amber-400'
      : 'border-slate-700 bg-slate-800/50 text-slate-400 hover:border-slate-600 hover:text-slate-300',
    //  ‚Üë –•–∞—Ä–¥–∫–æ–¥ —Ç—ë–º–Ω—ã—Ö —Ü–≤–µ—Ç–æ–≤ –¥–ª—è –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
  )}
>
```

**–ü—Ä–æ–±–ª–µ–º–∞:** `border-slate-700`, `bg-slate-800/50`, `text-slate-400` ‚Äî —Ç—ë–º–Ω–∞—è —Ç–µ–º–∞ —Ö–∞—Ä–¥–∫–æ–¥–æ–º.

**–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –¥—Ä—É–≥–∏–º–∏ –º–æ–¥–∞–ª–∫–∞–º–∏:**

–ü—Ä–æ–≤–µ—Ä–∏–º –¥—Ä—É–≥–∏–µ –º–æ–¥–∞–ª–∫–∏ –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è:

```typescript
// CheckpointEditModal.tsx:246-254 ‚Äî –ü–†–ê–í–ò–õ–¨–ù–û (–∞–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Ç–µ–º–∞)
<div className={cn(
  'pointer-events-auto w-full max-w-xl',
  'bg-white border border-slate-300',              // ‚Üê –°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
  'dark:bg-slate-900/95 dark:backdrop-blur-md dark:border-slate-700/50',  // ‚Üê –¢—ë–º–Ω–∞—è —á–µ—Ä–µ–∑ dark:
  'rounded-lg shadow-2xl',
  'shadow-slate-500/20 dark:shadow-black/50',
  ...
)}
```

**–í—ã–≤–æ–¥:** –î—Ä—É–≥–∏–µ –º–æ–¥–∞–ª–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç **–∞–¥–∞–ø—Ç–∏–≤–Ω—ã–µ —Å—Ç–∏–ª–∏** —Å `dark:` –ø—Ä–µ—Ñ–∏–∫—Å–æ–º, –∞ `LoadingModal` ‚Äî —Ö–∞—Ä–¥–∫–æ–¥ —Ç—ë–º–Ω–æ–π —Ç–µ–º—ã.

#### –õ–æ–∫–∞—Ü–∏—è –∫–æ–¥–∞

**–§–∞–π–ª—ã —Å –ø—Ä–æ–±–ª–µ–º–æ–π:**

1. **–û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç:**
   - [modules/modals/components/loading/LoadingModal.tsx](../modules/modals/components/loading/LoadingModal.tsx)

2. **–ü—Ä–æ–±–ª–µ–º–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏:**
   - –°—Ç—Ä–æ–∫–∞ 295: `bg-slate-900/95` ‚Äî –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –º–æ–¥–∞–ª–∫–∏
   - –°—Ç—Ä–æ–∫–∞ 296: `border border-slate-700/50` ‚Äî –≥—Ä–∞–Ω–∏—Ü–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
   - –°—Ç—Ä–æ–∫–∞ 304: `border-b border-slate-700/50` ‚Äî header border
   - –°—Ç—Ä–æ–∫–∞ 307: `text-slate-300` ‚Äî —Ç–µ–∫—Å—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∞
   - –°—Ç—Ä–æ–∫–∞ 313: `text-slate-500 hover:text-slate-300 hover:bg-slate-800` ‚Äî –∫–Ω–æ–ø–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è
   - –°—Ç—Ä–æ–∫–∞ 323: `text-slate-400` ‚Äî label
   - –°—Ç—Ä–æ–∫–∞ 365: `bg-slate-800/50 border border-slate-700` ‚Äî –∏–Ω–ø—É—Ç –≤—ã–±–æ—Ä–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
   - –°—Ç—Ä–æ–∫–∞ 386: `bg-slate-800` ‚Äî dropdown
   - –°—Ç—Ä–æ–∫–∞ 399: `bg-slate-900/50 border border-slate-600` ‚Äî search input
   - –°—Ç—Ä–æ–∫–∞ 400: `text-slate-200` ‚Äî —Ç–µ–∫—Å—Ç –≤ –∏–Ω–ø—É—Ç–µ
   - –°—Ç—Ä–æ–∫–∞ 480: `border-slate-700 bg-slate-800/50 text-slate-400` ‚Äî –∫–Ω–æ–ø–∫–∏ –ø—Ä–µ—Å–µ—Ç–æ–≤
   - –°—Ç—Ä–æ–∫–∞ 499: `bg-slate-800/50 border border-slate-700` ‚Äî –∏–Ω–ø—É—Ç —Å—Ç–∞–≤–∫–∏
   - –°—Ç—Ä–æ–∫–∞ 525: `bg-slate-800/50 border border-slate-700` ‚Äî textarea –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
   - –°—Ç—Ä–æ–∫–∞ 575: `border-t border-slate-700/50` ‚Äî footer border

**–í—Å–µ–≥–æ —Ö–∞—Ä–¥–∫–æ–¥ —Ç—ë–º–Ω–æ–π —Ç–µ–º—ã –≤ ~20+ –º–µ—Å—Ç–∞—Ö –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ.**

#### –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ—à–µ–Ω–∏—è

**‚ùå –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:**
- –û—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å ‚Äî –Ω–∞—Ä—É—à–∞–µ—Ç UX –∏ –≤–∏–∑—É–∞–ª—å–Ω—É—é –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ç—ë–º–Ω—É—é —Ç–µ–º—É –≥–ª–æ–±–∞–ª—å–Ω–æ ‚Äî –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –°–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º—ã ‚Äî –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞

**‚úÖ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:**

---

**–í–∞—Ä–∏–∞–Ω—Ç 1: –î–æ–±–∞–≤–∏—Ç—å –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–µ —Å—Ç–∏–ª–∏ —Å dark: –ø—Ä–µ—Ñ–∏–∫—Å–æ–º (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) ‚≠ê**

–ó–∞–º–µ–Ω–∏—Ç—å –≤—Å–µ —Ö–∞—Ä–¥–∫–æ–¥ —Å—Ç–∏–ª–∏ –Ω–∞ –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Tailwind `dark:` –ø—Ä–µ—Ñ–∏–∫—Å–∞.

**–ü—Ä–∏–º–µ—Ä –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –º–æ–¥–∞–ª–∫–∏:**

```typescript
// modules/modals/components/loading/LoadingModal.tsx:292-300

// ‚ùå –ë—ã–ª–æ ‚Äî —Ö–∞—Ä–¥–∫–æ–¥ —Ç—ë–º–Ω–æ–π —Ç–µ–º—ã:
<div
  className={cn(
    'pointer-events-auto w-full max-w-md',
    'bg-slate-900/95 backdrop-blur-md',
    'border border-slate-700/50',
    'rounded-lg shadow-2xl shadow-black/50',
    ...
  )}
>

// ‚úÖ –°—Ç–∞–ª–æ ‚Äî –∞–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Ç–µ–º–∞:
<div
  className={cn(
    'pointer-events-auto w-full max-w-md',
    'bg-white border border-slate-300',                              // –°–≤–µ—Ç–ª–∞—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    'dark:bg-slate-900/95 dark:backdrop-blur-md dark:border-slate-700/50',  // –¢—ë–º–Ω–∞—è —á–µ—Ä–µ–∑ dark:
    'rounded-lg shadow-2xl',
    'shadow-slate-500/20 dark:shadow-black/50',
    ...
  )}
>
```

**–ü—Ä–∏–º–µ—Ä –¥–ª—è —Ç–µ–∫—Å—Ç–∞:**

```typescript
// ‚ùå –ë—ã–ª–æ:
<span className="text-xs font-medium text-slate-300">

// ‚úÖ –°—Ç–∞–ª–æ:
<span className="text-xs font-medium text-slate-700 dark:text-slate-300">
```

**–ü—Ä–∏–º–µ—Ä –¥–ª—è –∏–Ω–ø—É—Ç–æ–≤:**

```typescript
// ‚ùå –ë—ã–ª–æ:
<input
  className={cn(
    'bg-slate-900/50 border border-slate-600',
    'text-slate-200',
    'placeholder:text-slate-600',
    ...
  )}
/>

// ‚úÖ –°—Ç–∞–ª–æ:
<input
  className={cn(
    'bg-white border border-slate-300 text-slate-700',                     // –°–≤–µ—Ç–ª–∞—è
    'dark:bg-slate-900/50 dark:border-slate-600 dark:text-slate-200',      // –¢—ë–º–Ω–∞—è
    'placeholder:text-slate-400 dark:placeholder:text-slate-600',
    ...
  )}
/>
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –°–ª–µ–¥—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º Tailwind CSS
- ‚úÖ –°–æ–≥–ª–∞—Å—É–µ—Ç—Å—è —Å –¥—Ä—É–≥–∏–º–∏ –º–æ–¥–∞–ª–∫–∞–º–∏ (CheckpointEditModal, TaskCreateModal)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –∫ —Ç–µ–º–µ —á–µ—Ä–µ–∑ `.dark` –∫–ª–∞—Å—Å –Ω–∞ `<html>`
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –ª–æ–≥–∏–∫–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

**–ú–∏–Ω—É—Å—ã:**
- ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ ~20 –º–µ—Å—Ç–∞—Ö (–≤—Å–µ —Å—Ç–∏–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞)
- ‚ö†Ô∏è –ù—É–∂–Ω–æ —Ç—â–∞—Ç–µ–ª—å–Ω–æ –ø–æ–¥–æ–±—Ä–∞—Ç—å —Ü–≤–µ—Ç–∞ –¥–ª—è —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º—ã

---

**–í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ–º—ã (–±–æ–ª–µ–µ –≥–∏–±–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ)**

–ó–∞–º–µ–Ω–∏—Ç—å —Ö–∞—Ä–¥–∫–æ–¥ —Ü–≤–µ—Ç–æ–≤ –Ω–∞ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ `globals.css`.

```typescript
// ‚ùå –ë—ã–ª–æ:
<div className="bg-slate-900/95 border-slate-700/50">

// ‚úÖ –°—Ç–∞–ª–æ:
<div className="bg-background border-border">
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—É—é —Ç–µ–º—É –∏–∑ `globals.css`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- –ë–æ–ª–µ–µ —Å–µ–º–∞–Ω—Ç–∏—á–Ω—ã–µ –∫–ª–∞—Å—Å—ã

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- –ú–æ–∂–µ—Ç –Ω–µ —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å —Ç–µ–∫—É—â–∏–º –¥–∏–∑–∞–π–Ω–æ–º (–Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å)
- `bg-background` –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–ª–∏—à–∫–æ–º –∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω—ã–º

---

**–í–∞—Ä–∏–∞–Ω—Ç 3: –°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç-–æ–±—ë—Ä—Ç–∫—É ModalContainer —Å –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–π —Ç–µ–º–æ–π**

–í—ã–Ω–µ—Å—Ç–∏ —Å—Ç–∏–ª–∏ –º–æ–¥–∞–ª–∫–∏ –≤ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç.

```typescript
// components/modal-container.tsx
export function ModalContainer({ children, isOpen, onClose }) {
  return (
    <>
      <div className="fixed inset-0 z-50 bg-black/20 dark:bg-black/60 backdrop-blur-sm" onClick={onClose} />
      <div className="fixed inset-0 z-50 flex items-center justify-center p-4 pointer-events-none">
        <div className={cn(
          'pointer-events-auto w-full max-w-md',
          'bg-white border border-slate-300',
          'dark:bg-slate-900/95 dark:backdrop-blur-md dark:border-slate-700/50',
          'rounded-lg shadow-2xl',
          'shadow-slate-500/20 dark:shadow-black/50',
          'transform transition-all duration-200',
          isOpen ? 'scale-100 opacity-100' : 'scale-95 opacity-0'
        )}>
          {children}
        </div>
      </div>
    </>
  )
}
```

**–ü–ª—é—Å—ã:**
- ‚úÖ DRY ‚Äî –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–æ –≤—Å–µ—Ö –º–æ–¥–∞–ª–∫–∞—Ö
- ‚úÖ –ï–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ —Å—Ç–∏–ª–µ–π

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –¢—Ä–µ–±—É–µ—Ç —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –≤—Å–µ—Ö –º–æ–¥–∞–ª–æ–∫
- ‚ùå –ú–æ–∂–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤–∞—Ç—å —Å DESIGN_GUIDE.md –º–æ–¥–∞–ª–µ–π (Resource Graph style)

---

#### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π

**–®–∞–≥ 1: –ó–∞–º–µ–Ω–∏—Ç—å —Ö–∞—Ä–¥–∫–æ–¥ —Å—Ç–∏–ª–µ–π –Ω–∞ –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–µ (–í–∞—Ä–∏–∞–Ω—Ç 1) ‚≠ê**

–ü—Ä–æ–π—Ç–∏—Å—å –ø–æ –≤—Å–µ–º —Å—Ç–∏–ª—è–º –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ –∏ –¥–æ–±–∞–≤–∏—Ç—å `dark:` –ø—Ä–µ—Ñ–∏–∫—Å—ã.

**–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –º–æ–¥–∞–ª–∫–∏ (—Å—Ç—Ä–æ–∫–∞ 292-300):**

```typescript
className={cn(
  'pointer-events-auto w-full max-w-md',
  'bg-white border border-slate-300',
  'dark:bg-slate-900/95 dark:backdrop-blur-md dark:border-slate-700/50',
  'rounded-lg shadow-2xl',
  'shadow-slate-500/20 dark:shadow-black/50',
  'transform transition-all duration-200',
  isOpen ? 'scale-100 opacity-100' : 'scale-95 opacity-0'
)}
```

**Header (—Å—Ç—Ä–æ–∫–∞ 304-316):**

```typescript
// Border
className="... border-b border-slate-200 dark:border-slate-700/50"

// Title
className="text-xs font-medium text-slate-700 dark:text-slate-300"

// Close button
className="p-1 text-slate-400 hover:text-slate-600 hover:bg-slate-100 dark:text-slate-500 dark:hover:text-slate-300 dark:hover:bg-slate-800 ..."
```

**Labels (–≤—Å–µ label —ç–ª–µ–º–µ–Ω—Ç—ã):**

```typescript
className="block text-[10px] font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wide mb-1.5"
```

**–ò–Ω–ø—É—Ç—ã (search, rate, comment):**

```typescript
className={cn(
  'w-full px-2.5 py-1.5 text-xs',
  'bg-white border border-slate-300 text-slate-700',
  'dark:bg-slate-900/50 dark:border-slate-600 dark:text-slate-200',
  'placeholder:text-slate-400 dark:placeholder:text-slate-600',
  'focus:outline-none focus:border-slate-400 focus:ring-1 focus:ring-slate-400/50',
  'dark:focus:border-slate-500 dark:focus:ring-slate-500/50',
  'transition-colors'
)}
```

**–ö–Ω–æ–ø–∫–∏ –ø—Ä–µ—Å–µ—Ç–æ–≤ —Å—Ç–∞–≤–∫–∏:**

```typescript
className={cn(
  'flex-1 px-2 py-1 text-[11px] font-medium rounded border transition-all duration-150',
  rate === preset.value
    ? 'border-amber-500/50 bg-amber-500/10 text-amber-400'  // Selected ‚Äî –æ–¥–∏–Ω–∞–∫–æ–≤–æ –¥–ª—è –æ–±–µ–∏—Ö —Ç–µ–º
    : cn(
        'border-slate-300 bg-slate-50 text-slate-600',           // Light theme
        'dark:border-slate-700 dark:bg-slate-800/50 dark:text-slate-400',  // Dark theme
        'hover:border-slate-400 hover:text-slate-700',
        'dark:hover:border-slate-600 dark:hover:text-slate-300'
      )
)}
```

**Dropdown:**

```typescript
className="... bg-white border border-slate-200 dark:bg-slate-800 dark:border-slate-700 ..."
```

**Footer:**

```typescript
className="... border-t border-slate-200 dark:border-slate-700/50"
```

**–®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç**

1. –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ **—Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–µ**
2. –û—Ç–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª–∫—É —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏
3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
   - ‚úÖ –ú–æ–¥–∞–ª–∫–∞ –≤ —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–µ (–±–µ–ª—ã–π —Ñ–æ–Ω, —Ç—ë–º–Ω—ã–π —Ç–µ–∫—Å—Ç)
   - ‚úÖ –ò–Ω–ø—É—Ç—ã –≤ —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–µ
   - ‚úÖ –ö–Ω–æ–ø–∫–∏ –≤ —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–µ
   - ‚úÖ Dropdown –≤ —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–µ

4. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –≤ **—Ç—ë–º–Ω—É—é —Ç–µ–º—É**
5. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
   - ‚úÖ –ú–æ–¥–∞–ª–∫–∞ –≤ —Ç—ë–º–Ω–æ–π —Ç–µ–º–µ (—Ç—ë–º–Ω—ã–π —Ñ–æ–Ω, —Å–≤–µ—Ç–ª—ã–π —Ç–µ–∫—Å—Ç)
   - ‚úÖ –í—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ

**–®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±–∞ —Ä–µ–∂–∏–º–∞ (edit –∏ create)**

- **Edit mode:**
  - –ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –∑–∞–≥—Ä—É–∑–∫—É
  - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–≤–µ—Ç–ª—É—é/—Ç—ë–º–Ω—É—é —Ç–µ–º—É

- **Create mode:**
  - –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∑–∞–≥—Ä—É–∑–∫—É
  - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–≤–µ—Ç–ª—É—é/—Ç—ë–º–Ω—É—é —Ç–µ–º—É

**–®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤**

–í **–æ–±–µ–∏—Ö —Ç–µ–º–∞—Ö** –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:
- ‚úÖ Hover —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–Ω–æ–ø–æ–∫
- ‚úÖ Focus —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–Ω–ø—É—Ç–æ–≤
- ‚úÖ Active —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–Ω–æ–ø–æ–∫ –ø—Ä–µ—Å–µ—Ç–æ–≤
- ‚úÖ Disabled —Å–æ—Å—Ç–æ—è–Ω–∏—è (isPending)
- ‚úÖ Delete confirmation –±–ª–æ–∫ (–∫—Ä–∞—Å–Ω—ã–π)

**–®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥—Ä—É–≥–∏–µ –º–æ–¥–∞–ª–∫–∏ –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç —Ö–∞—Ä–¥–∫–æ–¥ —Ç–µ–º—ã**

–ù–∞–π—Ç–∏ –¥—Ä—É–≥–∏–µ –º–æ–¥–∞–ª–∫–∏ —Å –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –ø—Ä–æ–±–ª–µ–º–æ–π:

```bash
# –ü–æ–∏—Å–∫ –º–æ–¥–∞–ª–æ–∫ —Å —Ö–∞—Ä–¥–∫–æ–¥ bg-slate-900
grep -r "bg-slate-9" modules/modals/components/ | grep -v "dark:bg-slate-9"
```

–ï—Å–ª–∏ –Ω–∞–π–¥—É—Ç—Å—è ‚Äî –∏—Å–ø—Ä–∞–≤–∏—Ç—å –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ.

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ edge cases

**Edge case 1: Dropdown –∑–∞ –≥—Ä–∞–Ω–∏—Ü–∞–º–∏ –º–æ–¥–∞–ª–∫–∏**

–ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ dropdown –≤—ã–±–æ—Ä–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞, —É–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –æ–Ω –Ω–µ –æ–±—Ä–µ–∑–∞–µ—Ç—Å—è:

```typescript
// LoadingModal.tsx:386
<div className="absolute top-full left-0 right-0 mt-1 z-50
  bg-white border border-slate-200
  dark:bg-slate-800 dark:border-slate-700
  rounded-lg shadow-xl ...">
```

**Edge case 2: Avatar fallback**

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ fallback –∞–≤–∞—Ç–∞—Ä–∞ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –∫ —Ç–µ–º–µ:

```typescript
// LoadingModal.tsx:342-344
<AvatarFallback className="text-[8px]
  bg-slate-100 text-slate-600
  dark:bg-slate-700 dark:text-slate-400">
  {getInitials(selectedUser)}
</AvatarFallback>
```

**Edge case 3: Selected user badge**

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å selected —Å–æ—Å—Ç–æ—è–Ω–∏–µ (–∂–µ–ª—Ç—ã–π badge):

```typescript
// LoadingModal.tsx:331-335
className={cn(
  'flex items-center gap-2 px-2.5 py-1.5',
  'bg-amber-500/5 border border-amber-500/30',  // –û–¥–∏–Ω–∞–∫–æ–≤–æ –¥–ª—è –æ–±–µ–∏—Ö —Ç–µ–º
  'rounded text-slate-200 dark:text-slate-200', // ‚Üê –ò—Å–ø—Ä–∞–≤–∏—Ç—å: –≤ —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ç—ë–º–Ω—ã–π —Ç–µ–∫—Å—Ç
  'hover:border-amber-500/50 transition-colors'
)}
```

–ò—Å–ø—Ä–∞–≤–∏—Ç—å:
```typescript
'rounded text-slate-700 dark:text-slate-200',  // ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π —Ç–µ–∫—Å—Ç
```

**Edge case 4: Delete confirmation panel**

–ö—Ä–∞—Å–Ω–∞—è –∑–æ–Ω–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —É–¥–∞–ª–µ–Ω–∏—è –¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å –≤ –æ–±–µ–∏—Ö —Ç–µ–º–∞—Ö:

```typescript
// LoadingModal.tsx:538-570
<div className="p-3
  border border-red-500/30 bg-red-500/10  // ‚Üê OK –¥–ª—è –æ–±–µ–∏—Ö —Ç–µ–º
  rounded-lg">

  <div className="text-xs text-red-400 ...">  {/* ‚úÖ OK */}

  <p className="text-[11px]
    text-slate-600 dark:text-slate-400  // ‚Üê –î–æ–±–∞–≤–∏—Ç—å –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å
    mb-3">
```

#### –í—ã–≤–æ–¥—ã

- **–•–∞—Ä–¥–∫–æ–¥ —Ç—ë–º–Ω–æ–π —Ç–µ–º—ã** ‚Äî –º–æ–¥–∞–ª–∫–∞ LoadingModal –Ω–µ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –∫ —Ç–µ–∫—É—â–µ–π —Ç–µ–º–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **Root cause** ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ü–≤–µ—Ç–æ–≤ (`bg-slate-900`, `text-slate-300`) –±–µ–∑ `dark:` –ø—Ä–µ—Ñ–∏–∫—Å–∞
- **–ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ** ‚Äî –¥–æ–±–∞–≤–∏—Ç—å `dark:` –ø—Ä–µ—Ñ–∏–∫—Å—ã –∫–æ –≤—Å–µ–º —Å—Ç–∏–ª—è–º (–í–∞—Ä–∏–∞–Ω—Ç 1) ‚≠ê
- **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞** ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (–í–∞—Ä–∏–∞–Ω—Ç 2) –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å ModalContainer (–í–∞—Ä–∏–∞–Ω—Ç 3)
- **–û–±—ä—ë–º —Ä–∞–±–æ—Ç—ã** ‚Äî ~20 –º–µ—Å—Ç —Å —Ö–∞—Ä–¥–∫–æ–¥ —Å—Ç–∏–ª—è–º–∏ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ
- **–†–µ–∑—É–ª—å—Ç–∞—Ç** ‚Äî –º–æ–¥–∞–ª–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –∫ —Å–≤–µ—Ç–ª–æ–π/—Ç—ë–º–Ω–æ–π —Ç–µ–º–µ

**–û–±—â–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:**

- **–ù–∏–∫–æ–≥–¥–∞ –Ω–µ —Ö–∞—Ä–¥–∫–æ–¥—å —Ç–µ–º—É –≤ –º–æ–¥–∞–ª–∫–∞—Ö** ‚Äî –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π `dark:` –ø—Ä–µ—Ñ–∏–∫—Å—ã
- **–°–ª–µ–¥—É–π –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º –¥—Ä—É–≥–∏—Ö –º–æ–¥–∞–ª–æ–∫** ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π CheckpointEditModal –∫–∞–∫ reference
- **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ —Å—Ç–∏–ª–∏:**
  - –°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞: `bg-white`, `text-slate-700`, `border-slate-300`
  - –¢—ë–º–Ω–∞—è —Ç–µ–º–∞: `dark:bg-slate-900/95`, `dark:text-slate-300`, `dark:border-slate-700/50`
- **CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ–º—ã:**
  - `bg-background`, `text-foreground`, `border-border`
  - `bg-popover`, `text-popover-foreground`
- **–ü—Ä–æ–≤–µ—Ä—è–π –æ–±–∞ —Ä–µ–∂–∏–º–∞ —Ç–µ–º—ã** –ø—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **–ò—Å–ø–æ–ª—å–∑—É–π –±—Ä–∞—É–∑–µ—Ä–Ω—ã–µ DevTools:**
  - Toggle dark mode: `document.documentElement.classList.toggle('dark')`
  - Inspect styles –≤ —Ä–∞–∑–Ω—ã—Ö —Ç–µ–º–∞—Ö

**–°—Å—ã–ª–∫–∏:**
- [Tailwind Dark Mode](https://tailwindcss.com/docs/dark-mode) ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [Next.js Theme System](https://github.com/pacocoursey/next-themes) ‚Äî next-themes –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
- [modules/modals/DESIGN_GUIDE.md](../modules/modals/DESIGN_GUIDE.md) ‚Äî –≥–∞–π–¥ –ø–æ –º–æ–¥–∞–ª–∫–∞–º (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ –Ω–∞–ª–∏—á–∏–µ —Ç–µ–º—ã)

---

### üé® –ë–ê–ì #12: –¢—ë–º–Ω—ã–µ —Ç—É–ª—Ç–∏–ø—ã –Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞—Ö –≤ —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–µ

**–î–∞—Ç–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è:** 2025-12-30

**–õ–æ–∫–∞—Ü–∏—è:** `/tasks` ‚Üí –≤–∫–ª–∞–¥–∫–∞ "–ì—Ä–∞—Ñ–∏–∫ —Ä–µ—Å—É—Ä—Å–æ–≤" (Resource Graph) ‚Üí –Ω–∞–≤–µ–¥–µ–Ω–∏–µ –Ω–∞ —á–∏–ø—ã –∑–∞–≥—Ä—É–∑–æ–∫ –∏ –∞–≤–∞—Ç–∞—Ä—ã

#### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

–ü—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –∫—É—Ä—Å–æ—Ä–∞ –Ω–∞ **—á–∏–ø—ã –∑–∞–≥—Ä—É–∑–æ–∫** (Loading bars/badges) –≤ –≥—Ä–∞—Ñ–∏–∫–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –≤ **—Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**, —Ç—É–ª—Ç–∏–ø—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Å **—Ö–∞—Ä–¥–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ç—ë–º–Ω–æ–π —Ç–µ–º–æ–π** (`bg-zinc-900/95`, `text-white`), —á—Ç–æ —Å–æ–∑–¥–∞—ë—Ç –≤–∏–∑—É–∞–ª—å–Ω—ã–π –¥–∏—Å—Å–æ–Ω–∞–Ω—Å –∏ –Ω–∞—Ä—É—à–∞–µ—Ç –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.

**–¢–µ–∫—É—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ **—Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–µ** (light mode)
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–≤–æ–¥–∏—Ç –∫—É—Ä—Å–æ—Ä –Ω–∞ —á–∏–ø –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ —Ç–∞–π–º–ª–∞–π–Ω–µ
- –ü–æ—è–≤–ª—è–µ—Ç—Å—è —Ç—É–ª—Ç–∏–ø —Å **—Ç—ë–º–Ω—ã–º —Ñ–æ–Ω–æ–º** (`bg-zinc-900/95`) –∏ **—Å–≤–µ—Ç–ª—ã–º —Ç–µ–∫—Å—Ç–æ–º** (`text-white`)
- –û—Å—Ç–∞–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Å—Ç–∞—ë—Ç—Å—è –≤ —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–µ

**–ü—Ä–∏–º–µ—Ä –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –ì—Ä–∞—Ñ–∏–∫ —Ä–µ—Å—É—Ä—Å–æ–≤ (—Å–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞)                          ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ ‚îÇ Loading chip     ‚îÇ  ‚îÇ Tooltip (—Ç—ë–º–Ω–∞—è —Ç–µ–º–∞!!!)     ‚îÇ ‚îÇ
‚îÇ ‚îÇ ‚òÄÔ∏è –°–≤–µ—Ç–ª—ã–π —Ñ–æ–Ω   ‚îÇ  ‚îÇ üåô bg-zinc-900/95            ‚îÇ ‚îÇ
‚îÇ ‚îÇ                  ‚îÇ  ‚îÇ üí° text-white                 ‚îÇ ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–ì–¥–µ –ø—Ä–æ—è–≤–ª—è–µ—Ç—Å—è:**
- [LoadingBars.tsx:342-348](../modules/resource-graph/components/timeline/LoadingBars.tsx#L342-L348) ‚Äî –¢—É–ª—Ç–∏–ø—ã –¥–ª—è —á–∏–ø–æ–≤ –∑–∞–≥—Ä—É–∑–æ–∫ –Ω–∞ —Ç–∞–π–º–ª–∞–π–Ω–µ
- [LoadingBadges.tsx:71-78](../modules/resource-graph/components/timeline/LoadingBadges.tsx#L71-L78) ‚Äî –¢—É–ª—Ç–∏–ø—ã –¥–ª—è overflow –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ ("+N")
- [LoadingBadges.tsx:170-176](../modules/resource-graph/components/timeline/LoadingBadges.tsx#L170-L176) ‚Äî –¢—É–ª—Ç–∏–ø—ã –¥–ª—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∞–≤–∞—Ç–∞—Ä–æ–≤

**–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ:**
1. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ **—Å–≤–µ—Ç–ª—É—é —Ç–µ–º—É** (–µ—Å–ª–∏ –Ω–µ –≤–∫–ª—é—á–µ–Ω–∞)
2. –û—Ç–∫—Ä—ã—Ç—å `/tasks` ‚Üí –≤–∫–ª–∞–¥–∫–∞ "–ì—Ä–∞—Ñ–∏–∫ —Ä–µ—Å—É—Ä—Å–æ–≤"
3. –ù–∞–≤–µ—Å—Ç–∏ –∫—É—Ä—Å–æ—Ä –Ω–∞ –ª—é–±–æ–π —á–∏–ø –∑–∞–≥—Ä—É–∑–∫–∏ –∏–ª–∏ –∞–≤–∞—Ç–∞—Ä —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
4. **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –¢—É–ª—Ç–∏–ø –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ —Ç—ë–º–Ω–æ–π —Ç–µ–º–µ (—Ç—ë–º–Ω—ã–π —Ñ–æ–Ω, —Å–≤–µ—Ç–ª—ã–π —Ç–µ–∫—Å—Ç)

#### –ü—Ä–∏—á–∏–Ω–∞

**Root cause:** –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã `TooltipContent` –≤ –º–æ–¥—É–ª–µ Resource Graph –∏—Å–ø–æ–ª—å–∑—É—é—Ç **—Ö–∞—Ä–¥–∫–æ–¥ —Ç—ë–º–Ω—ã—Ö —Å—Ç–∏–ª–µ–π** –≤ `className`, –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Å—Ç–∏–ª–∏ –∏–∑ –¥–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º—ã.

**–ü—Ä–æ–±–ª–µ–º–Ω—ã–π –∫–æ–¥:**

```typescript
// modules/resource-graph/components/timeline/LoadingBars.tsx:342-348
<TooltipContent
  side="top"
  align="center"
  sideOffset={8}
  className="
    bg-zinc-900/95 backdrop-blur-xl        // ‚Üê –•–∞—Ä–¥–∫–æ–¥ —Ç—ë–º–Ω–æ–≥–æ —Ñ–æ–Ω–∞
    border border-white/10                  // ‚Üê –•–∞—Ä–¥–∫–æ–¥ —Å–≤–µ—Ç–ª–æ–π —Ä–∞–º–∫–∏
    shadow-xl shadow-black/40
    rounded-lg px-3 py-2.5
    max-w-[220px]
  "
>
  <div className="space-y-2">
    {/* Employee info */}
    <div className="flex items-center gap-2">
      <Avatar className="w-6 h-6">
        {/* ... */}
        <AvatarFallback className="text-[9px] bg-zinc-700 text-white/80">
          {/* ‚Üê –•–∞—Ä–¥–∫–æ–¥ —Ç—ë–º–Ω—ã—Ö —Ü–≤–µ—Ç–æ–≤ */}
        </AvatarFallback>
      </Avatar>
      <div>
        <div className="text-sm font-medium text-white">
          {/* ‚Üê –•–∞—Ä–¥–∫–æ–¥ —Å–≤–µ—Ç–ª–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ */}
        </div>
        <div className="text-[10px] text-white/50">
          {/* ‚Üê –•–∞—Ä–¥–∫–æ–¥ —Å–≤–µ—Ç–ª–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ */}
        </div>
      </div>
    </div>

    <div className="flex items-center gap-2 text-[11px] text-white/60">
      {/* ‚Üê –•–∞—Ä–¥–∫–æ–¥ —Å–≤–µ—Ç–ª–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ */}
    </div>
  </div>
</TooltipContent>
```

**–ê–Ω–∞–ª–æ–≥–∏—á–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –≤ LoadingBadges.tsx:**

```typescript
// modules/resource-graph/components/timeline/LoadingBadges.tsx:71-78
<TooltipContent
  side="top"
  className="
    bg-zinc-900/95 backdrop-blur-xl        // ‚Üê –•–∞—Ä–¥–∫–æ–¥
    border border-white/10                  // ‚Üê –•–∞—Ä–¥–∫–æ–¥
    shadow-xl shadow-black/40
    rounded-lg px-3 py-2
  "
>
```

**–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Å—Ç–∏–ª–∏ –∏–∑ –¥–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º—ã (–ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è):**

```typescript
// components/ui/tooltip.tsx:23
<TooltipPrimitive.Content
  className={cn(
    "bg-popover px-3 py-1.5 text-sm text-popover-foreground border",
    // ‚Üë –ò—Å–ø–æ–ª—å–∑—É–µ—Ç CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ–º—ã (–ø—Ä–∞–≤–∏–ª—å–Ω–æ)
    className,
  )}
/>
```

**–ü–æ—á–µ–º—É —ç—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞:**
1. `bg-zinc-900/95` **–ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç** `bg-popover` –∏–∑ –±–∞–∑–æ–≤–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
2. `text-white` **–ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç** `text-popover-foreground`
3. CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (`--popover`, `--popover-foreground`) **–Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è**
4. –¢–µ–º–∞ **–Ω–µ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è** –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –≥–ª–æ–±–∞–ª—å–Ω–æ–π —Ç–µ–º—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

#### –õ–æ–∫–∞—Ü–∏—è –∫–æ–¥–∞

**–§–∞–π–ª—ã —Å –ø—Ä–æ–±–ª–µ–º–æ–π:**

1. **LoadingBars.tsx** ‚Äî —Ç—É–ª—Ç–∏–ø—ã –¥–ª—è —á–∏–ø–æ–≤ –∑–∞–≥—Ä—É–∑–æ–∫:
   - [modules/resource-graph/components/timeline/LoadingBars.tsx:342-348](../modules/resource-graph/components/timeline/LoadingBars.tsx#L342-L348) ‚Äî `<TooltipContent>` —Å —Ö–∞—Ä–¥–∫–æ–¥ —Å—Ç–∏–ª—è–º–∏
   - –ó–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç —Å—Ç—Ä–æ–∫–∏: 342-404 (–≤–µ—Å—å –∫–æ–Ω—Ç–µ–Ω—Ç —Ç—É–ª—Ç–∏–ø–∞)

2. **LoadingBadges.tsx** ‚Äî —Ç—É–ª—Ç–∏–ø—ã –¥–ª—è –∞–≤–∞—Ç–∞—Ä–æ–≤:
   - [modules/resource-graph/components/timeline/LoadingBadges.tsx:71-78](../modules/resource-graph/components/timeline/LoadingBadges.tsx#L71-L78) ‚Äî overflow –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä "+N"
   - [modules/resource-graph/components/timeline/LoadingBadges.tsx:170-176](../modules/resource-graph/components/timeline/LoadingBadges.tsx#L170-L176) ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∞–≤–∞—Ç–∞—Ä—ã
   - –ó–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç —Å—Ç—Ä–æ–∫–∏: 71-87, 170-218 (–∫–æ–Ω—Ç–µ–Ω—Ç —Ç—É–ª—Ç–∏–ø–æ–≤)

3. **–ë–∞–∑–æ–≤—ã–π Tooltip –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (–¥–ª—è —Å–ø—Ä–∞–≤–∫–∏):**
   - [components/ui/tooltip.tsx:23](../components/ui/tooltip.tsx#L23) ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Å—Ç–∏–ª–∏ —Å CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏

**–•–∞—Ä–¥–∫–æ–¥ —Å—Ç–∏–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å:**

| –•–∞—Ä–¥–∫–æ–¥ –∫–ª–∞—Å—Å | –ü—Ä–æ–±–ª–µ–º–∞ | CSS –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞) |
|---------------|----------|-------------------------------|
| `bg-zinc-900/95` | –í—Å–µ–≥–¥–∞ —Ç—ë–º–Ω—ã–π —Ñ–æ–Ω | `bg-popover` |
| `border-white/10` | –°–≤–µ—Ç–ª–∞—è —Ä–∞–º–∫–∞ –≤ —Ç—ë–º–Ω–æ–π —Ç–µ–º–µ | `border` (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç `--border`) |
| `text-white` | –°–≤–µ—Ç–ª—ã–π —Ç–µ–∫—Å—Ç | `text-popover-foreground` |
| `text-white/60`, `text-white/50` | –ü–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Å–≤–µ—Ç–ª—ã–π —Ç–µ–∫—Å—Ç | `text-muted-foreground` |
| `bg-zinc-700` | –¢—ë–º–Ω—ã–π —Ñ–æ–Ω –¥–ª—è fallback | `bg-muted` |

#### –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ—à–µ–Ω–∏—è

**‚ùå –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:**
- –û—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å ‚Äî –Ω–∞—Ä—É—à–∞–µ—Ç –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –¥–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º—ã
- –î–æ–±–∞–≤–ª—è—Ç—å —É—Å–ª–æ–≤–∏–µ –ø–æ —Ç–µ–º–µ (`useTheme()`) ‚Äî –∏–∑–±—ã—Ç–æ—á–Ω—ã–π –∫–æ–¥, —Ö—Ä—É–ø–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ
- –°–æ–∑–¥–∞–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `LoadingTooltip` ‚Äî –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏

**‚úÖ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:**

---

**–í–∞—Ä–∏–∞–Ω—Ç 1: –£–±—Ä–∞—Ç—å —Ö–∞—Ä–¥–∫–æ–¥ —Å—Ç–∏–ª–∏, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) ‚≠ê**

–ó–∞–º–µ–Ω–∏—Ç—å —Ö–∞—Ä–¥–∫–æ–¥ –∫–ª–∞—Å—Å—ã –Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ —Ç–µ–º—ã:

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ LoadingBars.tsx:**

```typescript
// modules/resource-graph/components/timeline/LoadingBars.tsx:342-348

// ‚ùå –ë—ã–ª–æ:
<TooltipContent
  side="top"
  align="center"
  sideOffset={8}
  className="
    bg-zinc-900/95 backdrop-blur-xl
    border border-white/10
    shadow-xl shadow-black/40
    rounded-lg px-3 py-2.5
    max-w-[220px]
  "
>

// ‚úÖ –°—Ç–∞–ª–æ:
<TooltipContent
  side="top"
  align="center"
  sideOffset={8}
  className="
    backdrop-blur-xl
    shadow-xl
    rounded-lg px-3 py-2.5
    max-w-[220px]
  "
>
  {/* bg-popover, border, text-popover-foreground ‚Äî –Ω–∞—Å–ª–µ–¥—É—é—Ç—Å—è –∏–∑ –±–∞–∑–æ–≤–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ */}
```

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–Ω—Ç–µ–Ω—Ç–µ —Ç—É–ª—Ç–∏–ø–∞ (—Ç–µ–∫—Å—Ç –∏ —Ü–≤–µ—Ç–∞):**

```typescript
// Employee info
<div>
  <div className="text-sm font-medium text-popover-foreground">
    {/* –ë—ã–ª–æ: text-white */}
    {loading.employee.name || '–ù–µ –Ω–∞–∑–Ω–∞—á–µ–Ω'}
  </div>
  <div className="text-[10px] text-muted-foreground">
    {/* –ë—ã–ª–æ: text-white/50 */}
    –°—Ç–∞–≤–∫–∞: {formatRate(loading.rate)}
  </div>
</div>

// Period
<div className="flex items-center gap-2 text-[11px] text-muted-foreground">
  {/* –ë—ã–ª–æ: text-white/60 */}
  <span className="text-muted-foreground opacity-60">–ü–µ—Ä–∏–æ–¥:</span>
  {/* –ë—ã–ª–æ: text-white/40 */}
</div>

// Avatar fallback
<AvatarFallback className="text-[9px] bg-muted text-muted-foreground">
  {/* –ë—ã–ª–æ: bg-zinc-700 text-white/80 */}
  {initials}
</AvatarFallback>

// Edit hint
<div className="pt-1 border-t text-[10px] text-muted-foreground opacity-60">
  {/* –ë—ã–ª–æ: border-white/10 text-white/40 */}
  –ù–∞–∂–º–∏—Ç–µ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
</div>
```

**–ê–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ LoadingBadges.tsx:**

```typescript
// modules/resource-graph/components/timeline/LoadingBadges.tsx:71-78

// ‚úÖ –£–±—Ä–∞—Ç—å —Ö–∞—Ä–¥–∫–æ–¥ —Å—Ç–∏–ª–∏:
<TooltipContent
  side="top"
  className="
    backdrop-blur-xl
    shadow-xl
    rounded-lg px-3 py-2
  "
>
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (—É–¥–∞–ª–∏—Ç—å —Ö–∞—Ä–¥–∫–æ–¥ –∫–ª–∞—Å—Å—ã)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–±–µ–∏—Ö —Ç–µ–º
- ‚úÖ –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å —Å –æ—Å—Ç–∞–ª—å–Ω—ã–º UI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- ‚úÖ –ú–µ–Ω—å—à–µ –∫–æ–¥–∞ (–Ω–µ –Ω—É–∂–Ω—ã `dark:` –ø—Ä–µ—Ñ–∏–∫—Å—ã)
- ‚úÖ –°–ª–µ–¥—É–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø—É Single Source of Truth (CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ `globals.css`)

**–ú–∏–Ω—É—Å—ã:**
- ‚ö†Ô∏è –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–∏–∑—É–∞–ª—å–Ω–æ –≤ –æ–±–µ–∏—Ö —Ç–µ–º–∞—Ö (–º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫—É —Ü–≤–µ—Ç–æ–≤)
- ‚ö†Ô∏è `backdrop-blur-xl` –∏ `shadow-xl` –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å (theme-independent)

---

**–í–∞—Ä–∏–∞–Ω—Ç 2: –î–æ–±–∞–≤–∏—Ç—å `dark:` –ø—Ä–µ—Ñ–∏–∫—Å—ã –¥–ª—è –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç–∏ (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)**

–ï—Å–ª–∏ –Ω—É–∂–µ–Ω –±–æ–ª—å—à–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ —Å—Ç–∏–ª—è–º–∏ –≤ –∫–∞–∂–¥–æ–π —Ç–µ–º–µ:

```typescript
<TooltipContent
  className="
    bg-white dark:bg-zinc-900/95
    border-slate-200 dark:border-white/10
    text-slate-900 dark:text-white
    backdrop-blur-xl shadow-xl
    rounded-lg px-3 py-2.5
  "
>
  <div className="text-sm font-medium text-slate-900 dark:text-white">
    {/* ... */}
  </div>
  <div className="text-[10px] text-slate-600 dark:text-white/50">
    {/* ... */}
  </div>
</TooltipContent>
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –Ø–≤–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ —Å—Ç–∏–ª—è–º–∏ –≤ –∫–∞–∂–¥–æ–π —Ç–µ–º–µ
- ‚úÖ –ú–æ–∂–Ω–æ —Ç–æ–Ω–∫–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –≤–∏–∑—É–∞–ª –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–µ–º

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –ë–æ–ª—å—à–µ –∫–æ–¥–∞ (–∫–∞–∂–¥—ã–π –∫–ª–∞—Å—Å –¥—É–±–ª–∏—Ä—É–µ—Ç—Å—è —Å `dark:`)
- ‚ùå –°–ª–æ–∂–Ω–µ–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å (–∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω—É–∂–Ω–æ –¥–µ–ª–∞—Ç—å –≤ –¥–≤—É—Ö –º–µ—Å—Ç–∞—Ö)
- ‚ùå –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º—É (CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ)

---

**–í–∞—Ä–∏–∞–Ω—Ç 3: –°–æ–∑–¥–∞—Ç—å –æ–±—ë—Ä—Ç–∫—É –¥–ª—è —Ç—É–ª—Ç–∏–ø–æ–≤ –º–æ–¥—É–ª—è (–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**

–°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `ResourceGraphTooltip`:

```typescript
// modules/resource-graph/components/timeline/shared/ResourceGraphTooltip.tsx

import { TooltipContent, TooltipContentProps } from '@/components/ui/tooltip'

export function ResourceGraphTooltipContent({ children, ...props }: TooltipContentProps) {
  return (
    <TooltipContent
      {...props}
      className={cn(
        'backdrop-blur-xl shadow-xl rounded-lg px-3 py-2.5',
        props.className
      )}
    >
      {children}
    </TooltipContent>
  )
}
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—Ç–∏–ª–µ–π
- ‚úÖ –ï–¥–∏–Ω–æ–µ –º–µ—Å—Ç–æ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (over-engineering)
- ‚ùå –ù–µ —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É (–≤—Å—ë —Ä–∞–≤–Ω–æ –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ)
- ‚ùå –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –±–∞–∑–æ–≤–æ–≥–æ `TooltipContent`

---

#### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π

**–®–∞–≥ 1: –ò—Å–ø—Ä–∞–≤–∏—Ç—å LoadingBars.tsx**

1. –û—Ç–∫—Ä—ã—Ç—å [modules/resource-graph/components/timeline/LoadingBars.tsx:342](../modules/resource-graph/components/timeline/LoadingBars.tsx#L342)
2. –ù–∞–π—Ç–∏ `<TooltipContent>` (—Å—Ç—Ä–æ–∫–∞ 338)
3. –£–¥–∞–ª–∏—Ç—å —Ö–∞—Ä–¥–∫–æ–¥ —Å—Ç–∏–ª–∏:
   ```typescript
   // –£–¥–∞–ª–∏—Ç—å:
   bg-zinc-900/95
   border border-white/10
   shadow-black/40 (–∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ shadow-xl –±–µ–∑ —Ü–≤–µ—Ç–∞)
   ```
4. –ó–∞–º–µ–Ω–∏—Ç—å –∫–ª–∞—Å—Å—ã —Ç–µ–∫—Å—Ç–∞ –≤ –∫–æ–Ω—Ç–µ–Ω—Ç–µ:
   - `text-white` ‚Üí `text-popover-foreground`
   - `text-white/60`, `text-white/50`, `text-white/40` ‚Üí `text-muted-foreground` (—Å `opacity-60` –µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
   - `bg-zinc-700` ‚Üí `bg-muted`
   - `border-white/10` ‚Üí —É–±—Ä–∞—Ç—å (–Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è `border`)
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ñ–∞–π–ª

**–®–∞–≥ 2: –ò—Å–ø—Ä–∞–≤–∏—Ç—å LoadingBadges.tsx**

1. –û—Ç–∫—Ä—ã—Ç—å [modules/resource-graph/components/timeline/LoadingBadges.tsx:71](../modules/resource-graph/components/timeline/LoadingBadges.tsx#L71)
2. –ù–∞–π—Ç–∏ –î–í–ê –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `<TooltipContent>` (overflow –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∏ –∞–≤–∞—Ç–∞—Ä—ã)
3. –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ç–µ –∂–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:
   - –£–¥–∞–ª–∏—Ç—å `bg-zinc-900/95`, `border-white/10`
   - –ó–∞–º–µ–Ω–∏—Ç—å `text-white` ‚Üí `text-popover-foreground`
   - –ó–∞–º–µ–Ω–∏—Ç—å `text-white/70`, `text-white/60` ‚Üí `text-muted-foreground`
   - –ó–∞–º–µ–Ω–∏—Ç—å `bg-zinc-700` ‚Üí `bg-muted`
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ñ–∞–π–ª

**–®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç**

1. **–í —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–µ:**
   - –û—Ç–∫—Ä—ã—Ç—å `/tasks` ‚Üí –ì—Ä–∞—Ñ–∏–∫ —Ä–µ—Å—É—Ä—Å–æ–≤
   - –ù–∞–≤–µ—Å—Ç–∏ –∫—É—Ä—Å–æ—Ä –Ω–∞ —á–∏–ø –∑–∞–≥—Ä—É–∑–∫–∏
   - **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
     - –¢—É–ª—Ç–∏–ø —Å **—Å–≤–µ—Ç–ª—ã–º —Ñ–æ–Ω–æ–º** (–±–µ–ª—ã–π/—Å–µ—Ä—ã–π)
     - **–¢—ë–º–Ω—ã–π —Ç–µ–∫—Å—Ç** (—Å–µ—Ä—ã–π/—á—ë—Ä–Ω—ã–π)
     - –†–∞–º–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç–µ–º–µ

2. **–í —Ç—ë–º–Ω–æ–π —Ç–µ–º–µ:**
   - –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ —Ç—ë–º–Ω—É—é —Ç–µ–º—É
   - –ù–∞–≤–µ—Å—Ç–∏ –∫—É—Ä—Å–æ—Ä –Ω–∞ —á–∏–ø –∑–∞–≥—Ä—É–∑–∫–∏
   - **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
     - –¢—É–ª—Ç–∏–ø —Å **—Ç—ë–º–Ω—ã–º —Ñ–æ–Ω–æ–º** (—Å–µ—Ä—ã–π/—á—ë—Ä–Ω—ã–π)
     - **–°–≤–µ—Ç–ª—ã–π —Ç–µ–∫—Å—Ç** (–±–µ–ª—ã–π/—Å–≤–µ—Ç–ª–æ-—Å–µ—Ä—ã–π)
     - –†–∞–º–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç–µ–º–µ

**–®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å edge cases**

- ‚úÖ –¢—É–ª—Ç–∏–ø –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ —Ç–µ–º—ã **–≤–æ –≤—Ä–µ–º—è** –Ω–∞–≤–µ–¥–µ–Ω–∏—è
- ‚úÖ Overflow –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä "+N" –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω –≤ –æ–±–µ–∏—Ö —Ç–µ–º–∞—Ö
- ‚úÖ –ê–≤–∞—Ç–∞—Ä—ã –±–µ–∑ —Ñ–æ—Ç–æ (fallback) –∞–¥–∞–ø—Ç–∏—Ä—É—é—Ç—Å—è –∫ —Ç–µ–º–µ
- ‚úÖ Resize hint (–≤–æ –≤—Ä–µ–º—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–∞—Ç) –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω
- ‚úÖ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ —Ç—É–ª—Ç–∏–ø–µ —á–∏—Ç–∞—é—Ç—Å—è –≤ –æ–±–µ–∏—Ö —Ç–µ–º–∞—Ö
- ‚úÖ –î—Ä—É–≥–∏–µ —Ç—É–ª—Ç–∏–ø—ã –≤ –º–æ–¥—É–ª–µ Resource Graph –Ω–µ —Å–ª–æ–º–∞–ª–∏—Å—å

**–®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥—Ä—É–≥–∏–µ —Ç—É–ª—Ç–∏–ø—ã –≤ –º–æ–¥—É–ª–µ**

–£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –Ω–µ—Ç –¥—Ä—É–≥–∏—Ö —Ç—É–ª—Ç–∏–ø–æ–≤ —Å —Ö–∞—Ä–¥–∫–æ–¥ —Å—Ç–∏–ª—è–º–∏:

```bash
# –ù–∞–π—Ç–∏ –≤—Å–µ TooltipContent –≤ Resource Graph
grep -r "TooltipContent" modules/resource-graph/components/timeline/

# –ù–∞–π—Ç–∏ —Ö–∞—Ä–¥–∫–æ–¥ dark-—Å—Ç–∏–ª–µ–π
grep -r "bg-zinc-900\|bg-slate-900" modules/resource-graph/components/timeline/
grep -r "text-white" modules/resource-graph/components/timeline/
```

–ï—Å–ª–∏ –Ω–∞–π–¥—É—Ç—Å—è –¥—Ä—É–≥–∏–µ –º–µ—Å—Ç–∞ ‚Äî –ø—Ä–∏–º–µ–Ω–∏—Ç—å —Ç–µ –∂–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è.

#### –í—ã–≤–æ–¥—ã

- **–í–∏–∑—É–∞–ª—å–Ω—ã–π –¥–∏—Å—Å–æ–Ω–∞–Ω—Å** ‚Äî —Ç—É–ª—Ç–∏–ø—ã –≤ —Ç—ë–º–Ω–æ–π —Ç–µ–º–µ –ø—Ä–∏ —Å–≤–µ—Ç–ª–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
- **Root cause** ‚Äî —Ö–∞—Ä–¥–∫–æ–¥ –∫–ª–∞—Å—Å–æ–≤ `bg-zinc-900/95`, `text-white`, `border-white/10` –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—é—Ç CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ–º—ã
- **–ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ** ‚Äî —É–¥–∞–ª–∏—Ç—å —Ö–∞—Ä–¥–∫–æ–¥, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (`bg-popover`, `text-popover-foreground`, `text-muted-foreground`)
- **–†–µ–∑—É–ª—å—Ç–∞—Ç** ‚Äî —Ç—É–ª—Ç–∏–ø—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–¥–∞–ø—Ç–∏—Ä—É—é—Ç—Å—è –∫ —Ç–µ–º–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **–û–±—ä—ë–º —Ä–∞–±–æ—Ç—ã** ‚Äî 2 —Ñ–∞–π–ª–∞, ~6 –º–µ—Å—Ç —Å –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏

**–û–±—â–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:**

- **–ù–∏–∫–æ–≥–¥–∞ –Ω–µ —Ö–∞—Ä–¥–∫–æ–¥—å —Ü–≤–µ—Ç–∞** –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏—Ö –¥–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º—É
- **–ò—Å–ø–æ–ª—å–∑—É–π CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ–º—ã** –∏–∑ Tailwind:
  - `bg-popover`, `text-popover-foreground` ‚Äî –¥–ª—è popover/tooltip
  - `bg-muted`, `text-muted-foreground` ‚Äî –¥–ª—è –≤—Ç–æ—Ä–∏—á–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
  - `border` ‚Äî –¥–ª—è —Ä–∞–º–æ–∫ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç `--border`)
- **–ù–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–π –±–∞–∑–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã** (`TooltipContent`) –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- **–ü—Ä–æ–≤–µ—Ä—è–π –æ–±–∞ —Ä–µ–∂–∏–º–∞ —Ç–µ–º—ã** –ø—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ UI
- **Theme-independent —Å—Ç–∏–ª–∏** (`backdrop-blur-xl`, `shadow-xl`, `rounded-lg`) –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å

**–°—Å—ã–ª–∫–∏:**

- [Tailwind Dark Mode](https://tailwindcss.com/docs/dark-mode) ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [Shadcn/ui Theming](https://ui.shadcn.com/docs/theming) ‚Äî CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º—ã
- [components/ui/tooltip.tsx](../components/ui/tooltip.tsx#L23) ‚Äî –±–∞–∑–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç Tooltip

---

### üîÑ –ë–ê–ì #13: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏

**–î–∞—Ç–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è:** 2025-12-30

**–õ–æ–∫–∞—Ü–∏—è:** `/tasks` ‚Üí –≤–∫–ª–∞–¥–∫–∞ "–ì—Ä–∞—Ñ–∏–∫ —Ä–µ—Å—É—Ä—Å–æ–≤" ‚Üí —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ —á–µ—Ä–µ–∑ –º–æ–¥–∞–ª–∫—É

#### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

–ü—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ **–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è**, **—Å—Ç–∞–≤–∫–∏** –∏–ª–∏ **—Å–º–µ–Ω–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞** –≤ –º–æ–¥–∞–ª–∫–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ (LoadingModal), –∏–∑–º–µ–Ω–µ–Ω–∏—è **–Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Å—Ä–∞–∑—É** –ø–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –≤–∏–¥–µ—Ç—å **—Å—Ç–∞—Ä—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è** –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ –Ω–µ –æ–±–Ω–æ–≤–∏—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—Ä—É—á–Ω—É—é (F5).

**–¢–µ–∫—É—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª–∫—É —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ (–∫–ª–∏–∫ –Ω–∞ —á–∏–ø –∑–∞–≥—Ä—É–∑–∫–∏)
2. –ò–∑–º–µ–Ω—è–µ—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π, —Å—Ç–∞–≤–∫—É –∏–ª–∏ –≤—ã–±–∏—Ä–∞–µ—Ç –¥—Ä—É–≥–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
3. –ù–∞–∂–∏–º–∞–µ—Ç "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"
4. –ú–æ–¥–∞–ª–∫–∞ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è
5. **–ü—Ä–æ–±–ª–µ–º–∞:** –ù–∞ —Ç–∞–π–º–ª–∞–π–Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è **—Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ**:
   - –°—Ç–∞—Ä—ã–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (–∏–ª–∏ –µ–≥–æ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ)
   - –°—Ç–∞—Ä–∞—è —Å—Ç–∞–≤–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 100% –≤–º–µ—Å—Ç–æ 50%)
   - –°—Ç–∞—Ä—ã–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ (–∞–≤–∞—Ç–∞—Ä –∏ –∏–º—è –Ω–µ –º–µ–Ω—è—é—Ç—Å—è)
6. –ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã (F5) ‚Äî –¥–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**–ü—Ä–∏–º–µ—Ä:**
```
–î–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –°–æ—Ç—Ä—É–¥–Ω–∏–∫: –ò–≤–∞–Ω–æ–≤ –ò.         ‚îÇ
‚îÇ –°—Ç–∞–≤–∫–∞: 100%                 ‚îÇ
‚îÇ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: "–û—Å–Ω–æ–≤–Ω–∞—è —Ä–æ–ª—å" ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–µ–Ω—è–µ—Ç:
- –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –Ω–∞ "–ü–µ—Ç—Ä–æ–≤–∞ –ü."
- –°—Ç–∞–≤–∫—É –Ω–∞ 50%
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –Ω–∞ "–ß–∞—Å—Ç–∏—á–Ω–∞—è –∑–∞–Ω—è—Ç–æ—Å—Ç—å"

–ü–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è (–ë–ï–ó –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã):
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –°–æ—Ç—Ä—É–¥–Ω–∏–∫: –ò–≤–∞–Ω–æ–≤ –ò.   ‚Üê ‚ùå –°—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ!
‚îÇ –°—Ç–∞–≤–∫–∞: 100%           ‚Üê ‚ùå –°—Ç–∞—Ä–∞—è —Å—Ç–∞–≤–∫–∞!
‚îÇ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: "–û—Å–Ω–æ–≤–Ω–∞—è —Ä–æ–ª—å" ‚Üê ‚ùå –°—Ç–∞—Ä—ã–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π!
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

–ü–æ—Å–ª–µ F5:
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –°–æ—Ç—Ä—É–¥–Ω–∏–∫: –ü–µ—Ç—Ä–æ–≤–∞ –ü.  ‚úÖ –û–±–Ω–æ–≤–∏–ª–æ—Å—å
‚îÇ –°—Ç–∞–≤–∫–∞: 50%            ‚úÖ –û–±–Ω–æ–≤–∏–ª–æ—Å—å
‚îÇ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: "–ß–∞—Å—Ç–∏—á–Ω–∞—è –∑–∞–Ω—è—Ç–æ—Å—Ç—å" ‚úÖ –û–±–Ω–æ–≤–∏–ª–æ—Å—å
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–ì–¥–µ –ø—Ä–æ—è–≤–ª—è–µ—Ç—Å—è:**
- –í—Å–µ —á–∏–ø—ã –∑–∞–≥—Ä—É–∑–æ–∫ –Ω–∞ —Ç–∞–π–º–ª–∞–π–Ω–µ (LoadingBars)
- –¢—É–ª—Ç–∏–ø—ã –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ —á–∏–ø—ã
- –ê–≤–∞—Ç–∞—Ä—ã –∑–∞–≥—Ä—É–∑–æ–∫ (LoadingBadges)

**–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ:**
1. –û—Ç–∫—Ä—ã—Ç—å `/tasks` ‚Üí –≤–∫–ª–∞–¥–∫–∞ "–ì—Ä–∞—Ñ–∏–∫ —Ä–µ—Å—É—Ä—Å–æ–≤"
2. –ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ –ª—é–±–æ–π —á–∏–ø –∑–∞–≥—Ä—É–∑–∫–∏ ‚Üí –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –º–æ–¥–∞–ª–∫–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
3. –ò–∑–º–µ–Ω–∏—Ç—å **–ª—é–±–æ–µ –ø–æ–ª–µ**: –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π, —Å—Ç–∞–≤–∫—É –∏–ª–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
4. –ù–∞–∂–∞—Ç—å "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"
5. **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –î–∞–Ω–Ω—ã–µ –Ω–∞ —Ç–∞–π–º–ª–∞–π–Ω–µ –æ—Å—Ç–∞—é—Ç—Å—è —Å—Ç–∞—Ä—ã–º–∏
6. –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É (F5)
7. **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –î–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–∏–ª–∏—Å—å

#### –ü—Ä–∏—á–∏–Ω–∞

**Root cause:** –•—É–∫ `useUpdateLoading` –∏–º–µ–µ—Ç **—á–∞—Å—Ç–∏—á–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π**.

**–ü—Ä–æ–±–ª–µ–º–Ω—ã–π –∫–æ–¥:**

```typescript
// modules/resource-graph/hooks/index.ts:646-672

export const useUpdateLoading = createCacheMutation<
  UpdateLoadingInput,
  { loadingId: string }
>({
  mutationFn: ({ loadingId, updates }) => updateLoadingAction(loadingId, updates),

  optimisticUpdate: {
    queryKey: (input) => queryKeys.resourceGraph.loadings(input.sectionId),
    updater: (oldData, input) => {
      return updateLoadingInCache(
        oldData as Loading[] | undefined,
        input.loadingId,
        input.updates
      )
    },
  },

  // ‚ö†Ô∏è –ü–†–û–ë–õ–ï–ú–ê: –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ responsibleId - –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –≤–º–µ—Å—Ç–æ optimistic update
  invalidateKeys: (input) => {
    if (input.updates.responsibleId || input.updates.stageId) {
      return [queryKeys.resourceGraph.loadings(input.sectionId)]
    }
    return []
  },
})
```

**–§—É–Ω–∫—Ü–∏—è `updateLoadingInCache` (—Å—Ç—Ä–æ–∫–∏ 613-633):**

```typescript
function updateLoadingInCache(
  loadings: Loading[] | undefined,
  loadingId: string,
  updates: UpdateLoadingInput['updates']
): Loading[] {
  if (!loadings) return []

  return loadings.map((loading) => {
    if (loading.id !== loadingId) return loading

    return {
      ...loading,
      ...(updates.rate !== undefined && { rate: updates.rate }),        // ‚úÖ Optimistic update
      ...(updates.comment !== undefined && { comment: updates.comment }), // ‚úÖ Optimistic update
      ...(updates.startDate && { startDate: updates.startDate }),        // ‚úÖ Optimistic update
      ...(updates.endDate && { finishDate: updates.endDate }),           // ‚úÖ Optimistic update
      ...(updates.stageId && { stageId: updates.stageId }),              // ‚úÖ Optimistic update
      // ‚ùå responsibleId —Ç—Ä–µ–±—É–µ—Ç refetch - –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ–º optimistic (—Å—Ç—Ä–æ–∫–∞ 630)
    }
  })
}
```

**–ü–æ—á–µ–º—É —ç—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞:**

1. **`rate` –∏ `comment`** –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω–æ (—Å—Ç—Ä–æ–∫–∏ 625-626), –ù–û –∑–∞—Ç–µ–º –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç **–∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –∫–µ—à–∞** –µ—Å–ª–∏ –±—ã–ª –∏–∑–º–µ–Ω—ë–Ω `responsibleId` (—Å—Ç—Ä–æ–∫–∏ 665-671)
2. **–ò–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –∫–µ—à–∞ –≤—ã–∑—ã–≤–∞–µ—Ç refetch** ‚Üí —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è refetch
3. **`responsibleId` –ù–ï –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω–æ** (—Å—Ç—Ä–æ–∫–∞ 630 –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π) ‚Äî –ø—Ä–∏ —Å–º–µ–Ω–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –Ω—É–∂–Ω–æ –ø–æ–¥—Ç—è–Ω—É—Ç—å –µ–≥–æ –¥–∞–Ω–Ω—ã–µ (–∏–º—è, –∞–≤–∞—Ç–∞—Ä) –∏–∑ –∫–µ—à–∞ `useUsers()`
4. **Race condition:** –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±—ã—Å—Ç—Ä–æ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª–∫—É, refetch –º–æ–∂–µ—Ç –Ω–µ —É—Å–ø–µ—Ç—å –∑–∞–≤–µ—Ä—à–∏—Ç—å—Å—è ‚Üí –¥–∞–Ω–Ω—ã–µ –æ—Å—Ç–∞—é—Ç—Å—è —Å—Ç–∞—Ä—ã–º–∏ –¥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã

**–õ–æ–≥–∏–∫–∞ –≤ –º–æ–¥–∞–ª–∫–µ (LoadingModal.tsx:181-214):**

```typescript
const handleSave = useCallback(() => {
  // ...

  if (isEditMode) {
    if (!hasChanges) {
      onClose()
      return
    }

    const loading = (props as EditModeProps).loading
    const updates: Record<string, unknown> = {}

    if (responsibleId !== loading.employee.id) {
      updates.responsibleId = responsibleId  // ‚Üê –ë—É–¥–µ—Ç –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è
    }
    if (rate !== loading.rate) {
      updates.rate = rate                    // ‚Üê Optimistic update (–ù–û –∑–∞—Ç–µ–º –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è!)
    }
    if (comment !== (loading.comment || '')) {
      updates.comment = comment              // ‚Üê Optimistic update (–ù–û –∑–∞—Ç–µ–º –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è!)
    }

    onClose()  // ‚Üê –ú–æ–¥–∞–ª–∫–∞ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –î–û –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –º—É—Ç–∞—Ü–∏–∏

    updateMutation.mutate(
      {
        loadingId: loading.id,
        sectionId,
        updates,
      },
      {
        onSuccess: () => onSuccess?.(),
      }
    )
  }
}, [...])
```

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ú–æ–¥–∞–ª–∫–∞ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è **–î–û –Ω–∞—á–∞–ª–∞ –º—É—Ç–∞—Ü–∏–∏** (—Å—Ç—Ä–æ–∫–∞ 203)
- –ï—Å–ª–∏ –µ—Å—Ç—å `responsibleId` –≤ `updates` ‚Üí –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç **–∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è + refetch** (—Å—Ç—Ä–æ–∫–∏ 665-671)
- Refetch –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π ‚Üí –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–æ –µ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

#### –õ–æ–∫–∞—Ü–∏—è –∫–æ–¥–∞

**–§–∞–π–ª—ã —Å –ø—Ä–æ–±–ª–µ–º–æ–π:**

1. **–•—É–∫ –º—É—Ç–∞—Ü–∏–∏** ‚Äî —á–∞—Å—Ç–∏—á–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è optimistic updates:
   - [modules/resource-graph/hooks/index.ts:646-672](../modules/resource-graph/hooks/index.ts#L646-L672) ‚Äî `useUpdateLoading` —Å –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ `responsibleId`
   - [modules/resource-graph/hooks/index.ts:613-633](../modules/resource-graph/hooks/index.ts#L613-L633) ‚Äî `updateLoadingInCache` (–ù–ï –æ–±–Ω–æ–≤–ª—è–µ—Ç `responsibleId`)

2. **–ú–æ–¥–∞–ª–∫–∞** ‚Äî –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –º—É—Ç–∞—Ü–∏–∏:
   - [modules/modals/components/loading/LoadingModal.tsx:181-214](../modules/modals/components/loading/LoadingModal.tsx#L181-L214) ‚Äî `handleSave` (–∑–∞–∫—Ä—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª–∫—É —Ä–∞–Ω—å—à–µ –º—É—Ç–∞—Ü–∏–∏)

3. **Server Action** (–¥–ª—è —Å–ø—Ä–∞–≤–∫–∏):
   - `modules/resource-graph/actions/index.ts` ‚Äî `updateLoading` (–æ–±–Ω–æ–≤–ª—è–µ—Ç –ë–î)

**–ó–∞—Ç—Ä–∞–≥–∏–≤–∞–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**

- `LoadingBars.tsx` ‚Äî —á–∏–ø—ã –∑–∞–≥—Ä—É–∑–æ–∫ –Ω–∞ —Ç–∞–π–º–ª–∞–π–Ω–µ (–æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ)
- `LoadingBadges.tsx` ‚Äî –∞–≤–∞—Ç–∞—Ä—ã –∑–∞–≥—Ä—É–∑–æ–∫ (–æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç —Å—Ç–∞—Ä–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞)
- –¢—É–ª—Ç–∏–ø—ã (–æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç —Å—Ç–∞—Ä—ã–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∏ —Å—Ç–∞–≤–∫—É)

#### –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ—à–µ–Ω–∏—è

**‚ùå –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:**
- –û—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å ‚Äî –ø–ª–æ—Ö–æ–π UX, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥—É–º–∞–µ—Ç —á—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ —Å–æ—Ö—Ä–∞–Ω–∏–ª–∏—Å—å
- –ó–∞–∫—Ä—ã–≤–∞—Ç—å –º–æ–¥–∞–ª–∫—É –ü–û–°–õ–ï —É—Å–ø–µ—à–Ω–æ–π –º—É—Ç–∞—Ü–∏–∏ ‚Äî —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç perceived latency (–º–æ–¥–∞–ª–∫–∞ –≤–∏—Å–∏—Ç –¥–æ–ª—å—à–µ)
- –ò–Ω–≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –∫–µ—à –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª–µ–π ‚Äî —Ç–µ—Ä—è–µ—Ç—Å—è —Å–º—ã—Å–ª optimistic updates

**‚úÖ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:**

---

**–í–∞—Ä–∏–∞–Ω—Ç 1: –ü–æ–ª–Ω—ã–π optimistic update —Å –¥–∞–Ω–Ω—ã–º–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) ‚≠ê**

–û–±–Ω–æ–≤–ª—è—Ç—å `responsibleId` –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω–æ, –ø–æ–¥—Ç—è–≥–∏–≤–∞—è –¥–∞–Ω–Ω—ã–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –∏–∑ –∫–µ—à–∞ `useUsers()`:

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `modules/resource-graph/hooks/index.ts`:**

```typescript
// –°—Ç—Ä–æ–∫–∏ 613-633: –û–±–Ω–æ–≤–∏—Ç—å updateLoadingInCache

function updateLoadingInCache(
  loadings: Loading[] | undefined,
  loadingId: string,
  updates: UpdateLoadingInput['updates'],
  users?: CachedUser[] // ‚Üê –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
): Loading[] {
  if (!loadings) return []

  return loadings.map((loading) => {
    if (loading.id !== loadingId) return loading

    // –ï—Å–ª–∏ –º–µ–Ω—è–µ—Ç—Å—è responsibleId - –ø–æ–¥—Ç—è–Ω—É—Ç—å –¥–∞–Ω–Ω—ã–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
    let updatedEmployee = loading.employee
    if (updates.responsibleId && users) {
      const newEmployee = users.find(u => u.user_id === updates.responsibleId)
      if (newEmployee) {
        updatedEmployee = {
          id: newEmployee.user_id,
          firstName: newEmployee.first_name,
          lastName: newEmployee.last_name,
          name: newEmployee.full_name,
          avatarUrl: newEmployee.avatar_url,
        }
      }
    }

    return {
      ...loading,
      ...(updates.rate !== undefined && { rate: updates.rate }),
      ...(updates.comment !== undefined && { comment: updates.comment }),
      ...(updates.startDate && { startDate: updates.startDate }),
      ...(updates.endDate && { finishDate: updates.endDate }),
      ...(updates.stageId && { stageId: updates.stageId }),
      ...(updates.responsibleId && { employee: updatedEmployee }), // ‚úÖ Optimistic update
    }
  })
}

// –°—Ç—Ä–æ–∫–∏ 646-672: –û–±–Ω–æ–≤–∏—Ç—å useUpdateLoading

export const useUpdateLoading = createCacheMutation<
  UpdateLoadingInput,
  { loadingId: string }
>({
  mutationFn: ({ loadingId, updates }) => updateLoadingAction(loadingId, updates),

  optimisticUpdate: {
    queryKey: (input) => queryKeys.resourceGraph.loadings(input.sectionId),
    updater: (oldData, input, queryClient) => {
      // –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–∑ –∫–µ—à–∞
      const users = queryClient.getQueryData<CachedUser[]>(queryKeys.users.list())

      return updateLoadingInCache(
        oldData as Loading[] | undefined,
        input.loadingId,
        input.updates,
        users // ‚Üê –ü–µ—Ä–µ–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
      )
    },
  },

  // ‚úÖ –£–±—Ä–∞—Ç—å –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–ª—è responsibleId - optimistic update –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ
  // invalidateKeys: (input) => {
  //   if (input.updates.responsibleId || input.updates.stageId) {
  //     return [queryKeys.resourceGraph.loadings(input.sectionId)]
  //   }
  //   return []
  // },

  // ‚úÖ –ò–Ω–≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ stageId (—Ç—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ—Å—á—ë—Ç–∞ –≤ –ë–î)
  invalidateKeys: (input) => {
    if (input.updates.stageId) {
      return [queryKeys.resourceGraph.loadings(input.sectionId)]
    }
    return []
  },
})
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è **–º–≥–Ω–æ–≤–µ–Ω–Ω–æ** (–≤–∫–ª—é—á–∞—è —Å–º–µ–Ω—É —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞)
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç refetch (–∫—Ä–æ–º–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è `stageId`)
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ —É–∂–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ –∫–µ—à–∞ `useUsers()`
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (1 —Ñ—É–Ω–∫—Ü–∏—è + –ø–∞—Ä–∞–º–µ—Ç—Ä)
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π UX ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ä–∞–∑—É

**–ú–∏–Ω—É—Å—ã:**
- ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –¥–æ—Å—Ç—É–ø –∫ `queryClient` –≤ `updater` (–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —Ñ–∞–±—Ä–∏–∫–æ–π `createCacheMutation`)
- ‚ö†Ô∏è –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ `useUsers()` —É–∂–µ –∑–∞–≥—Ä—É–∂–µ–Ω (–æ–±—ã—á–Ω–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –≤ –∫–æ—Ä–Ω–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)

---

**–í–∞—Ä–∏–∞–Ω—Ç 2: –ù–µ –∑–∞–∫—Ä—ã–≤–∞—Ç—å –º–æ–¥–∞–ª–∫—É –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –º—É—Ç–∞—Ü–∏–∏ (–ø—Ä–æ—Å—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ)**

–ñ–¥–∞—Ç—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –º—É—Ç–∞—Ü–∏–∏ –ø–µ—Ä–µ–¥ –∑–∞–∫—Ä—ã—Ç–∏–µ–º –º–æ–¥–∞–ª–∫–∏:

```typescript
// modules/modals/components/loading/LoadingModal.tsx:181-214

const handleSave = useCallback(() => {
  if (!isFormValid || rate === null) return

  if (isEditMode) {
    if (!hasChanges) {
      onClose()
      return
    }

    const loading = (props as EditModeProps).loading
    const updates: Record<string, unknown> = {}

    // ... —Å–±–æ—Ä updates

    // ‚ùå –ù–ï –∑–∞–∫—Ä—ã–≤–∞—Ç—å –º–æ–¥–∞–ª–∫—É —Å—Ä–∞–∑—É:
    // onClose()

    updateMutation.mutate(
      {
        loadingId: loading.id,
        sectionId,
        updates,
      },
      {
        onSuccess: () => {
          onSuccess?.()
          onClose() // ‚úÖ –ó–∞–∫—Ä—ã—Ç—å –ü–û–°–õ–ï —É—Å–ø–µ—à–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
        },
        onError: () => {
          // –ü–æ–∫–∞–∑–∞—Ç—å –æ—à–∏–±–∫—É, –Ω–µ –∑–∞–∫—Ä—ã–≤–∞—Ç—å –º–æ–¥–∞–ª–∫—É
        }
      }
    )
  }
}, [...])
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –ü—Ä–æ—Å—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ (–ø–µ—Ä–µ–Ω–æ—Å `onClose()`)
- ‚úÖ –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ—Å–ª–µ –∑–∞–∫—Ä—ã—Ç–∏—è

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –ú–æ–¥–∞–ª–∫–∞ –æ—Å—Ç–∞—ë—Ç—Å—è –æ—Ç–∫—Ä—ã—Ç–æ–π –Ω–∞ –≤—Ä–µ–º—è refetch (200-500ms)
- ‚ùå Perceived latency ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∂–¥—ë—Ç –¥–æ–ª—å—à–µ
- ‚ùå –ù–µ —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É optimistic updates (–¥–∞–Ω–Ω—ã–µ –≤—Å—ë —Ä–∞–≤–Ω–æ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π)
- ‚ùå –ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å loading state (spinner –≤ –∫–Ω–æ–ø–∫–µ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å")

---

**–í–∞—Ä–∏–∞–Ω—Ç 3: –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (–í–∞—Ä–∏–∞–Ω—Ç 1 + –í–∞—Ä–∏–∞–Ω—Ç 2)**

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å optimistic updates –¥–ª—è `rate` –∏ `comment`, –Ω–æ –∂–¥–∞—Ç—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –¥–ª—è `responsibleId`:

```typescript
const handleSave = useCallback(() => {
  // ... —Å–±–æ—Ä updates

  const hasResponsibleChange = updates.responsibleId !== undefined

  updateMutation.mutate(
    {
      loadingId: loading.id,
      sectionId,
      updates,
    },
    {
      onSuccess: () => {
        onSuccess?.()
        if (hasResponsibleChange) {
          onClose() // –ó–∞–∫—Ä—ã—Ç—å —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –º–µ–Ω—è–ª—Å—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫
        }
      },
    }
  )

  if (!hasResponsibleChange) {
    onClose() // –ó–∞–∫—Ä—ã—Ç—å —Å—Ä–∞–∑—É –µ—Å–ª–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ –Ω–µ –º–µ–Ω—è–ª—Å—è
  }
}, [...])
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –ë—ã—Å—Ç—Ä–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Å–ª—É—á–∞–µ–≤ (`rate`, `comment`)
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–∏ —Å–º–µ–Ω–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ (–Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ)
- ‚ùå Inconsistent UX (–∏–Ω–æ–≥–¥–∞ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –±—ã—Å—Ç—Ä–æ, –∏–Ω–æ–≥–¥–∞ –º–µ–¥–ª–µ–Ω–Ω–æ)
- ‚ùå –ù–µ —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É –ø–æ–ª–Ω–æ—Å—Ç—å—é

---

**–í–∞—Ä–∏–∞–Ω—Ç 4: –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å loading indicator –≤–æ –≤—Ä–µ–º—è –º—É—Ç–∞—Ü–∏–∏**

–û—Å—Ç–∞–≤–∏—Ç—å —Ç–µ–∫—É—â—É—é –ª–æ–≥–∏–∫—É, –Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å loading state –Ω–∞ —á–∏–ø–µ –∑–∞–≥—Ä—É–∑–∫–∏:

```typescript
// LoadingBars.tsx

const isUpdating = updateMutation.isPending && updateMutation.variables?.loadingId === loading.id

<div
  className={cn(
    'loading-chip',
    isUpdating && 'opacity-50 animate-pulse' // ‚Üê Loading state
  )}
>
  {/* ... */}
</div>
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç, —á—Ç–æ –∏–¥—ë—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –ª–æ–≥–∏–∫–µ –º—É—Ç–∞—Ü–∏–∏

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –ù–µ —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É (–¥–∞–Ω–Ω—ã–µ –≤—Å—ë —Ä–∞–≤–Ω–æ —Å—Ç–∞—Ä—ã–µ)
- ‚ùå –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–¥ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ
- ‚ùå –ù—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å `updateMutation` –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

---

#### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π

**–®–∞–≥ 1: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –í–∞—Ä–∏–∞–Ω—Ç 1 (–ø–æ–ª–Ω—ã–π optimistic update) ‚≠ê**

1. –û—Ç–∫—Ä—ã—Ç—å [modules/resource-graph/hooks/index.ts:613](../modules/resource-graph/hooks/index.ts#L613)
2. –û–±–Ω–æ–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `updateLoadingInCache`:
   - –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä `users?: CachedUser[]`
   - –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è `employee` –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ `responsibleId`
3. –û–±–Ω–æ–≤–∏—Ç—å `useUpdateLoading` (—Å—Ç—Ä–æ–∫–∞ 646):
   - –í `updater` –ø–æ–ª—É—á–∏—Ç—å `users` –∏–∑ `queryClient.getQueryData()`
   - –ü–µ—Ä–µ–¥–∞—Ç—å `users` –≤ `updateLoadingInCache()`
4. –£–±—Ä–∞—Ç—å –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–ª—è `responsibleId` (–æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –¥–ª—è `stageId`)
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ñ–∞–π–ª

**–®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ useUsers() –∑–∞–≥—Ä—É–∂–µ–Ω**

–£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ö—É–∫ `useUsers()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤ –∫–æ—Ä–Ω–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (Layout –∏–ª–∏ Provider):

```typescript
// app/layout.tsx –∏–ª–∏ modules/cache/providers/

export function CacheProvider({ children }) {
  useUsers() // ‚Üê –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤—ã–∑–≤–∞–Ω –¥–ª—è prefetch

  return <>{children}</>
}
```

–ï—Å–ª–∏ –Ω–µ—Ç ‚Äî –¥–æ–±–∞–≤–∏—Ç—å prefetch –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç.

**–®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç**

1. –û—Ç–∫—Ä—ã—Ç—å `/tasks` ‚Üí –ì—Ä–∞—Ñ–∏–∫ —Ä–µ—Å—É—Ä—Å–æ–≤
2. –ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ —á–∏–ø –∑–∞–≥—Ä—É–∑–∫–∏
3. –ò–∑–º–µ–Ω–∏—Ç—å **–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π**:
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å ‚Üí –º–æ–¥–∞–ª–∫–∞ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è
   - **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –¢—É–ª—Ç–∏–ø —Å—Ä–∞–∑—É –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–æ–≤—ã–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π ‚úÖ
4. –ò–∑–º–µ–Ω–∏—Ç—å **—Å—Ç–∞–≤–∫—É**:
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å ‚Üí –º–æ–¥–∞–ª–∫–∞ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è
   - **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ß–∏–ø —Å—Ä–∞–∑—É –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–æ–≤—É—é —Å—Ç–∞–≤–∫—É (50 –≤–º–µ—Å—Ç–æ 100) ‚úÖ
5. –ò–∑–º–µ–Ω–∏—Ç—å **—Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞**:
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å ‚Üí –º–æ–¥–∞–ª–∫–∞ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è
   - **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ê–≤–∞—Ç–∞—Ä –∏ –∏–º—è —Å—Ä–∞–∑—É –º–µ–Ω—è—é—Ç—Å—è –Ω–∞ –Ω–æ–≤–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ ‚úÖ

**–®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å edge cases**

- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ–ª–µ–π –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ (–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π + —Å—Ç–∞–≤–∫–∞ + —Å–æ—Ç—Ä—É–¥–Ω–∏–∫)
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –Ω–∞ —Å–µ–±—è –∂–µ (no-op)
- ‚úÖ –ë—ã—Å—Ç—Ä–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ/–∑–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª–∫–∏ (race condition)
- ‚úÖ –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ ‚Äî –æ—Ç–∫–∞—Ç optimistic update (rollback)
- ‚úÖ Offline —Ä–µ–∂–∏–º ‚Äî –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω–æ, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è –ø—Ä–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å–≤—è–∑–∏

**–®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**

- –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ `queryClient.getQueryData(queryKeys.users.list())` –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç –ª–∏—à–Ω–∏—Ö —Ä–µ–Ω–¥–µ—Ä–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ optimistic update –Ω–µ —Å–æ–∑–¥–∞—ë—Ç flickering (–º–µ—Ä—Ü–∞–Ω–∏—è) UI

**–®–∞–≥ 6 (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): –î–æ–±–∞–≤–∏—Ç—å optimistic update –¥–ª—è stageId**

–ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –º–≥–Ω–æ–≤–µ–Ω–Ω–∞—è —Ä–µ–∞–∫—Ü–∏—è –ø—Ä–∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –º–µ–∂–¥—É —ç—Ç–∞–ø–∞–º–∏:

```typescript
// –í updateLoadingInCache –¥–æ–±–∞–≤–∏—Ç—å:
...(updates.stageId && { stageId: updates.stageId }), // ‚úÖ –£–∂–µ –µ—Å—Ç—å –Ω–∞ —Å—Ç—Ä–æ–∫–µ 629

// –í useUpdateLoading —É–±—Ä–∞—Ç—å –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–ª—è stageId:
invalidateKeys: () => [], // –ü–æ–ª–Ω–æ—Å—Ç—å—é optimistic
```

–ù–æ —ç—Ç–æ **–º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏** (–ø—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ —ç—Ç–∞–ø —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ —ç—Ç–æ–º —Ä–∞–∑–¥–µ–ª–µ).

#### –í—ã–≤–æ–¥—ã

- **–ü–ª–æ—Ö–æ–π UX** ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è, –¥—É–º–∞–µ—Ç —á—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ —Å–æ—Ö—Ä–∞–Ω–∏–ª–∏—Å—å
- **Root cause** ‚Äî –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –∫–µ—à–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ `responsibleId` –≤–º–µ—Å—Ç–æ optimistic update
- **–ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ** ‚Äî –ø–æ–ª–Ω—ã–π optimistic update —Å –ø–æ–¥—Ç—è–≥–∏–≤–∞–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –∏–∑ –∫–µ—à–∞ `useUsers()` (–í–∞—Ä–∏–∞–Ω—Ç 1)
- **–†–µ–∑—É–ª—å—Ç–∞—Ç** ‚Äî –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è **–º–≥–Ω–æ–≤–µ–Ω–Ω–æ** –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- **–û–±—ä—ë–º —Ä–∞–±–æ—Ç—ã** ‚Äî 1 —Ñ–∞–π–ª, ~20 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞

**–û–±—â–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:**

- **–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π optimistic updates** –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π CRUD, —á—Ç–æ–±—ã UI —Ä–µ–∞–≥–∏—Ä–æ–≤–∞–ª –º–≥–Ω–æ–≤–µ–Ω–Ω–æ
- **–ü–æ–¥—Ç—è–≥–∏–≤–∞–π —Å–≤—è–∑–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –∫–µ—à–∞** (–Ω–µ –¥–µ–ª–∞–π –ª–∏—à–Ω–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤)
- **–ò–Ω–≤–∞–ª–∏–¥–∏—Ä—É–π –∫–µ—à** —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ optimistic update –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω (—Å–ª–æ–∂–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –Ω–∞ –±—ç–∫–µ–Ω–¥–µ)
- **–ù–µ –∑–∞–∫—Ä—ã–≤–∞–π –º–æ–¥–∞–ª–∫–∏ –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –º—É—Ç–∞—Ü–∏–∏** –µ—Å–ª–∏ –Ω–µ—Ç optimistic update (–ø–ª–æ—Ö–æ–π UX)
- **–ò—Å–ø–æ–ª—å–∑—É–π `queryClient` –≤ `updater`** –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –¥—Ä—É–≥–∏–º –∫–µ—à–∞–º

**–ü–∞—Ç—Ç–µ—Ä–Ω optimistic update —Å —Å–≤—è–∑–∞–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏:**

```typescript
optimisticUpdate: {
  queryKey: (input) => queryKeys.entity.list(input.id),
  updater: (oldData, input, queryClient) => {
    // –ü–æ–ª—É—á–∏—Ç—å —Å–≤—è–∑–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –¥—Ä—É–≥–æ–≥–æ –∫–µ—à–∞
    const relatedData = queryClient.getQueryData(queryKeys.related.list())

    // –û–±–Ω–æ–≤–∏—Ç—å —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
    return updateWithRelatedData(oldData, input, relatedData)
  },
}
```

**–°—Å—ã–ª–∫–∏:**

- [TanStack Query Optimistic Updates](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates) ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [modules/cache/README.md](../modules/cache/README.md#optimistic-updates) ‚Äî –≥–∞–π–¥ –ø–æ optimistic updates –≤ –ø—Ä–æ–µ–∫—Ç–µ
- [modules/resource-graph/hooks/index.ts:646-672](../modules/resource-graph/hooks/index.ts#L646-L672) ‚Äî —Ç–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è `useUpdateLoading`

---

### üéØ –ë–ê–ì #14: –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–≤–æ–¥–∞ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –≤ –ø–æ–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏

**–î–∞—Ç–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è:** 2025-12-30

**–õ–æ–∫–∞—Ü–∏—è:** `/tasks` ‚Üí –≤–∫–ª–∞–¥–∫–∞ "–ì—Ä–∞—Ñ–∏–∫ —Ä–µ—Å—É—Ä—Å–æ–≤" ‚Üí –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏

#### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

–í –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ **–º–æ–∂–Ω–æ –≤–≤–µ—Å—Ç–∏ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è** –≤ –ø–æ–ª–µ "–°—Ç–∞–≤–∫–∞". –ü—Ä–∏ —ç—Ç–æ–º –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ **–∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –≤ 1%** (–º–∏–Ω–∏–º–∞–ª—å–Ω–æ –¥–æ–ø—É—Å—Ç–∏–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ) –±–µ–∑ –≤–∏–¥–∏–º–æ–≥–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.

**–¢–µ–∫—É—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `-50%` –∏–ª–∏ `-1`)
- –ü—Ä–∏ –ø–æ—Ç–µ—Ä–µ —Ñ–æ–∫—É—Å–∞ (blur) –∑–Ω–∞—á–µ–Ω–∏–µ **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑–º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ 1%**
- **–ö–Ω–æ–ø–∫–∞ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å" –æ—Å—Ç–∞—ë—Ç—Å—è –∞–∫—Ç–∏–≤–Ω–æ–π** (—Ñ–æ—Ä–º–∞ —Å—á–∏—Ç–∞–µ—Ç—Å—è –≤–∞–ª–∏–¥–Ω–æ–π)
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º 1%

**–ü—Ä–∏–º–µ—Ä:**
```
–í–≤–æ–¥: -50%
–†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ—Å–ª–µ blur: 1% (–±–µ–∑ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è)
–ö–Ω–æ–ø–∫–∞ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å": ‚úÖ –ê–∫—Ç–∏–≤–Ω–∞
```

**–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**

**–í–∞—Ä–∏–∞–Ω—Ç 1 (–Ω–∞–∏–ª—É—á—à–∏–π UX):**
- –ü—Ä–∏ –≤–≤–æ–¥–µ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è ‚Üí **–∫–Ω–æ–ø–∫–∞ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å" —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ–π**
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤–∞–ª–∏–¥–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ: "–ó–Ω–∞—á–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—Ç 1% –¥–æ 100%"
- –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ —Ç–µ–∫—É—â–µ–º—É –ø–æ–≤–µ–¥–µ–Ω–∏—é –¥–ª—è –∑–Ω–∞—á–µ–Ω–∏–π > 100%

**–í–∞—Ä–∏–∞–Ω—Ç 2 (–∏–¥–µ–∞–ª—å–Ω—ã–π):**
- **–ë–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –≤–≤–æ–¥ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö/–Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π** –Ω–∞ —É—Ä–æ–≤–Ω–µ `input[type="number"]`
- `min="1"`, `max="100"`, `step="1"`
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –≤–≤–µ—Å—Ç–∏ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ —á–∏—Å–ª–æ –∏–ª–∏ –Ω–µ—Ü–∏—Ñ—Ä–æ–≤—ã–µ —Å–∏–º–≤–æ–ª—ã

**–ì–¥–µ –ø—Ä–æ—è–≤–ª—è–µ—Ç—Å—è:**
- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É" ([modules/modals/components/loading/LoadingModal.tsx](../modules/modals/components/loading/LoadingModal.tsx))
- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ "–ù–æ–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞" (—Ç–æ—Ç –∂–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç)
- –ü–æ–ª–µ "–°—Ç–∞–≤–∫–∞" (Rate input)

**–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ:**
1. –û—Ç–∫—Ä—ã—Ç—å `/tasks` ‚Üí –≤–∫–ª–∞–¥–∫–∞ "–ì—Ä–∞—Ñ–∏–∫ —Ä–µ—Å—É—Ä—Å–æ–≤"
2. –ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ –ª—é–±—É—é –∑–∞–≥—Ä—É–∑–∫—É —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ (–∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é)
3. –í –ø–æ–ª–µ "–°—Ç–∞–≤–∫–∞" –≤–≤–µ—Å—Ç–∏ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `-50` –∏–ª–∏ `-1%`)
4. –ö–ª–∏–∫–Ω—É—Ç—å –≤–Ω–µ –ø–æ–ª—è (—É–±—Ä–∞—Ç—å —Ñ–æ–∫—É—Å)
5. **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ó–Ω–∞—á–µ–Ω–∏–µ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –Ω–∞ `1%`, –Ω–æ –∫–Ω–æ–ø–∫–∞ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å" –∞–∫—Ç–∏–≤–Ω–∞

#### –ü—Ä–∏—á–∏–Ω–∞

**Root cause:** –§—É–Ω–∫—Ü–∏—è `parseRateInput()` **–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è** —á–µ—Ä–µ–∑ `Math.max(0.01, decimal)`, —á—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –ª—é–±–æ–µ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ —á–∏—Å–ª–æ –≤ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ –¥–æ–ø—É—Å—Ç–∏–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ 0.01 (1%).

**–ü—Ä–æ–±–ª–µ–º–Ω—ã–π –∫–æ–¥:**

```typescript
// modules/modals/components/loading/LoadingModal.tsx:64-76

function parseRateInput(value: string): number | null {
  // Remove % symbol and spaces
  const cleaned = value.replace(/[%\s]/g, '')
  const parsed = parseFloat(cleaned)

  if (isNaN(parsed)) return null

  // Convert from percentage (0-100) to decimal (0-1)
  const decimal = parsed > 1 ? parsed / 100 : parsed

  // Clamp between 0.01 and 1
  return Math.min(1, Math.max(0.01, decimal))  // ‚Üê –ó–¥–µ—Å—å –ø—Ä–æ–±–ª–µ–º–∞!
  //                  ^^^^^^^^^^^^^^^^
  //                  –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è 0.01 (1%)
}
```

**–ü–æ—á–µ–º—É —ç—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞:**

1. **–ù–µ–≤–∏–¥–∏–º–æ–µ –∞–≤—Ç–æ–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç `-50%`, –∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è `1%`
2. **–ù–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ñ–æ—Ä–º—ã** ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–æ–ª—å–∫–æ `rate <= 0`, –Ω–æ –ø–æ—Å–ª–µ `Math.max(0.01, ...)` –∑–Ω–∞—á–µ–Ω–∏–µ –≤—Å–µ–≥–¥–∞ `>= 0.01`
3. **–ù–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –¥–ª—è –∑–Ω–∞—á–µ–Ω–∏–π > 100%**:
   - –ü—Ä–∏ –≤–≤–æ–¥–µ `150%` ‚Üí –∫–Ω–æ–ø–∫–∞ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å" **–Ω–µ–∞–∫—Ç–∏–≤–Ω–∞** ‚úÖ
   - –ü—Ä–∏ –≤–≤–æ–¥–µ `-50%` ‚Üí –∫–Ω–æ–ø–∫–∞ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å" **–∞–∫—Ç–∏–≤–Ω–∞** ‚ùå

**–í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º—ã (–Ω–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –¥–ª—è –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö):**

```typescript
// modules/modals/components/loading/LoadingModal.tsx:122-126

const isFormValid = useMemo(() => {
  if (!responsibleId) return false
  if (rate === null || rate <= 0) return false  // ‚Üê –ù–æ rate —É–∂–µ 0.01 (1%)!
  return true
}, [responsibleId, rate])
```

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:** –ü–æ–ª–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `type="text"` –≤–º–µ—Å—Ç–æ `type="number"`:

```typescript
// modules/modals/components/loading/LoadingModal.tsx:491-506

<input
  type="text"  // ‚Üê –î–æ–ª–∂–Ω–æ –±—ã—Ç—å type="number" –¥–ª—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –Ω–µ—Ü–∏—Ñ—Ä–æ–≤–æ–≥–æ –≤–≤–æ–¥–∞
  value={rateInput}
  onChange={handleRateInputChange}
  onBlur={handleRateInputBlur}
  placeholder="–ò–ª–∏ –≤–≤–µ–¥–∏—Ç–µ —Å–≤–æ—ë –∑–Ω–∞—á–µ–Ω–∏–µ"
  // ...
/>
```

#### –õ–æ–∫–∞—Ü–∏—è –∫–æ–¥–∞

**–§–∞–π–ª—ã —Å –ø—Ä–æ–±–ª–µ–º–æ–π:**

1. **–§—É–Ω–∫—Ü–∏—è –ø–∞—Ä—Å–∏–Ω–≥–∞** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π:
   - [modules/modals/components/loading/LoadingModal.tsx:64-76](../modules/modals/components/loading/LoadingModal.tsx#L64-L76) ‚Äî —Ñ—É–Ω–∫—Ü–∏—è `parseRateInput()`

2. **–í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º—ã** ‚Äî –Ω–µ –ª–æ–≤–∏—Ç –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ—Å–ª–µ –ø–∞—Ä—Å–∏–Ω–≥–∞:
   - [modules/modals/components/loading/LoadingModal.tsx:122-126](../modules/modals/components/loading/LoadingModal.tsx#L122-L126) ‚Äî `isFormValid` –ø—Ä–æ–≤–µ—Ä–∫–∞

3. **Input –ø–æ–ª–µ** ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `type="text"` –≤–º–µ—Å—Ç–æ `type="number"`:
   - [modules/modals/components/loading/LoadingModal.tsx:491-506](../modules/modals/components/loading/LoadingModal.tsx#L491-L506) ‚Äî –ø–æ–ª–µ "–°—Ç–∞–≤–∫–∞"

4. **Handler blur** ‚Äî –≤—ã–∑—ã–≤–∞–µ—Ç `parseRateInput()` –ø—Ä–∏ –ø–æ—Ç–µ—Ä–µ —Ñ–æ–∫—É—Å–∞:
   - [modules/modals/components/loading/LoadingModal.tsx:174-179](../modules/modals/components/loading/LoadingModal.tsx#L174-L179) ‚Äî `handleRateInputBlur()`

#### –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ—à–µ–Ω–∏—è

**‚ùå –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:**
- –û—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å ‚Äî –ø–ª–æ—Ö–æ–π UX, –Ω–µ–≤–∏–¥–∏–º–æ–µ –∞–≤—Ç–æ–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- –¢–æ–ª—å–∫–æ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—Å—ë —Ä–∞–≤–Ω–æ –º–æ–∂–µ—Ç —Å–ª—É—á–∞–π–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å

**‚úÖ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:**

---

**–í–∞—Ä–∏–∞–Ω—Ç 1: –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–ª—è –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π (–±—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ) ‚≠ê**

–ò–∑–º–µ–Ω–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `parseRateInput()`, —á—Ç–æ–±—ã –æ–Ω–∞ **–≤–æ–∑–≤—Ä–∞—â–∞–ª–∞ `null`** –¥–ª—è –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –≤–º–µ—Å—Ç–æ –∞–≤—Ç–æ–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

```typescript
// modules/modals/components/loading/LoadingModal.tsx:64-76

function parseRateInput(value: string): number | null {
  // Remove % symbol and spaces
  const cleaned = value.replace(/[%\s]/g, '')
  const parsed = parseFloat(cleaned)

  if (isNaN(parsed)) return null

  // ‚úÖ –î–û–ë–ê–í–ò–¢–¨: –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
  if (parsed < 0) return null  // ‚Üê –û—Ç–∫–ª–æ–Ω–∏—Ç—å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è

  // Convert from percentage (0-100) to decimal (0-1)
  const decimal = parsed > 1 ? parsed / 100 : parsed

  // Clamp between 0.01 and 1
  return Math.min(1, Math.max(0.01, decimal))
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ü—Ä–∏ –≤–≤–æ–¥–µ `-50%` ‚Üí `rate = null`
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º—ã: `if (rate === null || rate <= 0) return false` ‚Üí –∫–Ω–æ–ø–∫–∞ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å" **–Ω–µ–∞–∫—Ç–∏–≤–Ω–∞** ‚úÖ
- –°–æ–≥–ª–∞—Å—É–µ—Ç—Å—è —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –¥–ª—è –∑–Ω–∞—á–µ–Ω–∏–π > 100%

**–ü–ª—é—Å—ã:**
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (1 —Å—Ç—Ä–æ–∫–∞ –∫–æ–¥–∞)
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å" —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ–π
- ‚úÖ –°–æ–≥–ª–∞—Å—É–µ—Ç—Å—è —Å —Ç–µ–∫—É—â–µ–π –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –ù–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ feedback (–Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ)

---

**–í–∞—Ä–∏–∞–Ω—Ç 2: –î–æ–±–∞–≤–∏—Ç—å –≤–∏–∑—É–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ (—É–ª—É—á—à–µ–Ω–Ω—ã–π UX)**

–î–æ–±–∞–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è –æ—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏ –ø–æ–∫–∞–∑–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é:

```typescript
// modules/modals/components/loading/LoadingModal.tsx

const [rateError, setRateError] = useState<string | null>(null)

const handleRateInputBlur = useCallback(() => {
  const parsedRate = parseRateInput(rateInput)

  if (parsedRate === null && rateInput.trim() !== '') {
    // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∏—á–∏–Ω—É –Ω–µ–≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏
    const cleaned = rateInput.replace(/[%\s]/g, '')
    const parsed = parseFloat(cleaned)

    if (!isNaN(parsed) && parsed < 0) {
      setRateError('–ó–Ω–∞—á–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—Ç 1% –¥–æ 100%')
    } else if (!isNaN(parsed) && parsed > 100) {
      setRateError('–ó–Ω–∞—á–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—Ç 1% –¥–æ 100%')
    } else {
      setRateError('–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ')
    }
  } else {
    setRateError(null)
    if (parsedRate !== null) {
      setRateInput(formatRate(parsedRate))
    }
  }
}, [rateInput])
```

**–î–æ–±–∞–≤–∏—Ç—å UI –¥–ª—è –æ—à–∏–±–∫–∏:**

```typescript
{/* Custom Input */}
<div className="relative">
  <input
    type="text"
    value={rateInput}
    onChange={handleRateInputChange}
    onBlur={handleRateInputBlur}
    placeholder="–ò–ª–∏ –≤–≤–µ–¥–∏—Ç–µ —Å–≤–æ—ë –∑–Ω–∞—á–µ–Ω–∏–µ"
    className={cn(
      'w-full px-2.5 py-1.5 pr-8 text-xs text-center',
      'bg-slate-800/50 border',
      rateError ? 'border-red-500/50' : 'border-slate-700',  // ‚Üê –ö—Ä–∞—Å–Ω–∞—è —Ä–∞–º–∫–∞ –ø—Ä–∏ –æ—à–∏–±–∫–µ
      // ...
    )}
    disabled={isPending}
  />
  <span className="absolute right-2.5 top-1/2 -translate-y-1/2 text-[10px] text-slate-500">
    %
  </span>
</div>

{/* –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ */}
{rateError && (
  <div className="flex items-center gap-1 text-[10px] text-red-400 mt-1">
    <AlertCircle className="w-3 h-3" />
    <span>{rateError}</span>
  </div>
)}
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –Ø–≤–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –ö—Ä–∞—Å–Ω–∞—è —Ä–∞–º–∫–∞ + –∏–∫–æ–Ω–∫–∞ + —Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å" –Ω–µ–∞–∫—Ç–∏–≤–Ω–∞

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –ë–æ–ª—å—à–µ –∫–æ–¥–∞ (—Å–æ—Å—Ç–æ—è–Ω–∏–µ, UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç)

---

**–í–∞—Ä–∏–∞–Ω—Ç 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `type="number"` —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏ (–∏–¥–µ–∞–ª—å–Ω—ã–π) ‚≠ê‚≠ê**

–ò–∑–º–µ–Ω–∏—Ç—å `type="text"` –Ω–∞ `type="number"` —Å –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏ `min`, `max`, `step`:

```typescript
// modules/modals/components/loading/LoadingModal.tsx:491-506

<input
  type="number"  // ‚Üê –í–º–µ—Å—Ç–æ "text"
  min="1"        // ‚Üê –ú–∏–Ω–∏–º—É–º 1%
  max="100"      // ‚Üê –ú–∞–∫—Å–∏–º—É–º 100%
  step="1"       // ‚Üê –®–∞–≥ 1%
  value={rateInput.replace('%', '')}  // –£–±—Ä–∞—Ç—å % –¥–ª—è type="number"
  onChange={(e) => setRateInput(e.target.value + '%')}
  onBlur={handleRateInputBlur}
  placeholder="1-100"
  className={cn(
    'w-full px-2.5 py-1.5 pr-8 text-xs text-center',
    // ...
  )}
  disabled={isPending}
/>
```

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `parseRateInput()`:**

```typescript
function parseRateInput(value: string): number | null {
  const cleaned = value.replace(/[%\s]/g, '')
  const parsed = parseFloat(cleaned)

  if (isNaN(parsed) || parsed < 1 || parsed > 100) return null

  return parsed / 100  // –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ decimal (0.01-1)
}
```

**–ü–ª—é—Å—ã:**
- ‚úÖ **–ë—Ä–∞—É–∑–µ—Ä –±–ª–æ–∫–∏—Ä—É–µ—Ç –≤–≤–æ–¥ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π**
- ‚úÖ –ù–∞—Ç–∏–≤–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è HTML5 (—Å—Ç—Ä–µ–ª–∫–∏ –≤–≤–µ—Ä—Ö/–≤–Ω–∏–∑)
- ‚úÖ –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –≤–≤–µ—Å—Ç–∏ —Ç–µ–∫—Å—Ç –∏–ª–∏ —Å–∏–º–≤–æ–ª—ã
- ‚úÖ –ü—Ä–æ—â–µ –∫–æ–¥ –ø–∞—Ä—Å–∏–Ω–≥–∞

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –ú–µ–Ω—è–µ—Ç—Å—è UI (–ø–æ—è–≤–ª—è—é—Ç—Å—è —Å—Ç—Ä–µ–ª–∫–∏ –≤ Chrome/Edge)
- ‚ùå –ù—É–∂–Ω–æ –ø–µ—Ä–µ–¥–µ–ª–∞—Ç—å –ª–æ–≥–∏–∫—É –≤–≤–æ–¥–∞ (—É–±—Ä–∞—Ç—å —Å–∏–º–≤–æ–ª `%`)
- ‚ùå –ú–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–Ω–µ–µ –≥–∏–±–∫–∏–º –¥–ª—è custom —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

---

**–í–∞—Ä–∏–∞–Ω—Ç 4: –ö–æ–º–±–∏–Ω–∞—Ü–∏—è ‚Äî `type="number"` + –∫–∞—Å—Ç–æ–º–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `type="number"` –¥–ª—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏, –Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∫–∞—Å—Ç–æ–º–Ω—É—é –≤–∞–ª–∏–¥–∞—Ü–∏—é –∏ —Å–æ–æ–±—â–µ–Ω–∏—è:

```typescript
<input
  type="number"
  min="1"
  max="100"
  step="0.01"  // ‚Üê –†–∞–∑—Ä–µ—à–∏—Ç—å –¥—Ä–æ–±–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è (50.5%)
  value={parseFloat(rateInput.replace('%', '')) || ''}
  onChange={(e) => {
    const value = e.target.value
    setRateInput(value ? `${value}%` : '')
    setRateError(null)  // –°–±—Ä–æ—Å–∏—Ç—å –æ—à–∏–±–∫—É –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏
  }}
  onBlur={handleRateInputBlur}
  onInvalid={(e) => {
    e.preventDefault()
    setRateError('–ó–Ω–∞—á–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—Ç 1% –¥–æ 100%')
  }}
  placeholder="1-100"
  // ...
/>
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –ë—Ä–∞—É–∑–µ—Ä –±–ª–æ–∫–∏—Ä—É–µ—Ç –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
- ‚úÖ –ö–∞—Å—Ç–æ–º–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ —á–µ—Ä–µ–∑ `onInvalid`
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥—Ä–æ–±–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π (50.5%)

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –¢—Ä–µ–±—É–µ—Ç –±–æ–ª—å—à–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∫–æ–¥–µ

---

#### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π

**–®–∞–≥ 1: –ë—ã—Å—Ç—Ä–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (–Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ)**

–í–Ω–µ–¥—Ä–∏—Ç—å **–í–∞—Ä–∏–∞–Ω—Ç 1** ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –Ω–∞ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ `parseRateInput()`:

1. –û—Ç–∫—Ä—ã—Ç—å [modules/modals/components/loading/LoadingModal.tsx:64](../modules/modals/components/loading/LoadingModal.tsx#L64)
2. –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É:
   ```typescript
   if (parsed < 0) return null
   ```
3. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ñ–∞–π–ª

**–®–∞–≥ 2: –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–ª—è –Ω—É–ª—è**

–£–ª—É—á—à–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É, —á—Ç–æ–±—ã –æ—Ç–∫–ª–æ–Ω—è—Ç—å –∏ –Ω—É–ª–µ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:

```typescript
if (parsed <= 0) return null  // ‚Üê –û—Ç–∫–ª–æ–Ω–∏—Ç—å 0 –∏ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ
```

**–®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç**

1. –û—Ç–∫—Ä—ã—Ç—å `/tasks` ‚Üí "–ì—Ä–∞—Ñ–∏–∫ —Ä–µ—Å—É—Ä—Å–æ–≤"
2. –ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ –∑–∞–≥—Ä—É–∑–∫—É —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
3. –í–≤–µ—Å—Ç–∏ `-50` –≤ –ø–æ–ª–µ "–°—Ç–∞–≤–∫–∞"
4. –ö–ª–∏–∫–Ω—É—Ç—å –≤–Ω–µ –ø–æ–ª—è
5. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - –ó–Ω–∞—á–µ–Ω–∏–µ –æ—Å—Ç–∞—ë—Ç—Å—è `-50` (–Ω–µ –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ `1%`)
   - –ö–Ω–æ–ø–∫–∞ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å" **–Ω–µ–∞–∫—Ç–∏–≤–Ω–∞** ‚úÖ

**–®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å edge cases**

- ‚úÖ –í–≤–æ–¥ `-1` ‚Üí –∫–Ω–æ–ø–∫–∞ –Ω–µ–∞–∫—Ç–∏–≤–Ω–∞
- ‚úÖ –í–≤–æ–¥ `0` ‚Üí –∫–Ω–æ–ø–∫–∞ –Ω–µ–∞–∫—Ç–∏–≤–Ω–∞
- ‚úÖ –í–≤–æ–¥ `1` ‚Üí –∫–Ω–æ–ø–∫–∞ –∞–∫—Ç–∏–≤–Ω–∞, –∑–Ω–∞—á–µ–Ω–∏–µ `1%`
- ‚úÖ –í–≤–æ–¥ `100` ‚Üí –∫–Ω–æ–ø–∫–∞ –∞–∫—Ç–∏–≤–Ω–∞, –∑–Ω–∞—á–µ–Ω–∏–µ `100%`
- ‚úÖ –í–≤–æ–¥ `150` ‚Üí –∫–Ω–æ–ø–∫–∞ –Ω–µ–∞–∫—Ç–∏–≤–Ω–∞ (—Ç–µ–∫—É—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ)

**–®–∞–≥ 5: –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)**

–í–Ω–µ–¥—Ä–∏—Ç—å **–í–∞—Ä–∏–∞–Ω—Ç 2** ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –≤–∏–∑—É–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ:

1. –î–æ–±–∞–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ `rateError`
2. –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ `handleRateInputBlur()`
3. –î–æ–±–∞–≤–∏—Ç—å UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—à–∏–±–∫–∏
4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å —Ä–∞–∑–Ω—ã–º–∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏

**–®–∞–≥ 6: –ò–¥–µ–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ (–±—É–¥—É—â–∏–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥)**

–†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å **–í–∞—Ä–∏–∞–Ω—Ç 3** –∏–ª–∏ **–í–∞—Ä–∏–∞–Ω—Ç 4** ‚Äî `type="number"`:

1. –ò–∑–º–µ–Ω–∏—Ç—å `type="text"` –Ω–∞ `type="number"`
2. –î–æ–±–∞–≤–∏—Ç—å `min="1"`, `max="100"`, `step="1"`
3. –û–±–Ω–æ–≤–∏—Ç—å `parseRateInput()` –ø–æ–¥ –Ω–æ–≤—ã–π —Ç–∏–ø
4. –û–±–Ω–æ–≤–∏—Ç—å –ª–æ–≥–∏–∫—É `onChange`/`onBlur`
5. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å UX (—Å—Ç—Ä–µ–ª–∫–∏, –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –≤–≤–æ–¥–∞)

---

#### –í—ã–≤–æ–¥—ã

- **–ü–ª–æ—Ö–æ–π UX** ‚Äî –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –≤ 1% –±–µ–∑ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
- **Root cause** ‚Äî —Ñ—É–Ω–∫—Ü–∏—è `parseRateInput()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `Math.max(0.01, decimal)` –¥–ª—è –∞–≤—Ç–æ–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- **–ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ** ‚Äî –¥–æ–±–∞–≤–∏—Ç—å `if (parsed < 0) return null` –¥–ª—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
- **–î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ** ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `type="number"` —Å –Ω–∞—Ç–∏–≤–Ω–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π HTML5
- **–†–µ–∑—É–ª—å—Ç–∞—Ç** ‚Äî —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è, –∫–Ω–æ–ø–∫–∞ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å" –Ω–µ–∞–∫—Ç–∏–≤–Ω–∞ –ø—Ä–∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏—è—Ö
- **–û–±—ä—ë–º —Ä–∞–±–æ—Ç—ã** ‚Äî 1 —Ñ–∞–π–ª, 1 —Å—Ç—Ä–æ–∫–∞ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ñ–∏–∫—Å–∞ –∏–ª–∏ ~20 —Å—Ç—Ä–æ–∫ –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è

**–û–±—â–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:**

- **–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —è–≤–Ω–æ–π** ‚Äî –Ω–µ –∏—Å–ø—Ä–∞–≤–ª—è—Ç—å –Ω–µ–≤–∏–¥–∏–º–æ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–í–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å** ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏ —á–µ—Ä–µ–∑ UI (—Ü–≤–µ—Ç, –∏–∫–æ–Ω–∫–∏, —Ç–µ–∫—Å—Ç)
- **–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏–∏** ‚Äî –æ–¥–∏–Ω–∞–∫–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª—è –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö –∏ —Å–≤–µ—Ä—Ö–±–æ–ª—å—à–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π
- **–ò—Å–ø–æ–ª—å–∑—É–π `type="number"`** –¥–ª—è —á–∏—Å–ª–æ–≤—ã—Ö –ø–æ–ª–µ–π —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏ (min/max)
- **–ü—Ä–æ–≤–µ—Ä—è–π edge cases** ‚Äî 0, –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ, –¥—Ä–æ–±–Ω—ã–µ, –æ—á–µ–Ω—å –±–æ–ª—å—à–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è

**–°—Å—ã–ª–∫–∏:**

- [MDN: input type="number"](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/number) ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [modules/modals/components/loading/LoadingModal.tsx:64-76](../modules/modals/components/loading/LoadingModal.tsx#L64-L76) ‚Äî —Ñ—É–Ω–∫—Ü–∏—è `parseRateInput()`
- [modules/modals/components/loading/LoadingModal.tsx:122-126](../modules/modals/components/loading/LoadingModal.tsx#L122-L126) ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º—ã

---

### üåì –ë–ê–ì #15: –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ "–î–æ–±–∞–≤–∏—Ç—å –±—é–¥–∂–µ—Ç" –≤ —Ç—ë–º–Ω–æ–π —Ç–µ–º–µ –ø—Ä–∏ —Å–≤–µ—Ç–ª–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

**–î–∞—Ç–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è:** 2025-12-30

**–õ–æ–∫–∞—Ü–∏—è:** –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ "–î–æ–±–∞–≤–∏—Ç—å –±—é–¥–∂–µ—Ç" (–≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏–∑ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –º–µ—Å—Ç: —Ä–∞–∑–¥–µ–ª—ã, –æ–±—ä–µ–∫—Ç—ã, —Å—Ç–∞–¥–∏–∏, –ø—Ä–æ–µ–∫—Ç—ã)

#### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

–ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ "–î–æ–±–∞–≤–∏—Ç—å –±—é–¥–∂–µ—Ç" –≤ **—Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**, –º–æ–¥–∞–ª–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ **—Ç—ë–º–Ω–æ–π —Ç–µ–º–µ**, —á—Ç–æ —Å–æ–∑–¥–∞—ë—Ç –≤–∏–∑—É–∞–ª—å–Ω—ã–π –¥–∏—Å—Å–æ–Ω–∞–Ω—Å –∏ –Ω–∞—Ä—É—à–∞–µ—Ç –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.

**–¢–µ–∫—É—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ **—Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–µ** (light mode)
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∫–ª–∏–∫–∞–µ—Ç "–î–æ–±–∞–≤–∏—Ç—å –±—é–¥–∂–µ—Ç" (–≤ —Ä–∞–∑–¥–µ–ª/–æ–±—ä–µ–∫—Ç/—Å—Ç–∞–¥–∏—é/–ø—Ä–æ–µ–∫—Ç)
- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤ **—Ç—ë–º–Ω–æ–π —Ç–µ–º–µ**:
  - –§–æ–Ω: `bg-slate-900/95` (—Ç—ë–º–Ω–æ-—Å–µ—Ä—ã–π)
  - –¢–µ–∫—Å—Ç: —Å–≤–µ—Ç–ª—ã–π (`text-slate-300`, `text-slate-200`)
  - –ì—Ä–∞–Ω–∏—Ü—ã: —Ç—ë–º–Ω—ã–µ (`border-slate-700/50`)
- –û—Å—Ç–∞–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Å—Ç–∞—ë—Ç—Å—è –≤ —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–µ

**–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–æ–ª–∂–Ω–æ **–Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å —Ç–µ–º—É** –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –í —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–µ ‚Üí —Å–≤–µ—Ç–ª—ã–π —Ñ–æ–Ω, —Ç—ë–º–Ω—ã–π —Ç–µ–∫—Å—Ç
- –í —Ç—ë–º–Ω–æ–π —Ç–µ–º–µ ‚Üí —Ç—ë–º–Ω—ã–π —Ñ–æ–Ω, —Å–≤–µ—Ç–ª—ã–π —Ç–µ–∫—Å—Ç

**–ì–¥–µ –ø—Ä–æ—è–≤–ª—è–µ—Ç—Å—è:**
- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ "–î–æ–±–∞–≤–∏—Ç—å –±—é–¥–∂–µ—Ç" ([modules/modals/components/budget/BudgetCreateModal.tsx](../modules/modals/components/budget/BudgetCreateModal.tsx))
- –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏–∑:
  - –†–∞–∑–¥–µ–ª–æ–≤ (sections)
  - –û–±—ä–µ–∫—Ç–æ–≤ (objects)
  - –°—Ç–∞–¥–∏–π (stages)
  - –ü—Ä–æ–µ–∫—Ç–æ–≤ (projects)
- **–¢–æ–ª—å–∫–æ –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–Ω–æ–π —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–µ** –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ:**
1. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ **—Å–≤–µ—Ç–ª—É—é —Ç–µ–º—É**
2. –û—Ç–∫—Ä—ã—Ç—å –ª—é–±–æ–π —Ä–∞–∑–¥–µ–ª/–æ–±—ä–µ–∫—Ç/—Å—Ç–∞–¥–∏—é/–ø—Ä–æ–µ–∫—Ç
3. –ö–ª–∏–∫–Ω—É—Ç—å –∫–Ω–æ–ø–∫—É "–î–æ–±–∞–≤–∏—Ç—å –±—é–¥–∂–µ—Ç"
4. **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ —Ç—ë–º–Ω–æ–π —Ç–µ–º–µ

#### –ü—Ä–∏—á–∏–Ω–∞

**Root cause:** –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∏–º–µ–µ—Ç **—Ö–∞—Ä–¥–∫–æ–¥ —Ç—ë–º–Ω–æ–π —Ç–µ–º—ã** —á–µ—Ä–µ–∑ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ Tailwind –∫–ª–∞—Å—Å—ã `bg-slate-900/95`, –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–µ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ–º—ã.

**–ü—Ä–æ–±–ª–µ–º–Ω—ã–π –∫–æ–¥:**

```typescript
// modules/modals/components/budget/BudgetCreateModal.tsx:234-243

<div
  className={cn(
    'pointer-events-auto w-full max-w-xl',
    'bg-slate-900/95 backdrop-blur-md',  // ‚Üê –•–∞—Ä–¥–∫–æ–¥ —Ç—ë–º–Ω–æ–≥–æ —Ñ–æ–Ω–∞!
    'border border-slate-700/50',        // ‚Üê –•–∞—Ä–¥–∫–æ–¥ —Ç—ë–º–Ω–æ–π –≥—Ä–∞–Ω–∏—Ü—ã
    'rounded-lg shadow-2xl shadow-black/50',
    'transform transition-all duration-200',
    isOpen ? 'scale-100 opacity-100' : 'scale-95 opacity-0'
  )}
>
```

**–ü–æ—á–µ–º—É —ç—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞:**

1. **–ù–µ –Ω–∞—Å–ª–µ–¥—É–µ—Ç —Ç–µ–º—É** ‚Äî –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (`--background`, `--foreground`)
2. **–•–∞—Ä–¥–∫–æ–¥ —Ü–≤–µ—Ç–æ–≤ Slate** ‚Äî —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–ª–∞—Å—Å—ã `bg-slate-900`, `text-slate-300`, `border-slate-700`
3. **–í–∏–∑—É–∞–ª—å–Ω—ã–π –¥–∏—Å—Å–æ–Ω–∞–Ω—Å** ‚Äî —Ç—ë–º–Ω–∞—è –º–æ–¥–∞–ª–∫–∞ –Ω–∞ —Å–≤–µ—Ç–ª–æ–º —Ñ–æ–Ω–µ —Å–æ–∑–¥–∞—ë—Ç –ø–ª–æ—Ö–æ–π UX

**–î—Ä—É–≥–∏–µ —Ö–∞—Ä–¥–∫–æ–¥—ã —Ç–µ–º—ã –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ:**

- –ó–∞–≥–æ–ª–æ–≤–æ–∫: `text-slate-300`, `text-slate-400`, `border-slate-700/50`
- Input –ø–æ–ª—è: `bg-slate-800/50`, `text-slate-200`, `border-slate-700`
- Footer: `border-slate-700/50`, `bg-slate-800`
- –ö–Ω–æ–ø–∫–∏: `text-slate-400`, `border-slate-700`

#### –õ–æ–∫–∞—Ü–∏—è –∫–æ–¥–∞

**–§–∞–π–ª—ã —Å –ø—Ä–æ–±–ª–µ–º–æ–π:**

1. **–û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä** ‚Äî [modules/modals/components/budget/BudgetCreateModal.tsx:234-243](../modules/modals/components/budget/BudgetCreateModal.tsx#L234-L243)
2. **–ó–∞–≥–æ–ª–æ–≤–æ–∫** ‚Äî [modules/modals/components/budget/BudgetCreateModal.tsx:247-262](../modules/modals/components/budget/BudgetCreateModal.tsx#L247-L262)
3. **Input –ø–æ–ª—è** ‚Äî [modules/modals/components/budget/BudgetCreateModal.tsx:434-448](../modules/modals/components/budget/BudgetCreateModal.tsx#L434-L448)
4. **Footer** ‚Äî [modules/modals/components/budget/BudgetCreateModal.tsx:511-548](../modules/modals/components/budget/BudgetCreateModal.tsx#L511-L548)

#### –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ—à–µ–Ω–∏—è

**‚ùå –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:**
- –û—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å ‚Äî –Ω–∞—Ä—É—à–∞–µ—Ç UX
- –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å —Å–≤–µ—Ç–ª—É—é —Ç–µ–º—É ‚Äî –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**‚úÖ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –≤–∞—Ä–∏–∞–Ω—Ç:**

---

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ–º—ã ‚≠ê**

–ó–∞–º–µ–Ω–∏—Ç—å –≤—Å–µ —Ö–∞—Ä–¥–∫–æ–¥—ã Slate –Ω–∞ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

```typescript
// –ë—ã–ª–æ:
'bg-slate-900/95 backdrop-blur-md',
'border border-slate-700/50',

// –°—Ç–∞–ª–æ:
'bg-background/95 backdrop-blur-md',
'border border-border/50',
```

**–¢–∞–±–ª–∏—Ü–∞ –∑–∞–º–µ–Ω:**

| –ë—ã–ª–æ | –°—Ç–∞–ª–æ |
|------|-------|
| `bg-slate-900/95` | `bg-background/95` |
| `border-slate-700` | `border-border` |
| `text-slate-300` | `text-foreground` |
| `text-slate-400` | `text-muted-foreground` |
| `bg-slate-800/50` | `bg-input` |
| `hover:bg-slate-800` | `hover:bg-accent` |

**–ü–ª—é—Å—ã:**
- ‚úÖ –ú–æ–¥–∞–ª–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –ø–æ–¥ —Ç–µ–º—É
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- ‚úÖ –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å —Å –¥—Ä—É–≥–∏–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏

---

#### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π

**–®–∞–≥ 1: –ó–∞–º–µ–Ω–∞ —Ö–∞—Ä–¥–∫–æ–¥–æ–≤**

1. –û—Ç–∫—Ä—ã—Ç—å [modules/modals/components/budget/BudgetCreateModal.tsx:234](../modules/modals/components/budget/BudgetCreateModal.tsx#L234)
2. –ó–∞–º–µ–Ω–∏—Ç—å –≤—Å–µ `bg-slate-*` –Ω–∞ `bg-background` / `bg-input`
3. –ó–∞–º–µ–Ω–∏—Ç—å –≤—Å–µ `text-slate-*` –Ω–∞ `text-foreground` / `text-muted-foreground`
4. –ó–∞–º–µ–Ω–∏—Ç—å –≤—Å–µ `border-slate-*` –Ω–∞ `border-border`
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ñ–∞–π–ª

**–®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç**

1. **–°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞:** –º–æ–¥–∞–ª–∫–∞ —Å –±–µ–ª—ã–º —Ñ–æ–Ω–æ–º ‚úÖ
2. **–¢—ë–º–Ω–∞—è —Ç–µ–º–∞:** –º–æ–¥–∞–ª–∫–∞ —Å —Ç—ë–º–Ω—ã–º —Ñ–æ–Ω–æ–º ‚úÖ

**–®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥—Ä—É–≥–∏–µ –º–æ–¥–∞–ª–∫–∏**

```bash
# –ù–∞–π—Ç–∏ –º–æ–¥–∞–ª–∫–∏ —Å —Ö–∞—Ä–¥–∫–æ–¥–æ–º
grep -r "bg-slate-900" modules/modals/components/
```

–ò—Å–ø—Ä–∞–≤–∏—Ç—å –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ.

---

#### –í—ã–≤–æ–¥—ã

- **–í–∏–∑—É–∞–ª—å–Ω—ã–π –¥–∏—Å—Å–æ–Ω–∞–Ω—Å** ‚Äî –º–æ–¥–∞–ª–∫–∞ –≤ —Ç—ë–º–Ω–æ–π —Ç–µ–º–µ –ø—Ä–∏ —Å–≤–µ—Ç–ª–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
- **Root cause** ‚Äî —Ö–∞—Ä–¥–∫–æ–¥ Tailwind –∫–ª–∞—Å—Å–æ–≤ –≤–º–µ—Å—Ç–æ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- **–ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ** ‚Äî –∑–∞–º–µ–Ω–∞ Slate –∫–ª–∞—Å—Å–æ–≤ –Ω–∞ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ–º—ã
- **–†–µ–∑—É–ª—å—Ç–∞—Ç** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç–µ–º–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **–û–±—ä—ë–º —Ä–∞–±–æ—Ç—ã** ‚Äî 1 —Ñ–∞–π–ª, ~15-20 –∑–∞–º–µ–Ω

**–û–±—â–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:**

- **–ù–∏–∫–æ–≥–¥–∞ –Ω–µ —Ö–∞—Ä–¥–∫–æ–¥—å** —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ü–≤–µ—Ç–∞ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
- –ò—Å–ø–æ–ª—å–∑—É–π **CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ** —Ç–µ–º—ã: `bg-background`, `text-foreground`, `border-border`
- **–¢–µ—Å—Ç–∏—Ä—É–π –≤ –æ–±–µ–∏—Ö —Ç–µ–º–∞—Ö** –ø—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ UI

**–°–≤—è–∑–∞–Ω–Ω—ã–µ –±–∞–≥–∏:**

- [–ë–ê–ì #5: –¢—ë–º–Ω–∞—è —Ç–µ–º–∞ –≤ Sheet](#-–±–∞–≥-5-—Ç—ë–º–Ω–∞—è-—Ç–µ–º–∞-–≤-–º–æ–¥–∞–ª—å–Ω–æ–π-–ø–∞–Ω–µ–ª–∏-–∑–∞–¥–∞—á–∏-–ø—Ä–∏-–≤–∫–ª—é—á–µ–Ω–Ω–æ–π-—Å–≤–µ—Ç–ª–æ–π-—Ç–µ–º–µ) ‚Äî –∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞

**–°—Å—ã–ª–∫–∏:**

- [Tailwind CSS Theme Variables](https://ui.shadcn.com/docs/theming) ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [modules/modals/components/budget/BudgetCreateModal.tsx](../modules/modals/components/budget/BudgetCreateModal.tsx) ‚Äî —Ñ–∞–π–ª —Å –ø—Ä–æ–±–ª–µ–º–æ–π

---

### üêõ –ë–ê–ì #16: –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Ç–∏–ø –±—é–¥–∂–µ—Ç–∞ –≤–º–µ—Å—Ç–æ –Ω–∞–∑–≤–∞–Ω–∏—è –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ —Ä–µ—Å—É—Ä—Å–æ–≤

**–î–∞—Ç–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è:** 2025-12-30

**–õ–æ–∫–∞—Ü–∏—è:** `/tasks` ‚Üí –≤–∫–ª–∞–¥–∫–∞ "–ì—Ä–∞—Ñ–∏–∫ —Ä–µ—Å—É—Ä—Å–æ–≤" ‚Üí —Å—Ç—Ä–æ–∫–∞ "–ë—é–¥–∂–µ—Ç—ã" (—Ä–∞–∑–≤—ë—Ä–Ω—É—Ç—ã–π —Å–ø–∏—Å–æ–∫ –±—é–¥–∂–µ—Ç–æ–≤)

#### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –±—é–¥–∂–µ—Ç–∞ —á–µ—Ä–µ–∑ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ "–î–æ–±–∞–≤–∏—Ç—å –±—é–¥–∂–µ—Ç" –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ —Ä–µ—Å—É—Ä—Å–æ–≤ **–æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–∏–ø–∞ –±—é–¥–∂–µ—Ç–∞** (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–î—Ä—É–≥–æ–π", "–û—Å–Ω–æ–≤–Ω–æ–π") **–≤–º–µ—Å—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –Ω–∞–∑–≤–∞–Ω–∏—è**, –∫–æ—Ç–æ—Ä–æ–µ –±—ã–ª–æ –≤–≤–µ–¥–µ–Ω–æ –≤ –ø–æ–ª–µ "–ù–∞–∑–≤–∞–Ω–∏–µ" –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏.

**–¢–µ–∫—É—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞—ë—Ç –±—é–¥–∂–µ—Ç —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º "–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ Q1" –∏ —Ç–∏–ø–æ–º "–î—Ä—É–≥–æ–π"
- –ë—é–¥–∂–µ—Ç —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞—ë—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- –ù–∞ –≥—Ä–∞—Ñ–∏–∫–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –≤ —Å—Ç—Ä–æ–∫–µ –±—é–¥–∂–µ—Ç–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è **"–î—Ä—É–≥–æ–π"** –≤–º–µ—Å—Ç–æ **"–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ Q1"**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –±—é–¥–∂–µ—Ç–∞ **–Ω–∏–≥–¥–µ –Ω–µ –≤–∏–¥–Ω–æ** –≤ UI

**–ü—Ä–∏–º–µ—Ä:**
```
–°–æ–∑–¥–∞–Ω–∏–µ –±—é–¥–∂–µ—Ç–∞:
- –¢–∏–ø –±—é–¥–∂–µ—Ç–∞: "–î—Ä—É–≥–æ–π" (–≤—ã–±—Ä–∞–Ω –∏–∑ –∫–Ω–æ–ø–æ–∫)
- –ù–∞–∑–≤–∞–Ω–∏–µ: "–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ Q1" (–≤–≤–µ–¥–µ–Ω–æ –≤—Ä—É—á–Ω—É—é)
- –°—É–º–º–∞: 50 000 BYN

–†–µ–∑—É–ª—å—Ç–∞—Ç –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ:
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üü° –î—Ä—É–≥–æ–π  25 000 / 50 000          ‚îÇ ‚Üê –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è "–î—Ä—É–≥–æ–π" (—Ç–∏–ø)
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
   ‚ùå –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: "–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ Q1" (–Ω–∞–∑–≤–∞–Ω–∏–µ)
```

**–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ù–∞ –≥—Ä–∞—Ñ–∏–∫–µ –¥–æ–ª–∂–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è **–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ** –±—é–¥–∂–µ—Ç–∞: "–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ Q1"
- –¢–∏–ø –±—é–¥–∂–µ—Ç–∞ ("–î—Ä—É–≥–æ–π") –º–æ–∂–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ —Ç—É–ª—Ç–∏–ø–µ –∏–ª–∏ –∫–∞–∫ –º–µ—Ç–∫–∞)
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –Ω–∞–∑–≤–∞–Ω–∏–µ > —Ç–∏–ø

**–ì–¥–µ –ø—Ä–æ—è–≤–ª—è–µ—Ç—Å—è:**
- –ì—Ä–∞—Ñ–∏–∫ —Ä–µ—Å—É—Ä—Å–æ–≤ (`/tasks` ‚Üí –≤–∫–ª–∞–¥–∫–∞ "–ì—Ä–∞—Ñ–∏–∫ —Ä–µ—Å—É—Ä—Å–æ–≤")
- –°—Ç—Ä–æ–∫–∞ "–ë—é–¥–∂–µ—Ç—ã" —Ä–∞–∑–¥–µ–ª–∞ (—Ä–∞–∑–≤—ë—Ä–Ω—É—Ç—ã–π —Å–ø–∏—Å–æ–∫)
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `BudgetsRow` ‚Üí `BudgetItemRow`

**–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ:**
1. –û—Ç–∫—Ä—ã—Ç—å `/tasks` ‚Üí –≤–∫–ª–∞–¥–∫–∞ "–ì—Ä–∞—Ñ–∏–∫ —Ä–µ—Å—É—Ä—Å–æ–≤"
2. –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –ª—é–±–æ–π —Ä–∞–∑–¥–µ–ª
3. –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å —Å—Ç—Ä–æ–∫—É "–ë—é–¥–∂–µ—Ç—ã"
4. –ö–ª–∏–∫–Ω—É—Ç—å "+ –î–æ–±–∞–≤–∏—Ç—å –±—é–¥–∂–µ—Ç"
5. –í—ã–±—Ä–∞—Ç—å —Ç–∏–ø "–î—Ä—É–≥–æ–π"
6. –í–≤–µ—Å—Ç–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ "–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ Q1"
7. –í–≤–µ—Å—Ç–∏ —Å—É–º–º—É 50 000
8. –ù–∞–∂–∞—Ç—å "–°–æ–∑–¥–∞—Ç—å"
9. **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –í —Å–ø–∏—Å–∫–µ –±—é–¥–∂–µ—Ç–æ–≤ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è "–î—Ä—É–≥–æ–π" –≤–º–µ—Å—Ç–æ "–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ Q1"

#### –ü—Ä–∏—á–∏–Ω–∞

**Root cause:** –í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ `BudgetItemRow` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç** –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è: `budget.type_name || budget.name` –≤–º–µ—Å—Ç–æ `budget.name || budget.type_name`.

**–ü—Ä–æ–±–ª–µ–º–Ω—ã–π –∫–æ–¥:**

```typescript
// modules/resource-graph/components/timeline/BudgetsRow.tsx:319-321

{/* Name */}
<span className="text-[11px] text-muted-foreground truncate flex-1 min-w-0" title={budget.name}>
  {budget.type_name || budget.name}  // ‚Üê –ü–†–û–ë–õ–ï–ú–ê: –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç type_name
</span>
```

**–ü–æ—á–µ–º—É —ç—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞:**

1. **–õ–æ–≥–∏–∫–∞ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞ –∏–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∞:**
   - –°–µ–π—á–∞—Å: –ï—Å–ª–∏ `type_name` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç ‚Üí –ø–æ–∫–∞–∑–∞—Ç—å `type_name`, –∏–Ω–∞—á–µ `name`
   - –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: –ü–æ–∫–∞–∑–∞—Ç—å `name` (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ), fallback –Ω–∞ `type_name` —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ `name` –ø—É—Å—Ç–æ–µ

2. **–ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ `title` –∞—Ç—Ä–∏–±—É—Ç–∞:**
   ```typescript
   title={budget.name}  // ‚Üê –¢—É–ª—Ç–∏–ø –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ
   {budget.type_name || budget.name}  // ‚Üê –ù–æ –≤–∏–∑—É–∞–ª—å–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Ç–∏–ø
   ```
   –≠—Ç–æ —Å–æ–∑–¥–∞—ë—Ç –ø—É—Ç–∞–Ω–∏—Ü—É: –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ —Ç—É–ª—Ç–∏–ø –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ–¥–Ω–æ, –∞ –≤ UI ‚Äî –¥—Ä—É–≥–æ–µ.

3. **–ü–æ—Ç–µ—Ä—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤–≤–æ–¥–∞:**
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –∫–∞—Å—Ç–æ–º–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ, –Ω–æ –æ–Ω–æ –Ω–∏–≥–¥–µ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
   - –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± —É–≤–∏–¥–µ—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ ‚Äî –Ω–∞–≤–µ—Å—Ç–∏ –∫—É—Ä—Å–æ—Ä (—Ç—É–ª—Ç–∏–ø)

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö `BatchBudget`:**

```typescript
// modules/resource-graph/types/index.ts:438-448

export interface BatchBudget {
  budget_id: string
  name: string                  // ‚Üê –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ (–≤–≤–æ–¥–∏—Ç—Å—è –≤ –º–æ–¥–∞–ª–∫–µ)
  planned_amount: number
  spent_amount: number
  remaining_amount: number
  spent_percentage: number
  type_name: string | null      // ‚Üê –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–∏–ø–∞ ("–û—Å–Ω–æ–≤–Ω–æ–π", "–î—Ä—É–≥–æ–π", –∏ —Ç.–¥.)
  type_color: string | null
  is_active: boolean
}
```

**–ü—Ä–∏–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö:**

```typescript
// –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –±—é–¥–∂–µ—Ç–∞:
{
  budget_id: "123",
  name: "–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ Q1",       // ‚Üê –í–≤–µ–¥–µ–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
  type_name: "–î—Ä—É–≥–æ–π",        // ‚Üê –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–∏–ø–∞
  type_color: "#6b7280",
  planned_amount: 50000,
  // ...
}

// –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è:
budget.type_name || budget.name  ‚Üí "–î—Ä—É–≥–æ–π"  ‚ùå
```

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: —Ç—É–ª—Ç–∏–ø –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ:**

```typescript
// modules/resource-graph/components/timeline/BudgetsRow.tsx:333

<div className="font-medium">{budget.name}</div>  // ‚Üê "–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ Q1" ‚úÖ
```

–≠—Ç–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç, —á—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞ –∏–º–µ–Ω–Ω–æ –≤ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ —Å—Ç—Ä–æ–∫–µ 320.

#### –õ–æ–∫–∞—Ü–∏—è –∫–æ–¥–∞

**–§–∞–π–ª —Å –ø—Ä–æ–±–ª–µ–º–æ–π:**

1. **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è –±—é–¥–∂–µ—Ç–∞** ‚Äî –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
   - [modules/resource-graph/components/timeline/BudgetsRow.tsx:319-321](../modules/resource-graph/components/timeline/BudgetsRow.tsx#L319-L321)

2. **–¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö** ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ `BatchBudget`:
   - [modules/resource-graph/types/index.ts:438-448](../modules/resource-graph/types/index.ts#L438-L448)

#### –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ—à–µ–Ω–∏—è

**‚ùå –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:**
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∏ `type_name`, –∏ `name` –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ ‚Äî –∑–∞–π–º—ë—Ç –º–Ω–æ–≥–æ –º–µ—Å—Ç–∞
- –£–±—Ä–∞—Ç—å `name` –∏–∑ UI –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ `type_name` ‚Äî –ø–æ—Ç–µ—Ä—è –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–∏

**‚úÖ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –≤–∞—Ä–∏–∞–Ω—Ç:**

---

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å fallback –Ω–∞ —Ç–∏–ø ‚≠ê**

–ò–∑–º–µ–Ω–∏—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è:

```typescript
// modules/resource-graph/components/timeline/BudgetsRow.tsx:319-321

// ‚ùå –ë–´–õ–û - –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç type_name:
<span className="text-[11px] text-muted-foreground truncate flex-1 min-w-0" title={budget.name}>
  {budget.type_name || budget.name}
</span>

// ‚úÖ –°–¢–ê–õ–û - –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç name (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ):
<span className="text-[11px] text-muted-foreground truncate flex-1 min-w-0" title={budget.name}>
  {budget.name || budget.type_name}
</span>
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤—ë–ª –Ω–∞–∑–≤–∞–Ω–∏–µ ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è **"–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ Q1"**
- –ï—Å–ª–∏ –ø–æ–ª–µ "–ù–∞–∑–≤–∞–Ω–∏–µ" –ø—É—Å—Ç–æ–µ (—Ö–æ—Ç—è –º–æ–¥–∞–ª–∫–∞ —Ç—Ä–µ–±—É–µ—Ç –µ–≥–æ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è) ‚Üí fallback –Ω–∞ **"–î—Ä—É–≥–æ–π"**

**–ü–ª—é—Å—ã:**
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (1 —Å—Ç—Ä–æ–∫–∞)
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –≤–∏–¥–Ω–æ —Å—Ä–∞–∑—É
- ‚úÖ Fallback –Ω–∞ `type_name` –µ—Å–ª–∏ `name` –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
- ‚úÖ –°–æ–≥–ª–∞—Å—É–µ—Ç—Å—è —Å `title` –∞—Ç—Ä–∏–±—É—Ç–æ–º

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –¢–∏–ø –±—é–¥–∂–µ—Ç–∞ –Ω–µ –≤–∏–¥–µ–Ω –≤ –æ—Å–Ω–æ–≤–Ω–æ–º UI (—Ç–æ–ª—å–∫–æ —Ü–≤–µ—Ç–Ω–∞—è —Ç–æ—á–∫–∞ –∏ —Ç—É–ª—Ç–∏–ø)

---

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç: –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –∏ –Ω–∞–∑–≤–∞–Ω–∏–µ, –∏ —Ç–∏–ø (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ):**

```typescript
<span className="text-[11px] text-muted-foreground truncate flex-1 min-w-0">
  {budget.name}
  {budget.type_name && budget.name !== budget.type_name && (
    <span className="text-[10px] text-muted-foreground/60 ml-1">
      ({budget.type_name})
    </span>
  )}
</span>
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** `–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ Q1 (–î—Ä—É–≥–æ–π)`

**–ü–ª—é—Å—ã:**
- ‚úÖ –í–∏–¥–Ω–æ –∏ –Ω–∞–∑–≤–∞–Ω–∏–µ, –∏ —Ç–∏–ø

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –ó–∞–Ω–∏–º–∞–µ—Ç –±–æ–ª—å—à–µ –º–µ—Å—Ç–∞
- ‚ùå –ú–æ–∂–µ—Ç –Ω–µ –ø–æ–º–µ—Å—Ç–∏—Ç—å—Å—è –≤ —É–∑–∫–æ–º —Å–∞–π–¥–±–∞—Ä–µ

---

#### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π

**–®–∞–≥ 1: –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è**

1. –û—Ç–∫—Ä—ã—Ç—å [modules/resource-graph/components/timeline/BudgetsRow.tsx:320](../modules/resource-graph/components/timeline/BudgetsRow.tsx#L320)
2. –ó–∞–º–µ–Ω–∏—Ç—å:
   ```typescript
   // –ë—ã–ª–æ:
   {budget.type_name || budget.name}

   // –°—Ç–∞–ª–æ:
   {budget.name || budget.type_name}
   ```
3. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ñ–∞–π–ª

**–®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç**

1. –û—Ç–∫—Ä—ã—Ç—å `/tasks` ‚Üí "–ì—Ä–∞—Ñ–∏–∫ —Ä–µ—Å—É—Ä—Å–æ–≤"
2. –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å —Ä–∞–∑–¥–µ–ª ‚Üí —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å "–ë—é–¥–∂–µ—Ç—ã"
3. –ö–ª–∏–∫–Ω—É—Ç—å "+ –î–æ–±–∞–≤–∏—Ç—å –±—é–¥–∂–µ—Ç"
4. –°–æ–∑–¥–∞—Ç—å –±—é–¥–∂–µ—Ç:
   - –¢–∏–ø: "–î—Ä—É–≥–æ–π"
   - –ù–∞–∑–≤–∞–Ω–∏–µ: "–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ Q1"
   - –°—É–º–º–∞: 50 000
5. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - –í —Å–ø–∏—Å–∫–µ –±—é–¥–∂–µ—Ç–æ–≤ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è **"–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ Q1"** ‚úÖ
   - –ü—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ —Ç—É–ª—Ç–∏–ø –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç **"–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ Q1"** ‚úÖ

**–®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å edge cases**

- ‚úÖ –ë—é–¥–∂–µ—Ç —Å —Ç–∏–ø–æ–º "–û—Å–Ω–æ–≤–Ω–æ–π" –∏ –Ω–∞–∑–≤–∞–Ω–∏–µ–º "–û—Å–Ω–æ–≤–Ω–æ–π" ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è "–û—Å–Ω–æ–≤–Ω–æ–π"
- ‚úÖ –ë—é–¥–∂–µ—Ç —Å —Ç–∏–ø–æ–º "–î—Ä—É–≥–æ–π" –∏ –Ω–∞–∑–≤–∞–Ω–∏–µ–º "–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ Q1" ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è "–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ Q1"
- ‚úÖ –ë—é–¥–∂–µ—Ç –±–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è (–µ—Å–ª–∏ —Ç–∞–∫–æ–µ –≤–æ–∑–º–æ–∂–Ω–æ) ‚Üí fallback –Ω–∞ `type_name`

**–®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –µ—Å—Ç—å –ª–∏ –¥—Ä—É–≥–∏–µ –º–µ—Å—Ç–∞ —Å —ç—Ç–æ–π –ø—Ä–æ–±–ª–µ–º–æ–π**

–ü–æ–∏—Å–∫–∞—Ç—å –¥—Ä—É–≥–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å `budget.type_name`:

```bash
# –ü–æ–∏—Å–∫ –≤ resource-graph
grep -r "type_name.*budget\|budget.*type_name" modules/resource-graph/components/

# –ü–æ–∏—Å–∫ –≤ –¥—Ä—É–≥–∏—Ö –º–æ–¥—É–ª—è—Ö
grep -r "budget\.type_name" modules/
```

–ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω—ã ‚Äî –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏–∫—É –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è.

---

#### –í—ã–≤–æ–¥—ã

- **–ü–ª–æ—Ö–æ–π UX** ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –±—é–¥–∂–µ—Ç–∞ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- **Root cause** ‚Äî –∏–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç: `budget.type_name || budget.name` –≤–º–µ—Å—Ç–æ `budget.name || budget.type_name`
- **–ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ** ‚Äî –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫ –≤ –≤—ã—Ä–∞–∂–µ–Ω–∏–∏ (1 —Å—Ç—Ä–æ–∫–∞ –∫–æ–¥–∞)
- **–†–µ–∑—É–ª—å—Ç–∞—Ç** ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –≤–∏–¥–Ω–æ —Å—Ä–∞–∑—É –≤ UI
- **–û–±—ä—ë–º —Ä–∞–±–æ—Ç—ã** ‚Äî 1 —Ñ–∞–π–ª, 1 —Å—Ç—Ä–æ–∫–∞ –∫–æ–¥–∞

**–û–±—â–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:**

- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –≤–≤–æ–¥ –∏–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç** –Ω–∞–¥ —Å–∏—Å—Ç–µ–º–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
- **Fallback –ª–æ–≥–∏–∫–∞:** –∫–∞—Å—Ç–æ–º–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ ‚Üí —Ç–∏–ø ‚Üí –¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
- **–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å UI:** —Ç—É–ª—Ç–∏–ø –∏ –≤–∏–∑—É–∞–ª—å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω—ã –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ
- **–ü—Ä–æ–≤–µ—Ä—è–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç** –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ `||` —Å fallback –∑–Ω–∞—á–µ–Ω–∏—è–º–∏

**–ü–æ—Ö–æ–∂–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:**

–ï—Å–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞—è –ª–æ–≥–∏–∫–∞ `type_name || name` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –¥—Ä—É–≥–∏—Ö –º–µ—Å—Ç–∞—Ö ‚Äî –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å.

**–°—Å—ã–ª–∫–∏:**

- [modules/resource-graph/components/timeline/BudgetsRow.tsx:319-321](../modules/resource-graph/components/timeline/BudgetsRow.tsx#L319-L321) ‚Äî –ø—Ä–æ–±–ª–µ–º–Ω–∞—è —Å—Ç—Ä–æ–∫–∞
- [modules/resource-graph/types/index.ts:438-448](../modules/resource-graph/types/index.ts#L438-L448) ‚Äî —Ç–∏–ø `BatchBudget`

---

### üïí –ë–ê–ì #17: –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞—Ç –æ—Ç—á–µ—Ç–æ–≤ –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ (—Å–¥–≤–∏–≥ –Ω–∞ 1 –¥–µ–Ω—å –Ω–∞–∑–∞–¥)

**–î–∞—Ç–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è:** 2025-12-30

**–õ–æ–∫–∞—Ü–∏—è:** `/tasks` ‚Üí –≤–∫–ª–∞–¥–∫–∞ "–ì—Ä–∞—Ñ–∏–∫ —Ä–µ—Å—É—Ä—Å–æ–≤" ‚Üí –º–∞—Ä–∫–µ—Ä—ã –æ—Ç—á–µ—Ç–æ–≤ (work logs) –Ω–∞ —Ç–∞–π–º–ª–∞–π–Ω–µ

#### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

–ü—Ä–∏ –≤–Ω–µ—Å–µ–Ω–∏–∏ –æ—Ç—á–µ—Ç–∞ –æ —Ä–∞–±–æ—Ç–µ –∑–∞ **—Å–µ–≥–æ–¥–Ω—è**, –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –æ–Ω –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∑–∞ **–≤—á–µ—Ä–∞** (—Å–¥–≤–∏–≥ –Ω–∞ 1 –¥–µ–Ω—å –Ω–∞–∑–∞–¥). –≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∏–∑-–∑–∞ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ timezone –ø—Ä–∏ –ø–∞—Ä—Å–∏–Ω–≥–µ –¥–∞—Ç—ã –æ—Ç—á–µ—Ç–∞.

**–¢–µ–∫—É—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞—ë—Ç –æ—Ç—á–µ—Ç –∑–∞ **30 –¥–µ–∫–∞–±—Ä—è 2025** (—Å–µ–≥–æ–¥–Ω—è)
- –í –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –¥–∞—Ç–∞ `2025-12-30` (–ø—Ä–∞–≤–∏–ª—å–Ω–æ)
- –ù–∞ –≥—Ä–∞—Ñ–∏–∫–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –º–∞—Ä–∫–µ—Ä –æ—Ç—á–µ—Ç–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ –¥–Ω–µ **29 –¥–µ–∫–∞–±—Ä—è 2025** (–≤—á–µ—Ä–∞) ‚ùå
- –ü—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ –º–∞—Ä–∫–µ—Ä —Ç—É–ª—Ç–∏–ø –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –¥–∞—Ç—É: **30.12.2025** (–Ω–æ –≤–∏–∑—É–∞–ª—å–Ω–æ –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç)

**–ü—Ä–∏–º–µ—Ä:**
```
–°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–∞:
- –î–∞—Ç–∞: 30.12.2025 (—Å–µ–≥–æ–¥–Ω—è)
- –ß–∞—Å—ã: 8 —á
- –û–ø–∏—Å–∞–Ω–∏–µ: "–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞"

–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:
work_logs.date = "2025-12-30" ‚úÖ

–ì—Ä–∞—Ñ–∏–∫ —Ä–µ—Å—É—Ä—Å–æ–≤:
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 26  ‚îÇ 27  ‚îÇ 28  ‚îÇ 29  ‚îÇ 30  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ     ‚îÇ     ‚îÇ     ‚îÇ 8—á  ‚îÇ     ‚îÇ ‚Üê –ú–∞—Ä–∫–µ—Ä –Ω–∞ 29-–º –≤–º–µ—Å—Ç–æ 30-–≥–æ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
              ‚Üë
           ‚ùå –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–∞ 30-–º
```

**–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –û—Ç—á–µ—Ç –∑–∞ 30 –¥–µ–∫–∞–±—Ä—è ‚Üí –º–∞—Ä–∫–µ—Ä –Ω–∞ –¥–Ω–µ 30 –¥–µ–∫–∞–±—Ä—è ‚úÖ
- –í–∏–∑—É–∞–ª—å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –¥–∞—Ç–æ–π –≤ —Ç—É–ª—Ç–∏–ø–µ
- –ù–µ—Ç timezone-–∑–∞–≤–∏—Å–∏–º–æ–≥–æ —Å–¥–≤–∏–≥–∞ –¥–∞—Ç

**–ì–¥–µ –ø—Ä–æ—è–≤–ª—è–µ—Ç—Å—è:**
- –ì—Ä–∞—Ñ–∏–∫ —Ä–µ—Å—É—Ä—Å–æ–≤ (`/tasks` ‚Üí –≤–∫–ª–∞–¥–∫–∞ "–ì—Ä–∞—Ñ–∏–∫ —Ä–µ—Å—É—Ä—Å–æ–≤")
- –ú–∞—Ä–∫–µ—Ä—ã –æ—Ç—á–µ—Ç–æ–≤ (work logs) –Ω–∞ —Ç–∞–π–º–ª–∞–π–Ω–µ
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `WorkLogMarkers`
- –í—Å–µ —Ç–∏–ø—ã —Å—Ç—Ä–æ–∫: —Ä–∞–∑–¥–µ–ª—ã, —ç—Ç–∞–ø—ã –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏–∏, —ç–ª–µ–º–µ–Ω—Ç—ã –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏–∏

**–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ:**
1. –û—Ç–∫—Ä—ã—Ç—å `/tasks` ‚Üí –≤–∫–ª–∞–¥–∫–∞ "–ì—Ä–∞—Ñ–∏–∫ —Ä–µ—Å—É—Ä—Å–æ–≤"
2. –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –ª—é–±–æ–π —Ä–∞–∑–¥–µ–ª ‚Üí —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å —ç—Ç–∞–ø –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ ‚Üí —ç–ª–µ–º–µ–Ω—Ç –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏–∏
3. –ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ç—á–µ—Ç–∞
4. –í –º–æ–¥–∞–ª–∫–µ —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ç—á–µ—Ç–∞:
   - –î–∞—Ç–∞: **—Å–µ–≥–æ–¥–Ω—è** (30.12.2025)
   - –ß–∞—Å—ã: 8
   - –û–ø–∏—Å–∞–Ω–∏–µ: "–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞"
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ—Ç—á–µ—Ç
6. **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ú–∞—Ä–∫–µ—Ä –æ—Ç—á–µ—Ç–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ –¥–Ω–µ **29.12.2025** (–≤—á–µ—Ä–∞)
7. –ù–∞–≤–µ—Å—Ç–∏ –∫—É—Ä—Å–æ—Ä –Ω–∞ –º–∞—Ä–∫–µ—Ä ‚Üí —Ç—É–ª—Ç–∏–ø –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç **30.12.2025** (–ø—Ä–∞–≤–∏–ª—å–Ω–æ, –Ω–æ –ø–æ–∑–∏—Ü–∏—è –Ω–µ–≤–µ—Ä–Ω–∞—è)

#### –ü—Ä–∏—á–∏–Ω–∞

**Root cause:** –ü—Ä–∏ –ø–∞—Ä—Å–∏–Ω–≥–µ –¥–∞—Ç—ã –æ—Ç—á–µ—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `parseISO()` –∏–∑ `date-fns` **–±–µ–∑ —É—á—ë—Ç–∞ timezone –ú–∏–Ω—Å–∫ (UTC+3)**, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ —Å–¥–≤–∏–≥—É –Ω–∞ 1 –¥–µ–Ω—å –∏–∑-–∑–∞ —Ä–∞–∑–Ω–∏—Ü—ã –≤ UTC offset.

**–ü—Ä–æ–±–ª–µ–º–Ω—ã–π –∫–æ–¥:**

```typescript
// modules/resource-graph/components/timeline/WorkLogMarkers.tsx:53-54

for (const log of workLogs) {
  const logDate = parseISO(log.date)  // ‚Üê –ü–†–û–ë–õ–ï–ú–ê: parseISO –±–µ–∑ timezone
  const dayIndex = differenceInDays(logDate, range.start)
  // ...
}
```

**–ü–æ—á–µ–º—É —ç—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞:**

1. **`parseISO()` –ø–∞—Ä—Å–∏—Ç –¥–∞—Ç—É –≤ UTC:**
   - –í—Ö–æ–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞: `"2025-12-30"` (–∏–∑ –ë–î)
   - `parseISO("2025-12-30")` ‚Üí `Date` –æ–±—ä–µ–∫—Ç: **2025-12-30T00:00:00Z** (UTC)

2. **`range.start` –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º timezone:**
   - –ï—Å–ª–∏ –±—Ä–∞—É–∑–µ—Ä –≤ UTC+3 (–ú–∏–Ω—Å–∫): `range.start` = **2025-12-01T00:00:00+03:00**
   - –ï—Å–ª–∏ –±—Ä–∞—É–∑–µ—Ä –≤ UTC: `range.start` = **2025-12-01T00:00:00Z**

3. **`differenceInDays()` —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç timestamps:**
   ```typescript
   // –ü—Ä–∏–º–µ—Ä –ø—Ä–∏ UTC+3:
   logDate = parseISO("2025-12-30")       // 2025-12-30T00:00:00Z (UTC)
   range.start = new Date("2025-12-01")   // 2025-12-01T00:00:00+03:00 (–ª–æ–∫–∞–ª—å–Ω—ã–π)

   // differenceInDays –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –≤ UTC:
   logDate.getTime()       // 1735516800000 (2025-12-30 00:00 UTC)
   range.start.getTime()   // 1732924800000 (2025-11-30 21:00 UTC, —Ç.–∫. 2025-12-01 00:00+03:00)

   // –†–∞–∑–Ω–∏—Ü–∞: (1735516800000 - 1732924800000) / (1000*60*60*24) = ~30.125 –¥–Ω–µ–π
   // Math.floor(30.125) = 30, –Ω–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 29 (—Å 1 –¥–µ–∫–∞–±—Ä—è –ø–æ 30 –¥–µ–∫–∞–±—Ä—è = 29 –¥–Ω–µ–π)
   ```

**–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥ —Å–æ–≥–ª–∞—Å–Ω–æ –ø—Ä–æ–µ–∫—Ç–Ω—ã–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º:**

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π timezone –ú–∏–Ω—Å–∫ (Europe/Minsk, UTC+3)** –¥–ª—è –≤—Å–µ—Ö –¥–∞—Ç. –£—Ç–∏–ª–∏—Ç—ã –∏–∑ `lib/timezone-utils.ts` –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Ä–∞–±–æ—Ç—É —Å –¥–∞—Ç–∞–º–∏:

```typescript
// lib/timezone-utils.ts:26-34

export function parseMinskDate(dateString: string): Date {
  const dateOnly = dateString.split('T')[0]
  const [year, month, day] = dateOnly.split('-').map(Number)
  return new Date(Date.UTC(year, month - 1, day))  // ‚Üê –ü–∞—Ä—Å–∏—Ç –≤ UTC –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
}
```

**–ü—Ä–æ–±–ª–µ–º–∞ –≤ `WorkLogMarkers.tsx`:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `parseISO` –≤–º–µ—Å—Ç–æ `parseMinskDate` ‚ùå
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `differenceInDays` —Å timezone-—á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–º–∏ –¥–∞—Ç–∞–º–∏ ‚ùå

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ ‚Äî —Ç—É–ª—Ç–∏–ø –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –¥–∞—Ç—É:**

```typescript
// modules/resource-graph/components/timeline/WorkLogMarkers.tsx:180

{format(day.date, 'dd.MM.yyyy')}  // ‚Üê –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç day.date (parseISO —Ä–µ–∑—É–ª—å—Ç–∞—Ç)
```

–≠—Ç–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç, —á—Ç–æ –¥–∞—Ç–∞ –≤ `day.date` –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è, –Ω–æ —Ä–∞—Å—á—ë—Ç `dayIndex` –Ω–µ–≤–µ—Ä–Ω—ã–π.

#### –õ–æ–∫–∞—Ü–∏—è –∫–æ–¥–∞

**–§–∞–π–ª —Å –ø—Ä–æ–±–ª–µ–º–æ–π:**

1. **–ü–∞—Ä—Å–∏–Ω–≥ –¥–∞—Ç—ã –æ—Ç—á–µ—Ç–∞** ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `parseISO` –≤–º–µ—Å—Ç–æ `parseMinskDate`:
   - [modules/resource-graph/components/timeline/WorkLogMarkers.tsx:53-54](../modules/resource-graph/components/timeline/WorkLogMarkers.tsx#L53-L54)

2. **–†–∞—Å—á—ë—Ç –ø–æ–∑–∏—Ü–∏–∏ –Ω–∞ —Ç–∞–π–º–ª–∞–π–Ω–µ:**
   - [modules/resource-graph/components/timeline/WorkLogMarkers.tsx:54](../modules/resource-graph/components/timeline/WorkLogMarkers.tsx#L54) ‚Äî `differenceInDays(logDate, range.start)`

3. **–£—Ç–∏–ª–∏—Ç—ã timezone (–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥):**
   - [lib/timezone-utils.ts:26-34](../lib/timezone-utils.ts#L26-L34) ‚Äî —Ñ—É–Ω–∫—Ü–∏—è `parseMinskDate`

#### –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ—à–µ–Ω–∏—è

**‚ùå –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:**
- –û—Å—Ç–∞–≤–∏—Ç—å `parseISO` –∏ –¥–æ–±–∞–≤–ª—è—Ç—å/–≤—ã—á–∏—Ç–∞—Ç—å –¥–Ω–∏ –≤—Ä—É—á–Ω—É—é ‚Äî –Ω–µ —Ä–µ—à–∞–µ—Ç root cause
- –ü–∞—Ä—Å–∏—Ç—å `range.start` —á–µ—Ä–µ–∑ `parseISO` ‚Äî –º–æ–∂–µ—Ç —Å–ª–æ–º–∞—Ç—å –¥—Ä—É–≥—É—é –ª–æ–≥–∏–∫—É

**‚úÖ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –≤–∞—Ä–∏–∞–Ω—Ç:**

---

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `parseMinskDate` –≤–º–µ—Å—Ç–æ `parseISO` ‚≠ê**

–ó–∞–º–µ–Ω–∏—Ç—å `parseISO` –Ω–∞ —É—Ç–∏–ª–∏—Ç—É –∏–∑ `lib/timezone-utils.ts`:

```typescript
// modules/resource-graph/components/timeline/WorkLogMarkers.tsx:4

// ‚ùå –£–î–ê–õ–ò–¢–¨:
import { format, parseISO, differenceInDays } from 'date-fns'

// ‚úÖ –î–û–ë–ê–í–ò–¢–¨:
import { format, differenceInDays } from 'date-fns'
import { parseMinskDate } from '@/lib/timezone-utils'
```

```typescript
// modules/resource-graph/components/timeline/WorkLogMarkers.tsx:53-54

// ‚ùå –ë–´–õ–û - parseISO –±–µ–∑ timezone:
for (const log of workLogs) {
  const logDate = parseISO(log.date)
  const dayIndex = differenceInDays(logDate, range.start)
  // ...
}

// ‚úÖ –°–¢–ê–õ–û - parseMinskDate —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º timezone:
for (const log of workLogs) {
  const logDate = parseMinskDate(log.date)
  const dayIndex = differenceInDays(logDate, range.start)
  // ...
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –î–∞—Ç–∞ `"2025-12-30"` ‚Üí `parseMinskDate()` ‚Üí `Date(2025-12-30T00:00:00Z)` (UTC)
- `range.start` —Ç–∞–∫–∂–µ –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å UTC (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –æ–Ω –ø–∞—Ä—Å–∏—Ç—Å—è —á–µ—Ä–µ–∑ `parseMinskDate`)
- `differenceInDays()` –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤—ã—á–∏—Å–ª—è–µ—Ç —Ä–∞–∑–Ω–∏—Ü—É –±–µ–∑ timezone-—Å–¥–≤–∏–≥–æ–≤
- –ú–∞—Ä–∫–µ—Ä –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –¥–Ω–µ ‚úÖ

**–ü–ª—é—Å—ã:**
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (1 —Å—Ç—Ä–æ–∫–∞ –∫–æ–¥–∞)
- ‚úÖ –°–æ–≥–ª–∞—Å—É–µ—Ç—Å—è —Å –ø—Ä–æ–µ–∫—Ç–Ω—ã–º–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º–∏ (`lib/timezone-utils.ts`)
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª—è–µ—Ç timezone-–±–∞–≥ –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –ù–µ—Ç (—ç—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥)

---

#### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π

**–®–∞–≥ 1: –ó–∞–º–µ–Ω–∏—Ç—å parseISO –Ω–∞ parseMinskDate**

1. –û—Ç–∫—Ä—ã—Ç—å [modules/resource-graph/components/timeline/WorkLogMarkers.tsx:4](../modules/resource-graph/components/timeline/WorkLogMarkers.tsx#L4)
2. –û–±–Ω–æ–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç—ã:
   ```typescript
   // –ë—ã–ª–æ:
   import { format, parseISO, differenceInDays } from 'date-fns'

   // –°—Ç–∞–ª–æ:
   import { format, differenceInDays } from 'date-fns'
   import { parseMinskDate } from '@/lib/timezone-utils'
   ```

3. –û—Ç–∫—Ä—ã—Ç—å [modules/resource-graph/components/timeline/WorkLogMarkers.tsx:53](../modules/resource-graph/components/timeline/WorkLogMarkers.tsx#L53)
4. –ó–∞–º–µ–Ω–∏—Ç—å:
   ```typescript
   // –ë—ã–ª–æ:
   const logDate = parseISO(log.date)

   // –°—Ç–∞–ª–æ:
   const logDate = parseMinskDate(log.date)
   ```

5. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ñ–∞–π–ª

**–®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ range.start —Ç–∞–∫–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç UTC**

–£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ `range.start` –∏ `range.end` –ø–∞—Ä—Å—è—Ç—Å—è —á–µ—Ä–µ–∑ `parseMinskDate` –≤ —Ç–æ–º –º–µ—Å—Ç–µ, –≥–¥–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è `TimelineRange`:

```bash
# –ù–∞–π—Ç–∏ –≥–¥–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è TimelineRange
grep -r "range.start\|TimelineRange" modules/resource-graph/
```

–ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `new Date()` –∏–ª–∏ `parseISO()` ‚Äî –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ `parseMinskDate()`.

**–®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç**

1. –û—Ç–∫—Ä—ã—Ç—å `/tasks` ‚Üí "–ì—Ä–∞—Ñ–∏–∫ —Ä–µ—Å—É—Ä—Å–æ–≤"
2. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –æ—Ç—á–µ—Ç –∑–∞ **—Å–µ–≥–æ–¥–Ω—è** (30.12.2025):
   - –ß–∞—Å—ã: 8
   - –û–ø–∏—Å–∞–Ω–∏–µ: "–¢–µ—Å—Ç timezone"
3. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - –ú–∞—Ä–∫–µ—Ä –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ –¥–Ω–µ **30.12.2025** ‚úÖ
   - –ü—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ —Ç—É–ª—Ç–∏–ø –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç **30.12.2025** ‚úÖ
   - –í–∏–∑—É–∞–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –¥–∞—Ç–æ–π –≤ —Ç—É–ª—Ç–∏–ø–µ ‚úÖ

**–®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å edge cases**

- ‚úÖ –û—Ç—á–µ—Ç –∑–∞ **–≤—á–µ—Ä–∞** (29.12) ‚Üí –º–∞—Ä–∫–µ—Ä –Ω–∞ 29-–º
- ‚úÖ –û—Ç—á–µ—Ç –∑–∞ **–∑–∞–≤—Ç—Ä–∞** (31.12) ‚Üí –º–∞—Ä–∫–µ—Ä –Ω–∞ 31-–º
- ‚úÖ –û—Ç—á–µ—Ç –∑–∞ **1 —è–Ω–≤–∞—Ä—è** (–Ω–∞—á–∞–ª–æ –≥–æ–¥–∞) ‚Üí –º–∞—Ä–∫–µ—Ä –Ω–∞ 1-–º —è–Ω–≤–∞—Ä—è
- ‚úÖ –ù–µ—Å–∫–æ–ª—å–∫–æ –æ—Ç—á–µ—Ç–æ–≤ –∑–∞ –æ–¥–∏–Ω –¥–µ–Ω—å ‚Üí –æ–¥–∏–Ω –º–∞—Ä–∫–µ—Ä —Å —Å—É–º–º–æ–π —á–∞—Å–æ–≤

**–®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥—Ä—É–≥–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å parseISO**

–ù–∞–π—Ç–∏ –¥—Ä—É–≥–∏–µ –º–µ—Å—Ç–∞, –≥–¥–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:

```bash
# –ü–æ–∏—Å–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è parseISO –¥–ª—è –¥–∞—Ç
grep -r "parseISO" modules/resource-graph/

# –ü–æ–∏—Å–∫ date-fns —Ñ—É–Ω–∫—Ü–∏–π –±–µ–∑ timezone
grep -r "import.*from 'date-fns'" modules/resource-graph/
```

–ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω—ã ‚Äî –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –Ω—É–∂–Ω–æ –ª–∏ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ `parseMinskDate`.

**–®–∞–≥ 6: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å timeline range**

–£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ `range.start` –∏ `range.end` —Ç–∞–∫–∂–µ –ø–∞—Ä—Å—è—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ:

```typescript
// –ì–¥–µ-—Ç–æ –≤ –∫–æ–¥–µ —Å–æ–∑–¥–∞–Ω–∏—è TimelineRange:
const range: TimelineRange = {
  start: parseMinskDate(startDateString),  // ‚Üê –î–æ–ª–∂–Ω–æ –±—ã—Ç—å parseMinskDate
  end: parseMinskDate(endDateString),      // ‚Üê –î–æ–ª–∂–Ω–æ –±—ã—Ç—å parseMinskDate
}
```

---

#### –í—ã–≤–æ–¥—ã

- **Timezone-–±–∞–≥** ‚Äî –æ—Ç—á–µ—Ç—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–∞ 1 –¥–µ–Ω—å —Ä–∞–Ω—å—à–µ –∏–∑-–∑–∞ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞ –¥–∞—Ç
- **Root cause** ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `parseISO` –±–µ–∑ —É—á—ë—Ç–∞ timezone –ú–∏–Ω—Å–∫ (UTC+3) –≤–º–µ—Å—Ç–æ `parseMinskDate`
- **–ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ** ‚Äî –∑–∞–º–µ–Ω–∏—Ç—å `parseISO` –Ω–∞ `parseMinskDate` (1 —Å—Ç—Ä–æ–∫–∞ –∫–æ–¥–∞)
- **–†–µ–∑—É–ª—å—Ç–∞—Ç** ‚Äî –º–∞—Ä–∫–µ—Ä—ã –æ—Ç—á–µ—Ç–æ–≤ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –¥–∞—Ç–∞—Ö
- **–û–±—ä—ë–º —Ä–∞–±–æ—Ç—ã** ‚Äî 1 —Ñ–∞–π–ª, 2 —Å—Ç—Ä–æ–∫–∏ (–∏–º–ø–æ—Ä—Ç + –∑–∞–º–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏–∏)

**–û–±—â–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–±–æ—Ç—ã —Å –¥–∞—Ç–∞–º–∏ –≤ –ø—Ä–æ–µ–∫—Ç–µ:**

- **–í–°–ï–ì–î–ê –∏—Å–ø–æ–ª—å–∑—É–π** —É—Ç–∏–ª–∏—Ç—ã –∏–∑ `lib/timezone-utils.ts` –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ –¥–∞—Ç
- **–ù–ï –∏—Å–ø–æ–ª—å–∑—É–π** `new Date(string)` –∏–ª–∏ `parseISO(string)` –Ω–∞–ø—Ä—è–º—É—é –¥–ª—è –¥–∞—Ç –∏–∑ –ë–î
- **–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π timezone:** –í—Å–µ –¥–∞—Ç—ã –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É—é—Ç—Å—è –≤ **Europe/Minsk (UTC+3)**
- **–ü–∞—Ä—Å–∏–Ω–≥ –¥–∞—Ç –∏–∑ –ë–î:** `parseMinskDate(dateString)` ‚Üí –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π UTC Date
- **–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç:** `formatMinskDate(date)` ‚Üí "YYYY-MM-DD" –≤ –ú–∏–Ω—Å–∫–µ
- **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–∞—Ç:** –£–±–µ–¥–∏—Å—å, —á—Ç–æ –æ–±–µ –¥–∞—Ç—ã –ø–∞—Ä—Å—è—Ç—Å—è —á–µ—Ä–µ–∑ `parseMinskDate`

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞:**

```typescript
// CLAUDE.md —Ä–∞–∑–¥–µ–ª "Timezone & Dates"
- **–ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å: Europe/Minsk (UTC+3)**
- –£—Ç–∏–ª–∏—Ç—ã: `lib/timezone-utils.ts`
- –î–ª—è `timestamp with time zone` –∏–∑ –ë–î: `formatMinskDate(new Date(isoString))`
- –î–ª—è —Å—Ç—Ä–æ–∫–∏ "YYYY-MM-DD": `parseMinskDate(dateString)`
```

**–°–≤—è–∑–∞–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:**

–ï—Å–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `parseISO` –Ω–∞–π–¥–µ–Ω–æ –≤ –¥—Ä—É–≥–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö ‚Äî –∏—Å–ø—Ä–∞–≤–∏—Ç—å –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ.

**–°—Å—ã–ª–∫–∏:**

- [modules/resource-graph/components/timeline/WorkLogMarkers.tsx:53-54](../modules/resource-graph/components/timeline/WorkLogMarkers.tsx#L53-L54) ‚Äî –ø—Ä–æ–±–ª–µ–º–Ω–∞—è —Å—Ç—Ä–æ–∫–∞
- [lib/timezone-utils.ts:26-34](../lib/timezone-utils.ts#L26-L34) ‚Äî –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —É—Ç–∏–ª–∏—Ç–∞ `parseMinskDate`
- [CLAUDE.md](../CLAUDE.md) ‚Äî –ø—Ä–æ–µ–∫—Ç–Ω—ã–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã —Ä–∞–±–æ—Ç—ã —Å –¥–∞—Ç–∞–º–∏

---

## –ë–ê–ì #18: –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Ç—É–ª—Ç–∏–ø –Ω–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–µ –ø—Ä–∏—Ä–æ—Å—Ç–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ —ç—Ç–∞–ø–∞

### üìã –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

**–ß—Ç–æ –¥–µ–ª–∞–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:**
- –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–ª –≥—Ä–∞—Ñ–∏–∫ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ —ç—Ç–∞–ø–∞ (StageReadinessArea)
- –£–≤–∏–¥–µ–ª –∫—Ä–∞—Å–Ω—É—é —Ü–∏—Ñ—Ä—É –≤ –æ–±–ª–∞—Å—Ç–∏ –≥—Ä–∞—Ñ–∏–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ —Å–ª–µ–≤–∞ –æ—Ç –∑–∞–¥–∞—á–∏

**–ß—Ç–æ –Ω–∞–±–ª—é–¥–∞–ª:**
- –ö—Ä–∞—Å–Ω–∞—è —Ü–∏—Ñ—Ä–∞ (–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π –ø—Ä–∏—Ä–æ—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏) –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –±–µ–∑ —Ç—É–ª—Ç–∏–ø–∞
- –ù–µ–ø–æ–Ω—è—Ç–Ω–æ —á—Ç–æ —ç—Ç–æ –∑–∞ –∑–Ω–∞—á–µ–Ω–∏–µ –∏ –ø–æ—á–µ–º—É –æ–Ω–æ –∫—Ä–∞—Å–Ω–æ–µ
- –ü—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ —Ü–∏—Ñ—Ä—É –Ω–∏—á–µ–≥–æ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç

**–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ü—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—Ä–∏—Ä–æ—Å—Ç–∞ –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–ª—è—Ç—å—Å—è —Ç—É–ª—Ç–∏–ø —Å –ø–æ—è—Å–Ω–µ–Ω–∏–µ–º
- –¢—É–ª—Ç–∏–ø –¥–æ–ª–∂–µ–Ω –æ–±—ä—è—Å–Ω—è—Ç—å: "–ü—Ä–∏—Ä–æ—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∑–∞ —Å–µ–≥–æ–¥–Ω—è: -5%"
- –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø–æ–Ω—è—Ç–Ω–∞ —Å–µ–º–∞–Ω—Ç–∏–∫–∞ —Ü–≤–µ—Ç–∞ (–∑–µ–ª—ë–Ω—ã–π = –ø—Ä–æ–≥—Ä–µ—Å—Å, –∫—Ä–∞—Å–Ω—ã–π = —Ä–µ–≥—Ä–µ—Å—Å)

**–ö–∞—Ç–µ–≥–æ—Ä–∏—è:** UX/Accessibility
**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** Medium
**–ú–æ–¥—É–ª—å:** `modules/resource-graph`

---

### üîç –ü—Ä–∏—á–∏–Ω–∞

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ø—Ä–∏—á–∏–Ω–∞:**
–í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ `StageReadinessArea` –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—Ä–∏—Ä–æ—Å—Ç–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ (—Å—Ç—Ä–æ–∫–∏ 336-365) –∏–º–µ–µ—Ç –∫–ª–∞—Å—Å `pointer-events-none`, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –Ω–µ–≤–æ–∑–º–æ–∂–Ω—ã–º –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –Ω–µ–≥–æ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ç—É–ª—Ç–∏–ø–∞.

**–ö–æ–¥:**
```typescript
{/* –ü–æ–¥–ø–∏—Å—å –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è —Å –ø—Ä–∏—Ä–æ—Å—Ç–æ–º */}
{lastPoint && (
  <div
    className="absolute flex items-center gap-1 pointer-events-none"  // ‚Üê pointer-events-none
    style={{
      left: lastPoint.x,
      top: lastPoint.value > 70 ? lastPoint.y + 8 : lastPoint.y - 14,
      transform: 'translateX(-50%)',
    }}
  >
    <span
      className="text-[9px] font-medium tabular-nums"
      style={{ color, textShadow: '0 0 2px rgba(0,0,0,0.8)' }}
    >
      {Math.round(lastPoint.value)}%
    </span>
    {todayDelta !== null && todayDelta !== 0 && (
      <span
        className={`text-[8px] font-medium tabular-nums ${
          todayDelta > 0 ? 'text-emerald-400' : 'text-red-400'  // ‚Üê –ö—Ä–∞—Å–Ω–∞—è —Ü–∏—Ñ—Ä–∞
        }`}
        style={{ textShadow: '0 0 2px rgba(0,0,0,0.8)' }}
      >
        {todayDelta > 0 ? '+' : ''}
        {Math.round(todayDelta)}
      </span>
    )}
  </div>
)}
```

**–ü–æ—á–µ–º—É —Ç–∞–∫ —Å–¥–µ–ª–∞–Ω–æ:**
- `pointer-events-none` –ø—Ä–∏–º–µ–Ω—ë–Ω —á—Ç–æ–±—ã –ø–æ–¥–ø–∏—Å—å –Ω–µ –±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–∞ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∑–æ–Ω—ã —Ç—É–ª—Ç–∏–ø–æ–≤ –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ
- –¢—É–ª—Ç–∏–ø—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —Ç–æ–ª—å–∫–æ –Ω–∞ timeline grid –æ–±–ª–∞—Å—Ç—è—Ö (—Å—Ç—Ä–æ–∫–∏ 272-334)
- –ü–æ–¥–ø–∏—Å—å –∑–Ω–∞—á–µ–Ω–∏—è –∏ –ø—Ä–∏—Ä–æ—Å—Ç–∞ ‚Äî —ç—Ç–æ –≤–∏–∑—É–∞–ª—å–Ω—ã–π overlay –±–µ–∑ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

**Architectural issue:**
–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏:
- Timeline grid zones ‚Üí –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ, —Å —Ç—É–ª—Ç–∏–ø–∞–º–∏
- Value label overlay ‚Üí –Ω–µ–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π, –±–µ–∑ —Ç—É–ª—Ç–∏–ø–æ–≤
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–∂–∏–¥–∞–µ—Ç —Ç—É–ª—Ç–∏–ø –∏–º–µ–Ω–Ω–æ –Ω–∞ —Å–∞–º–æ–π —Ü–∏—Ñ—Ä–µ, –∞ –Ω–µ –Ω–∞ –Ω–µ–≤–∏–¥–∏–º–æ–π –∑–æ–Ω–µ –ø–æ–¥ –Ω–µ–π

---

### üìÇ –õ–æ–∫–∞—Ü–∏—è –∫–æ–¥–∞

**–§–∞–π–ª:** `modules/resource-graph/components/timeline/StageReadinessArea.tsx`

**–ü—Ä–æ–±–ª–µ–º–Ω–∞—è –æ–±–ª–∞—Å—Ç—å:**
- **–°—Ç—Ä–æ–∫–∏ 336-365:** –ü–æ–¥–ø–∏—Å—å –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è —Å –ø—Ä–∏—Ä–æ—Å—Ç–æ–º (`pointer-events-none`)
- **–°—Ç—Ä–æ–∫–∏ 353-362:** –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –ø—Ä–∏—Ä–æ—Å—Ç–∞ (–∫—Ä–∞—Å–Ω–∞—è/–∑–µ–ª—ë–Ω–∞—è —Ü–∏—Ñ—Ä–∞)
- **–°—Ç—Ä–æ–∫–∏ 272-334:** –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∑–æ–Ω—ã —Å —Ç—É–ª—Ç–∏–ø–∞–º–∏ (—Ç–æ–ª—å–∫–æ –Ω–∞ grid, –Ω–µ –Ω–∞ label)

**–°–≤—è–∑–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- `components/ui/tooltip.tsx` ‚Äî –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Ç—É–ª—Ç–∏–ø–∞ (Radix UI)

---

### üí° –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ—à–µ–Ω–∏—è

#### ‚úÖ –í–∞—Ä–∏–∞–Ω—Ç 1: Wrap delta indicator –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π Tooltip (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

**–û–ø–∏—Å–∞–Ω–∏–µ:**
- –û–±–æ—Ä–∞—á–∏–≤–∞–µ–º —Ç–æ–ª—å–∫–æ span —Å –¥–µ–ª—å—Ç–æ–π –≤ Tooltip —Å `pointer-events-auto`
- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –æ—Å—Ç–∞—ë—Ç—Å—è `pointer-events-none`
- –¢–æ–ª—å–∫–æ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—Ä–∏—Ä–æ—Å—Ç–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º

**–ü–ª—é—Å—ã:**
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- ‚úÖ –ù–µ –ª–æ–º–∞–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –ª–æ–≥–∏–∫—É —Ç—É–ª—Ç–∏–ø–æ–≤ –Ω–∞ grid
- ‚úÖ –ü–æ–Ω—è—Ç–Ω–æ–µ UX ‚Äî –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ –∫—Ä–∞—Å–Ω—É—é —Ü–∏—Ñ—Ä—É –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø–æ—è—Å–Ω–µ–Ω–∏–µ

**–ú–∏–Ω—É—Å—ã:**
- ‚ö†Ô∏è –ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤–ª–æ–∂–µ–Ω–Ω—ã–π TooltipProvider (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—â–∏–π)

**–ö–æ–¥:**
```typescript
{todayDelta !== null && todayDelta !== 0 && (
  <Tooltip delayDuration={300}>
    <TooltipTrigger asChild>
      <span
        className={`text-[8px] font-medium tabular-nums cursor-help pointer-events-auto ${
          todayDelta > 0 ? 'text-emerald-400' : 'text-red-400'
        }`}
        style={{ textShadow: '0 0 2px rgba(0,0,0,0.8)' }}
      >
        {todayDelta > 0 ? '+' : ''}
        {Math.round(todayDelta)}
      </span>
    </TooltipTrigger>
    <TooltipContent side="top" className="text-xs">
      <div className="space-y-0.5">
        <div className="text-muted-foreground text-[10px]">
          –ü—Ä–∏—Ä–æ—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
        </div>
        <div className={todayDelta > 0 ? 'text-emerald-400' : 'text-red-400'}>
          {todayDelta > 0 ? '+' : ''}{todayDelta}% –∑–∞ —Å–µ–≥–æ–¥–Ω—è
        </div>
      </div>
    </TooltipContent>
  </Tooltip>
)}
```

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –î–æ–±–∞–≤–∏—Ç—å `pointer-events-auto` –Ω–∞ span –¥–µ–ª—å—Ç—ã
- –û–±–µ—Ä–Ω—É—Ç—å –≤ `<Tooltip>` –∏ `<TooltipTrigger>`
- –î–æ–±–∞–≤–∏—Ç—å `<TooltipContent>` —Å –ø–æ—è—Å–Ω–µ–Ω–∏–µ–º

---

#### ‚ö†Ô∏è –í–∞—Ä–∏–∞–Ω—Ç 2: –£–≤–µ–ª–∏—á–∏—Ç—å hit area –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç—É–ª—Ç–∏–ø–æ–≤

**–û–ø–∏—Å–∞–Ω–∏–µ:**
- –†–∞—Å—à–∏—Ä–∏—Ç—å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—É—é –∑–æ–Ω—É grid —Ç—É–ª—Ç–∏–ø–æ–≤ –≤–≤–µ—Ä—Ö, —á—Ç–æ–±—ã –≤–∫–ª—é—á–∏—Ç—å label
- –î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–∏—Ä–æ—Å—Ç–µ –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ç—É–ª—Ç–∏–ø

**–ü–ª—é—Å—ã:**
- ‚úÖ –ù–µ –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω–æ–≤—ã—Ö —Ç—É–ª—Ç–∏–ø–æ–≤
- ‚úÖ –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–∞—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå Label –æ—Å—Ç–∞—ë—Ç—Å—è –Ω–µ–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º –≤–∏–∑—É–∞–ª—å–Ω–æ (UX confusion)
- ‚ùå –ù—É–∂–Ω–æ –º–µ–Ω—è—Ç—å –ª–æ–≥–∏–∫—É –≤—ã—Å–æ—Ç—ã –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–æ–Ω
- ‚ùå –ú–æ–∂–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤–∞—Ç—å —Å –¥—Ä—É–≥–∏–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏

---

#### ‚ö†Ô∏è –í–∞—Ä–∏–∞–Ω—Ç 3: –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—Ä–∏—Ä–æ—Å—Ç–∞ –≤–Ω—É—Ç—Ä—å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π –∑–æ–Ω—ã

**–û–ø–∏—Å–∞–Ω–∏–µ:**
- –°–¥–µ–ª–∞—Ç—å label —á–∞—Å—Ç—å—é SVG
- –î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ SVG events

**–ü–ª—é—Å—ã:**
- ‚úÖ –ë–æ–ª–µ–µ "–Ω–∞—Ç–∏–≤–Ω–æ–µ" SVG —Ä–µ—à–µ–Ω–∏–µ

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –ë–æ–ª—å—à–æ–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥
- ‚ùå –°–ª–æ–∂–Ω–µ–µ —É–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º —Ç–µ–∫—Å—Ç–∞ –≤ SVG
- ‚ùå text-shadow —Ä–∞–±–æ—Ç–∞–µ—Ç —Ö—É–∂–µ –≤ SVG

---

### üéØ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π

**–†–µ—à–µ–Ω–∏–µ:** –í–∞—Ä–∏–∞–Ω—Ç 1 (Wrap delta indicator –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π Tooltip)

**–®–∞–≥–∏:**

1. **–û–±–µ—Ä–Ω—É—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—Ä–∏—Ä–æ—Å—Ç–∞ –≤ Tooltip**
   ```typescript
   // –í StageReadinessArea.tsx, —Å—Ç—Ä–æ–∫–∏ 353-362
   {todayDelta !== null && todayDelta !== 0 && (
     <Tooltip delayDuration={300}>
       <TooltipTrigger asChild>
         <span
           className={`text-[8px] font-medium tabular-nums cursor-help pointer-events-auto ${
             todayDelta > 0 ? 'text-emerald-400' : 'text-red-400'
           }`}
           style={{ textShadow: '0 0 2px rgba(0,0,0,0.8)' }}
         >
           {todayDelta > 0 ? '+' : ''}
           {Math.round(todayDelta)}
         </span>
       </TooltipTrigger>
       <TooltipContent side="top" className="text-xs">
         <div className="space-y-0.5">
           <div className="text-muted-foreground text-[10px]">
             –ü—Ä–∏—Ä–æ—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
           </div>
           <div className={todayDelta > 0 ? 'text-emerald-400' : 'text-red-400'}>
             {todayDelta > 0 ? '+' : ''}{todayDelta}% –∑–∞ —Å–µ–≥–æ–¥–Ω—è
           </div>
         </div>
       </TooltipContent>
     </Tooltip>
   )}
   ```

2. **–î–æ–±–∞–≤–∏—Ç—å imports**
   ```typescript
   // –£–∂–µ –µ—Å—Ç—å: Tooltip, TooltipContent, TooltipTrigger, TooltipProvider
   // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –æ–Ω–∏ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã (—Å—Ç—Ä–æ–∫–∏ 9-14)
   ```

3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É**
   - –û—Ç–∫—Ä—ã—Ç—å –≥—Ä–∞—Ñ–∏–∫ —Ä–µ—Å—É—Ä—Å–æ–≤ —Å —ç—Ç–∞–ø–æ–º, –∏–º–µ—é—â–∏–º snapshots
   - –ù–∞–π—Ç–∏ –∫—Ä–∞—Å–Ω—É—é/–∑–µ–ª—ë–Ω—É—é —Ü–∏—Ñ—Ä—É –ø—Ä–∏—Ä–æ—Å—Ç–∞
   - –ù–∞–≤–µ—Å—Ç–∏ –∫—É—Ä—Å–æ—Ä ‚Üí –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è —Ç—É–ª—Ç–∏–ø "–ü—Ä–∏—Ä–æ—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏: +5% –∑–∞ —Å–µ–≥–æ–¥–Ω—è"

4. **Edge cases:**
   - –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ —Ç—É–ª—Ç–∏–ø –Ω–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É–µ—Ç —Å —Ç—É–ª—Ç–∏–ø–∞–º–∏ –Ω–∞ grid
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ `cursor-help` –º–µ–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ —Å–≤–µ—Ç–ª–æ–π –∏ —Ç—ë–º–Ω–æ–π —Ç–µ–º–µ

---

### üìä –í—ã–≤–æ–¥—ã

**Root cause:**
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—Ä–∏—Ä–æ—Å—Ç–∞ –∏–º–µ–µ—Ç `pointer-events-none` –∏ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º
- UX –ø—Ä–æ–±–ª–µ–º–∞: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Ü–∏—Ñ—Ä—É, –Ω–æ –Ω–µ –ø–æ–Ω–∏–º–∞–µ—Ç –µ—ë –∑–Ω–∞—á–µ–Ω–∏–µ

**Impact:**
- **Users affected:** –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≥—Ä–∞—Ñ–∏–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
- **Severity:** Medium ‚Äî –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É, –Ω–æ —É—Ö—É–¥—à–∞–µ—Ç UX
- **Frequency:** –ö–∞–∂–¥—ã–π —Ä–∞–∑ –ø—Ä–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ —ç—Ç–∞–ø–∞ —Å –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

**Solution:**
- –î–æ–±–∞–≤–∏—Ç—å Tooltip –Ω–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—Ä–∏—Ä–æ—Å—Ç–∞ —Å –ø–æ—è—Å–Ω–µ–Ω–∏–µ–º
- Minimal change: wrap span –≤ Tooltip —Å `pointer-events-auto`
- –í—Ä–µ–º—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è: ~10 –º–∏–Ω—É—Ç

**Prevention:**
- Code review guideline: –≤—Å–µ –≤–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã —Å —Ü–≤–µ—Ç–æ–≤–æ–π —Å–µ–º–∞–Ω—Ç–∏–∫–æ–π –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å —Ç—É–ª—Ç–∏–ø—ã
- UX guideline: –∫—Ä–∞—Å–Ω—ã–µ/–∑–µ–ª—ë–Ω—ã–µ —á–∏—Å–ª–∞ —Ç—Ä–µ–±—É—é—Ç –ø–æ—è—Å–Ω–µ–Ω–∏–π (–æ—Å–æ–±–µ–Ω–Ω–æ –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)

**Related:**
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥—Ä—É–≥–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å `pointer-events-none` labels
- Audit: –µ—Å—Ç—å –ª–∏ –µ—â—ë –º–µ—Å—Ç–∞ –≥–¥–µ —Ü–≤–µ—Ç–æ–≤—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –±–µ–∑ —Ç—É–ª—Ç–∏–ø–æ–≤?

**–°—Å—ã–ª–∫–∏:**

- [modules/resource-graph/components/timeline/StageReadinessArea.tsx:336-365](../modules/resource-graph/components/timeline/StageReadinessArea.tsx#L336-L365) ‚Äî –æ–±–ª–∞—Å—Ç—å —Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–º –ø—Ä–∏—Ä–æ—Å—Ç–∞
- [modules/resource-graph/components/timeline/StageReadinessArea.tsx:353-362](../modules/resource-graph/components/timeline/StageReadinessArea.tsx#L353-L362) ‚Äî —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∫—Ä–∞—Å–Ω–æ–π/–∑–µ–ª—ë–Ω–æ–π —Ü–∏—Ñ—Ä—ã
- [components/ui/tooltip.tsx](../components/ui/tooltip.tsx) ‚Äî –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Ç—É–ª—Ç–∏–ø–∞

---

## –ë–ê–ì #19: –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —ç—Ç–∞–ø–∞ —Ç—ë–º–Ω–∞—è –≤ —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–µ

### üìã –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

**–ß—Ç–æ –¥–µ–ª–∞–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:**
- –†–∞–±–æ—Ç–∞–ª –≤ —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –û—Ç–∫—Ä—ã–ª –±–æ–∫–æ–≤—É—é –ø–∞–Ω–µ–ª—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —ç—Ç–∞–ø–∞ (StageModal)
- –ö–ª–∏–∫–Ω—É–ª –Ω–∞ —ç—Ç–∞–ø –≤ –≥—Ä–∞—Ñ–∏–∫–µ —Ä–µ—Å—É—Ä—Å–æ–≤

**–ß—Ç–æ –Ω–∞–±–ª—é–¥–∞–ª:**
- –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —ç—Ç–∞–ø–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å —Ç—ë–º–Ω—ã–º —Ñ–æ–Ω–æ–º
- –ü–∞–Ω–µ–ª—å –∏–º–µ–µ—Ç —Ü–≤–µ—Ç–∞ `bg-slate-900`, `border-slate-700`
- –ö–æ–Ω—Ç—Ä–∞—Å—Ç –Ω–∞—Ä—É—à–µ–Ω: —Ç—ë–º–Ω–∞—è –ø–∞–Ω–µ–ª—å –Ω–∞ —Å–≤–µ—Ç–ª–æ–º —Ñ–æ–Ω–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –í–∏–∑—É–∞–ª—å–Ω–æ –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ –±–∞–≥ –¥–∏–∑–∞–π–Ω–∞

**–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å –¥–æ–ª–∂–Ω–∞ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –ø–æ–¥ —Ç–µ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –í —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–µ: —Å–≤–µ—Ç–ª—ã–π —Ñ–æ–Ω, —Ç—ë–º–Ω—ã–π —Ç–µ–∫—Å—Ç
- –í —Ç—ë–º–Ω–æ–π —Ç–µ–º–µ: —Ç—ë–º–Ω—ã–π —Ñ–æ–Ω, —Å–≤–µ—Ç–ª—ã–π —Ç–µ–∫—Å—Ç
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ–º—ã –≤–º–µ—Å—Ç–æ —Ö–∞—Ä–¥–∫–æ–¥–∞ —Ü–≤–µ—Ç–æ–≤

**–ö–∞—Ç–µ–≥–æ—Ä–∏—è:** UI/Theme
**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** High
**–ú–æ–¥—É–ª—å:** `modules/modals`

---

### üîç –ü—Ä–∏—á–∏–Ω–∞

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ø—Ä–∏—á–∏–Ω–∞:**
–í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ `StageModal` –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ö–∞—Ä–¥–∫–æ–¥–Ω—ã–µ Tailwind –∫–ª–∞—Å—Å—ã —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Ü–≤–µ—Ç–∞–º–∏ slate, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —Ä–µ–∞–≥–∏—Ä—É—é—Ç –Ω–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

**–ü—Ä–æ–±–ª–µ–º–Ω—ã–µ –º–µ—Å—Ç–∞:**

1. **–ì–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–∞–Ω–µ–ª–∏ (—Å—Ç—Ä–æ–∫–∏ 324-326):**
```typescript
className={cn(
  'fixed inset-y-0 right-0 z-50',
  'bg-slate-900/95 backdrop-blur-md',        // ‚Üê –•–∞—Ä–¥–∫–æ–¥ —Ç—ë–º–Ω–æ–≥–æ —Ñ–æ–Ω–∞
  'border-l border-slate-700/50',            // ‚Üê –•–∞—Ä–¥–∫–æ–¥ —Ç—ë–º–Ω–æ–π –≥—Ä–∞–Ω–∏—Ü—ã
  'shadow-2xl shadow-black/50',              // ‚Üê –•–∞—Ä–¥–∫–æ–¥ —Ç—ë–º–Ω–æ–π —Ç–µ–Ω–∏
  'flex flex-col',
  'transition-transform',
  isAnimating ? 'translate-x-0' : 'translate-x-full'
)}
```

2. **Header border (—Å—Ç—Ä–æ–∫–∞ 335):**
```typescript
<header className="flex items-center justify-between px-4 py-2.5 border-b border-slate-700/50">
```

3. **–¢–µ–∫—Å—Ç–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã:**
- `text-slate-300` (—Å—Ç—Ä–æ–∫–∞ 338)
- `text-slate-500` (—Å—Ç—Ä–æ–∫–∏ 339, 400, 484, 500, 518, 556)
- `text-slate-200` (—Å—Ç—Ä–æ–∫–∞ 372)
- `text-slate-400` (—Å—Ç—Ä–æ–∫–∏ 408, 423, 443, 478, 579)
- `text-slate-100` (—Å—Ç—Ä–æ–∫–∞ 348)
- `text-slate-600` (—Å—Ç—Ä–æ–∫–∞ 377)

4. **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ñ–æ—Ä–º—ã:**
- Input: `bg-slate-800 border-slate-600` (—Å—Ç—Ä–æ–∫–∞ 347)
- MetricCard: `bg-slate-800/50 border-slate-700/50` (—Å—Ç—Ä–æ–∫–∞ 517)
- TaskRow: `bg-slate-800/30 border-slate-700/50` (—Å—Ç—Ä–æ–∫–∞ 549)

**–ü–æ—á–µ–º—É —Ç–∞–∫ —Å–¥–µ–ª–∞–Ω–æ:**
- Modal –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–ª—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç—ë–º–Ω–æ–π —Ç–µ–º—ã
- –ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞—Å—å —Å–∏—Å—Ç–µ–º–∞ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏–∑ `globals.css`
- Resource Graph style –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç amber/dark –¥–∏–∑–∞–π–Ω

**Pattern issue:**
–ê–Ω–∞–ª–æ–≥–∏—á–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞ –≤ –ë–ê–ì #12 (`BudgetCreateModal`) ‚Äî —Ç–∞ –∂–µ –æ—à–∏–±–∫–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã.

---

### üìÇ –õ–æ–∫–∞—Ü–∏—è –∫–æ–¥–∞

**–§–∞–π–ª:** `modules/modals/components/stage/StageModal.tsx`

**–ü—Ä–æ–±–ª–µ–º–Ω—ã–µ –æ–±–ª–∞—Å—Ç–∏:**
- **–°—Ç—Ä–æ–∫–∏ 318-333:** –ì–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–∞–Ω–µ–ª–∏ (bg, border, shadow)
- **–°—Ç—Ä–æ–∫–∞ 335:** Header border
- **–°—Ç—Ä–æ–∫–∞ 347:** Input styles
- **–°—Ç—Ä–æ–∫–∞ 391:** Error message bg
- **–°—Ç—Ä–æ–∫–∞ 517:** MetricCard bg
- **–°—Ç—Ä–æ–∫–∞ 549:** TaskRow bg
- **–í—Å–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã:** `text-slate-*` –ø–æ –≤—Å–µ–º—É —Ñ–∞–π–ª—É

**–°–≤—è–∑–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- `StatusDropdown` (—Å—Ç—Ä–æ–∫–∞ 411) ‚Äî –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
- `DateRangeInput` (—Å—Ç—Ä–æ–∫–∞ 426) ‚Äî –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
- `ResponsiblesDropdown` (—Å—Ç—Ä–æ–∫–∞ 446) ‚Äî –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

---

### üí° –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ—à–µ–Ω–∏—è

#### ‚úÖ –í–∞—Ä–∏–∞–Ω—Ç 1: –ó–∞–º–µ–Ω–∞ –≤—Å–µ—Ö slate –∫–ª–∞—Å—Å–æ–≤ –Ω–∞ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

**–û–ø–∏—Å–∞–Ω–∏–µ:**
- –°–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–º–µ–Ω–∞ –≤—Å–µ—Ö `bg-slate-*`, `border-slate-*`, `text-slate-*` –Ω–∞ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ–º—ã
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω –∏–∑ `BudgetCreateModal` (–ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ë–ê–ì #12)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–±–µ–∏—Ö —Ç–µ–º –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞

**–ú–∞–ø–ø–∏–Ω–≥ –∑–∞–º–µ–Ω:**

| –°—Ç–∞—Ä—ã–π –∫–ª–∞—Å—Å | –ù–æ–≤—ã–π –∫–ª–∞—Å—Å | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|--------------|-------------|------------|
| `bg-slate-900/95` | `bg-background/95` | –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–æ–Ω –ø–∞–Ω–µ–ª–∏ |
| `border-slate-700/50` | `border-border/50` | –ì—Ä–∞–Ω–∏—Ü—ã |
| `shadow-black/50` | `shadow-foreground/20` | –¢–µ–Ω–∏ |
| `text-slate-300` | `text-foreground` | –û—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–∫—Å—Ç |
| `text-slate-500` | `text-muted-foreground` | –í—Ç–æ—Ä–∏—á–Ω—ã–π —Ç–µ–∫—Å—Ç |
| `text-slate-200` | `text-foreground` | –ó–∞–≥–æ–ª–æ–≤–∫–∏ |
| `text-slate-400` | `text-muted-foreground` | Labels |
| `bg-slate-800` | `bg-muted` | Input —Ñ–æ–Ω |
| `border-slate-600` | `border-border` | Input border |
| `bg-slate-800/50` | `bg-muted/50` | Card —Ñ–æ–Ω |
| `bg-slate-700` | `bg-muted` | Progress bg |

**–ü–ª—é—Å—ã:**
- ‚úÖ –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–±–µ–∏—Ö —Ç–µ–º
- ‚úÖ –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å —Å –æ—Å—Ç–∞–ª—å–Ω—ã–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º
- ‚úÖ –ù–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ü–≤–µ—Ç–æ–≤
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –±—É–¥—É—â–∏—Ö —Ç–µ–º

**–ú–∏–Ω—É—Å—ã:**
- ‚ö†Ô∏è –ù—É–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è UI
- ‚ö†Ô∏è ~30-40 –∑–∞–º–µ–Ω –∫–ª–∞—Å—Å–æ–≤ –ø–æ –≤—Å–µ–º—É —Ñ–∞–π–ª—É

---

#### ‚ö†Ô∏è –í–∞—Ä–∏–∞–Ω—Ç 2: –£—Å–ª–æ–≤–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –ø–æ —Ç–µ–º–µ

**–û–ø–∏—Å–∞–Ω–∏–µ:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `useTheme()` hook –∏–∑ next-themes
- –ü—Ä–∏–º–µ–Ω—è—Ç—å —Ä–∞–∑–Ω—ã–µ –∫–ª–∞—Å—Å—ã –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–µ–∫—É—â–µ–π —Ç–µ–º—ã

**–ö–æ–¥:**
```typescript
import { useTheme } from 'next-themes'

const { theme } = useTheme()
const isDark = theme === 'dark'

className={cn(
  'fixed inset-y-0 right-0 z-50',
  isDark ? 'bg-slate-900/95' : 'bg-white/95',
  isDark ? 'border-slate-700/50' : 'border-gray-300/50',
  // ...
)}
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –ì–∏–±–∫–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ —Å—Ç–∏–ª—è–º–∏
- ‚úÖ –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —Ü–≤–µ—Ç–æ–≤—ã–µ –ø–∞–ª–∏—Ç—Ä—ã

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
- ‚ùå –°–ª–æ–∂–Ω–µ–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å
- ‚ùå –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Å–∏—Å—Ç–µ–º–Ω–æ–π —Ç–µ–º–æ–π (dark/light/system)
- ‚ùå –ë–æ–ª—å—à–µ —É—Å–ª–æ–≤–∏–π –≤ JSX

---

#### ‚ö†Ô∏è –í–∞—Ä–∏–∞–Ω—Ç 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å dark: –ø—Ä–µ—Ñ–∏–∫—Å Tailwind

**–û–ø–∏—Å–∞–Ω–∏–µ:**
- Tailwind –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç `dark:` –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- –ü—Ä–∏–º–µ–Ω—è—Ç—å —Å—Ç–∏–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ —Ç—ë–º–Ω–æ–π —Ç–µ–º–µ

**–ö–æ–¥:**
```typescript
className="bg-white dark:bg-slate-900 border-gray-200 dark:border-slate-700"
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Tailwind
- ‚úÖ –î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª–∞—Å—Å–æ–≤
- ‚ùå –ú–µ–Ω–µ–µ —á–∏—Ç–∞–µ–º—ã–π –∫–æ–¥ –ø—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
- ‚ùå –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–æ–µ–∫—Ç–Ω—ã–µ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

---

### üéØ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π

**–†–µ—à–µ–Ω–∏–µ:** –í–∞—Ä–∏–∞–Ω—Ç 1 (–ó–∞–º–µ–Ω–∞ –Ω–∞ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ)

**–®–∞–≥–∏:**

1. **–ó–∞–º–µ–Ω–∏—Ç—å –∫–ª–∞—Å—Å—ã –≥–ª–∞–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (—Å—Ç—Ä–æ–∫–∏ 324-326)**
   ```typescript
   className={cn(
     'fixed inset-y-0 right-0 z-50',
     'bg-background/95 backdrop-blur-md',      // ‚Üê CSS –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è
     'border-l border-border/50',              // ‚Üê CSS –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è
     'shadow-2xl shadow-foreground/10',        // ‚Üê CSS –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è
     'flex flex-col',
     'transition-transform',
     isAnimating ? 'translate-x-0' : 'translate-x-full'
   )}
   ```

2. **–ó–∞–º–µ–Ω–∏—Ç—å header border (—Å—Ç—Ä–æ–∫–∞ 335)**
   ```typescript
   <header className="flex items-center justify-between px-4 py-2.5 border-b border-border/50">
   ```

3. **–ó–∞–º–µ–Ω–∏—Ç—å —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã –ø–æ –≤—Å–µ–º—É —Ñ–∞–π–ª—É**
   - `text-slate-300` ‚Üí `text-foreground`
   - `text-slate-500` ‚Üí `text-muted-foreground`
   - `text-slate-200` ‚Üí `text-foreground`
   - `text-slate-400` ‚Üí `text-muted-foreground`
   - `text-slate-100` ‚Üí `text-foreground`
   - `text-slate-600` ‚Üí `text-muted-foreground/50`

4. **–ó–∞–º–µ–Ω–∏—Ç—å input —Å—Ç–∏–ª–∏ (—Å—Ç—Ä–æ–∫–∞ 347)**
   ```typescript
   className={cn(
     'flex-1 min-w-0 px-2 py-1 text-xs font-medium',
     'bg-muted border border-border rounded',
     'text-foreground',
     'focus:outline-none focus:border-amber-500/50 focus:ring-1 focus:ring-amber-500/20'
   )}
   ```

5. **–ó–∞–º–µ–Ω–∏—Ç—å MetricCard bg (—Å—Ç—Ä–æ–∫–∞ 517)**
   ```typescript
   <div className="bg-muted/50 border border-border/50 rounded-lg p-2.5">
   ```

6. **–ó–∞–º–µ–Ω–∏—Ç—å TaskRow bg (—Å—Ç—Ä–æ–∫–∞ 549)**
   ```typescript
   isCompleted
     ? 'bg-emerald-500/5 border-emerald-500/20'
     : 'bg-muted/30 border-border/50 hover:bg-muted/50'
   ```

7. **–ó–∞–º–µ–Ω–∏—Ç—å progress bar bg (—Å—Ç—Ä–æ–∫–∏ 524, 567)**
   ```typescript
   <div className="mt-1.5 h-1 bg-muted rounded-full overflow-hidden">
   // –∏
   <div className="w-12 h-1 bg-muted rounded-full overflow-hidden">
   ```

8. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å error message (—Å—Ç—Ä–æ–∫–∞ 391)**
   ```typescript
   // –û—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å - –∫—Ä–∞—Å–Ω—ã–π —Ü–≤–µ—Ç –¥–ª—è –æ—à–∏–±–∫–∏ —É–Ω–∏–≤–µ—Ä—Å–∞–ª–µ–Ω
   className="mx-4 mt-3 px-3 py-2 bg-red-500/10 border border-red-500/30 rounded text-[11px] text-red-400"
   ```

9. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –û—Ç–∫—Ä—ã—Ç—å –ø–∞–Ω–µ–ª—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —ç—Ç–∞–ø–∞ –≤ —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–µ
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã: header, inputs, dropdowns, metrics, tasks
   - –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ —Ç—ë–º–Ω—É—é —Ç–µ–º—É ‚Üí —É–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏—è: hover, focus, disabled, loading

10. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≤–∏—Å–∏–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**
    - `StatusDropdown` ‚Äî –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–º–∏–∑–∞—Ü–∏—é
    - `DateRangeInput` ‚Äî –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–º–∏–∑–∞—Ü–∏—é
    - `ResponsiblesDropdown` ‚Äî –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–º–∏–∑–∞—Ü–∏—é

---

### üìä –í—ã–≤–æ–¥—ã

**Root cause:**
- –•–∞—Ä–¥–∫–æ–¥–Ω—ã–µ Tailwind slate –∫–ª–∞—Å—Å—ã –≤–º–µ—Å—Ç–æ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ç–µ–º—ã
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º—ã –ø—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
- –ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ç–µ–º–∏–∑–∞—Ü–∏–∏

**Impact:**
- **Users affected:** –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º—ã
- **Severity:** High ‚Äî –Ω–∞—Ä—É—à–∞–µ—Ç UX, –≤–∏–∑—É–∞–ª—å–Ω–æ –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ –±–∞–≥
- **Frequency:** –ö–∞–∂–¥—ã–π —Ä–∞–∑ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –ø–∞–Ω–µ–ª–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —ç—Ç–∞–ø–∞

**Solution:**
- –°–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–º–µ–Ω–∞ ~30-40 –∫–ª–∞—Å—Å–æ–≤ –Ω–∞ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
- –°–ª–µ–¥–æ–≤–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω—É –∏–∑ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω (–ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è)
- –í—Ä–µ–º—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è: ~30-40 –º–∏–Ω—É—Ç

**Prevention:**
- Code review checklist: –≤—Å–µ –Ω–æ–≤—ã–µ –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ –¥–æ–ª–∂–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
- Lint rule: –∑–∞–ø—Ä–µ—Ç–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `bg-slate-*`, `text-slate-*` –≤ –º–æ–¥–∞–ª–∫–∞—Ö
- Design system guideline: –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å—ã –¥–ª—è —Ç–µ–º–∏–∑–∞—Ü–∏–∏

**Related:**
- –ë–ê–ì #12 ‚Äî –∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –≤ `BudgetCreateModal`
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥—Ä—É–≥–∏–µ –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ —Ö–∞—Ä–¥–∫–æ–¥–∞ slate –∫–ª–∞—Å—Å–æ–≤
- Module audit: –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ `modules/modals/` –¥–æ–ª–∂–Ω—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –æ–±–µ —Ç–µ–º—ã

**–°—Å—ã–ª–∫–∏:**

- [modules/modals/components/stage/StageModal.tsx:324-326](../modules/modals/components/stage/StageModal.tsx#L324-L326) ‚Äî –≥–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å —Ö–∞—Ä–¥–∫–æ–¥–æ–º
- [modules/modals/components/stage/StageModal.tsx:335](../modules/modals/components/stage/StageModal.tsx#L335) ‚Äî header border
- [modules/modals/components/stage/StageModal.tsx:347](../modules/modals/components/stage/StageModal.tsx#L347) ‚Äî input styles
- [modules/modals/components/budget/BudgetCreateModal.tsx](../modules/modals/components/budget/BudgetCreateModal.tsx) ‚Äî –ë–ê–ì #12, –∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞

---

## –ë–ê–ì #20: –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª –≤ –ø–∞–Ω–µ–ª–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —ç—Ç–∞–ø–∞ –∏–∑-–∑–∞ –ø–µ—Ä–∏–æ–¥–∞

### üìã –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

**–ß—Ç–æ –¥–µ–ª–∞–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:**
- –û—Ç–∫—Ä—ã–ª –±–æ–∫–æ–≤—É—é –ø–∞–Ω–µ–ª—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —ç—Ç–∞–ø–∞ (StageModal)
- –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–ª –ø–æ–ª—è —Ñ–æ—Ä–º—ã

**–ß—Ç–æ –Ω–∞–±–ª—é–¥–∞–ª:**
- –ü–æ—è–≤–ª—è–µ—Ç—Å—è –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª –≤ –ø–∞–Ω–µ–ª–∏
- –≠–ª–µ–º–µ–Ω—Ç "–ü–µ—Ä–∏–æ–¥" (DateRangeInput) –Ω–µ –≤–ª–µ–∑–∞–µ—Ç –≤ —Å–≤–æ—é –∫–æ–ª–æ–Ω–∫—É
- –≠–ª–µ–º–µ–Ω—Ç—ã –≤—ã—Ö–æ–¥—è—Ç –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
- –ü—Ä–∏—Ö–æ–¥–∏—Ç—Å—è —Å–∫—Ä–æ–ª–ª–∏—Ç—å –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤—Å–µ–π —Ñ–æ—Ä–º—ã

**–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –≠–ª–µ–º–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã —Ä–∞–∑–º–µ—â–∞—Ç—å—Å—è —Ç–∞–∫, —á—Ç–æ–±—ã –≤–ª–µ–∑–∞–ª–∏ –≤ —à–∏—Ä–∏–Ω—É –ø–∞–Ω–µ–ª–∏
- –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª –Ω–µ –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–ª—è—Ç—å—Å—è
- Layout –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–º –∏–ª–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã–º

**–ö–∞—Ç–µ–≥–æ—Ä–∏—è:** UI/Layout
**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** Medium
**–ú–æ–¥—É–ª—å:** `modules/modals`

---

### üîç –ü—Ä–∏—á–∏–Ω–∞

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ø—Ä–∏—á–∏–Ω–∞:**
–ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –º–µ–∂–¥—É —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —à–∏—Ä–∏–Ω–æ–π –ø–∞–Ω–µ–ª–∏ –∏ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π —à–∏—Ä–∏–Ω–æ–π —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ `DateRangeInput` –≤ –¥–≤—É—Ö–∫–æ–ª–æ–Ω–æ—á–Ω–æ–π —Å–µ—Ç–∫–µ.

**–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º—ã:**

1. **–®–∏—Ä–∏–Ω–∞ –ø–∞–Ω–µ–ª–∏ (StageModal.tsx:32):**
   ```typescript
   const PANEL_WIDTH = 420
   ```

2. **Layout —Å–µ—Ç–∫–∏ (StageModal.tsx:405):**
   ```typescript
   <div className="grid grid-cols-2 gap-3">
   ```
   - –î–æ—Å—Ç—É–ø–Ω–∞—è —à–∏—Ä–∏–Ω–∞ –Ω–∞ –∫–æ–ª–æ–Ω–∫—É: `(420px - padding - gap) / 2 ‚âà 195-200px`

3. **–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ DateRangeInput (DateRangeInput.tsx:73-118):**
   ```typescript
   <div className="flex items-center gap-2 text-sm">
     <CalendarDays className="w-4 h-4" />           // 16px
     <div className="flex items-center gap-1.5">
       <input className="w-[110px]" />              // 110px
       <ArrowRight className="w-3.5 h-3.5" />      // 14px
       <input className="w-[110px]" />              // 110px
     </div>
     {isSaving && <Loader2 className="w-3.5" />}   // 14px (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   </div>
   ```
   - –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞: `16 + 8 (gap-2) + 110 + 6 (gap-1.5) + 14 + 6 + 110 = 270px`
   - –° loader: `270 + 8 + 14 = 292px`

4. **Overflow:**
   ```
   –¢—Ä–µ–±—É–µ—Ç—Å—è: ~270-292px
   –î–æ—Å—Ç—É–ø–Ω–æ: ~195-200px
   Overflow: ~70-95px ‚Üí –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª
   ```

**–ü–æ—á–µ–º—É —Ç–∞–∫ —Å–¥–µ–ª–∞–Ω–æ:**
- `DateRangeInput` —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –¥–ª—è –ø–æ–ª–Ω–æ–π —à–∏—Ä–∏–Ω—ã, –Ω–µ –¥–ª—è –ø–æ–ª–æ–≤–∏–Ω—ã –ø–∞–Ω–µ–ª–∏
- –î–≤—É—Ö–∫–æ–ª–æ–Ω–æ—á–Ω–∞—è —Å–µ—Ç–∫–∞ –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é —à–∏—Ä–∏–Ω—É date inputs
- –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —à–∏—Ä–∏–Ω–∞ `w-[110px]` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ input'–∞ –Ω–µ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è

---

### üìÇ –õ–æ–∫–∞—Ü–∏—è –∫–æ–¥–∞

**–§–∞–π–ª—ã:**
- `modules/modals/components/stage/StageModal.tsx`
- `modules/modals/components/section/DateRangeInput.tsx`

**–ü—Ä–æ–±–ª–µ–º–Ω—ã–µ –æ–±–ª–∞—Å—Ç–∏:**

1. **StageModal.tsx:32** ‚Äî –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —à–∏—Ä–∏–Ω–∞ –ø–∞–Ω–µ–ª–∏
   ```typescript
   const PANEL_WIDTH = 420
   ```

2. **StageModal.tsx:405** ‚Äî –î–≤—É—Ö–∫–æ–ª–æ–Ω–æ—á–Ω–∞—è —Å–µ—Ç–∫–∞
   ```typescript
   <div className="grid grid-cols-2 gap-3">
     {/* Status */}
     <div>...</div>
     {/* Period */}
     <div>...</div>
   </div>
   ```

3. **DateRangeInput.tsx:44-45** ‚Äî –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —à–∏—Ä–∏–Ω–∞ input'–æ–≤
   ```typescript
   const dateInputClasses = cn(
     'w-[110px] px-2 py-1 text-xs',
     // ...
   )
   ```

4. **DateRangeInput.tsx:73** ‚Äî –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å gap
   ```typescript
   <div className="flex items-center gap-2 text-sm">
   ```

---

### üí° –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ—à–µ–Ω–∏—è

#### ‚úÖ –í–∞—Ä–∏–∞–Ω—Ç 1: –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ "–ü–µ—Ä–∏–æ–¥" –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—É—é —Å—Ç—Ä–æ–∫—É (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

**–û–ø–∏—Å–∞–Ω–∏–µ:**
- –û—Å—Ç–∞–≤–∏—Ç—å "–°—Ç–∞—Ç—É—Å" –Ω–∞ –ø–æ–ª–Ω—É—é —à–∏—Ä–∏–Ω—É –≤ –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–æ–∫–µ
- –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ "–ü–µ—Ä–∏–æ–¥" –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—É—é —Å—Ç—Ä–æ–∫—É –Ω–∞ –ø–æ–ª–Ω—É—é —à–∏—Ä–∏–Ω—É
- –£–±—Ä–∞—Ç—å –¥–≤—É—Ö–∫–æ–ª–æ–Ω–æ—á–Ω—É—é —Å–µ—Ç–∫—É –¥–ª—è —ç—Ç–∏—Ö –ø–æ–ª–µ–π

**–ö–æ–¥:**
```typescript
<div className="space-y-3">
  {/* Status - Full Width */}
  <div>
    <label className="block text-[10px] font-medium text-slate-400 uppercase tracking-wide mb-1.5">
      –°—Ç–∞—Ç—É—Å
    </label>
    <StatusDropdown
      id="stage-status"
      value={selectedStatus}
      options={statusOptions}
      onChange={handleStatusChange}
      isLoading={savingField === 'statusId'}
      disabled={statusesLoading}
    />
  </div>

  {/* Period - Full Width */}
  <div>
    <label className="block text-[10px] font-medium text-slate-400 uppercase tracking-wide mb-1.5">
      –ü–µ—Ä–∏–æ–¥
    </label>
    <DateRangeInput
      idPrefix="stage-date"
      startDate={watchedStartDate ?? null}
      endDate={watchedEndDate ?? null}
      onStartDateChange={(v) => handleDateChange('startDate', v)}
      onEndDateChange={(v) => handleDateChange('endDate', v)}
      savingField={
        savingField === 'startDate' || savingField === 'endDate'
          ? (savingField as 'startDate' | 'endDate')
          : null
      }
    />
  </div>
</div>
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –ü—Ä–æ—Å—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ ‚Äî —É–±—Ä–∞—Ç—å grid, –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ space-y
- ‚úÖ DateRangeInput –ø–æ–ª—É—á–∞–µ—Ç –≤—Å—é —à–∏—Ä–∏–Ω—É –ø–∞–Ω–µ–ª–∏ (~400px)
- ‚úÖ –ù–µ –Ω—É–∂–Ω–æ –º–µ–Ω—è—Ç—å DateRangeInput –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- ‚úÖ –õ—É—á—à–∞—è —á–∏—Ç–∞–µ–º–æ—Å—Ç—å ‚Äî —ç–ª–µ–º–µ–Ω—Ç—ã –Ω–µ —Å–∂–∞—Ç—ã

**–ú–∏–Ω—É—Å—ã:**
- ‚ö†Ô∏è –ó–∞–Ω–∏–º–∞–µ—Ç –±–æ–ª—å—à–µ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞
- ‚ö†Ô∏è –°—Ç–∞—Ç—É—Å —Ç–µ—Ä—è–µ—Ç –∫–æ–º–ø–∞–∫—Ç–Ω–æ—Å—Ç—å

---

#### ‚ö†Ô∏è –í–∞—Ä–∏–∞–Ω—Ç 2: –£–º–µ–Ω—å—à–∏—Ç—å —à–∏—Ä–∏–Ω—É date inputs

**–û–ø–∏—Å–∞–Ω–∏–µ:**
- –ò–∑–º–µ–Ω–∏—Ç—å `w-[110px]` ‚Üí `w-[90px]` –∏–ª–∏ `w-[85px]` –≤ DateRangeInput
- –°–¥–µ–ª–∞—Ç—å inputs –±–æ–ª–µ–µ –∫–æ–º–ø–∞–∫—Ç–Ω—ã–º–∏

**–ö–æ–¥:**
```typescript
// DateRangeInput.tsx
const dateInputClasses = cn(
  'w-[85px] px-1.5 py-1 text-xs',  // ‚Üê –£–º–µ–Ω—å—à–∏–ª–∏ —Å 110px –¥–æ 85px
  // ...
)
```

**–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞:**
```
16 (icon) + 8 (gap) + 85 (input1) + 6 (gap) + 14 (arrow) + 6 (gap) + 85 (input2) = 220px
220px > 200px –¥–æ—Å—Ç—É–ø–Ω—ã—Ö ‚Üí –≤—Å—ë –µ—â—ë overflow
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–≤—É—Ö–∫–æ–ª–æ–Ω–æ—á–Ω—ã–π layout

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –í—Å—ë —Ä–∞–≤–Ω–æ –Ω–µ –≤–ª–µ–∑–∞–µ—Ç (–Ω—É–∂–Ω–æ < 95px –¥–ª—è –∫–∞–∂–¥–æ–≥–æ input)
- ‚ùå Input'—ã —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è —Å–ª–∏—à–∫–æ–º —É–∑–∫–∏–º–∏ (–¥–∞—Ç–∞ –æ–±—Ä–µ–∑–∞–µ—Ç—Å—è)
- ‚ùå –ü–ª–æ—Ö–æ–π UX ‚Äî —Å–ª–æ–∂–Ω–æ –≤–≤–æ–¥–∏—Ç—å –¥–∞—Ç—ã –≤ —É–∑–∫–∏—Ö –ø–æ–ª—è—Ö

---

#### ‚ö†Ô∏è –í–∞—Ä–∏–∞–Ω—Ç 3: –£–≤–µ–ª–∏—á–∏—Ç—å —à–∏—Ä–∏–Ω—É –ø–∞–Ω–µ–ª–∏

**–û–ø–∏—Å–∞–Ω–∏–µ:**
- –ò–∑–º–µ–Ω–∏—Ç—å `PANEL_WIDTH` —Å 420 –Ω–∞ 480-500px
- –î–∞—Ç—å –±–æ–ª—å—à–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –¥–ª—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ

**–ö–æ–¥:**
```typescript
const PANEL_WIDTH = 480  // –ë—ã–ª–æ 420
```

**–ü–ª—é—Å—ã:**
- ‚úÖ DateRangeInput –≤–ª–µ–∑–∞–µ—Ç –≤ –∫–æ–ª–æ–Ω–∫—É
- ‚úÖ –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–≤—É—Ö–∫–æ–ª–æ–Ω–æ—á–Ω—ã–π layout

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –ü–∞–Ω–µ–ª—å –∑–∞–Ω–∏–º–∞–µ—Ç –±–æ–ª—å—à–µ —ç–∫—Ä–∞–Ω–∞
- ‚ùå –ù–∞ –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–æ–±–ª–µ–º–∞
- ‚ùå –ù–∞—Ä—É—à–∞–µ—Ç –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å —à–∏—Ä–∏–Ω—ã —Å –¥—Ä—É–≥–∏–º–∏ –ø–∞–Ω–µ–ª—è–º–∏

---

#### ‚ö†Ô∏è –í–∞—Ä–∏–∞–Ω—Ç 4: –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞—è –∫–æ–º–ø–æ–Ω–æ–≤–∫–∞ DateRangeInput

**–û–ø–∏—Å–∞–Ω–∏–µ:**
- –ò–∑–º–µ–Ω–∏—Ç—å DateRangeInput –Ω–∞ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π layout
- Inputs —Ä–∞—Å–ø–æ–ª–∞–≥–∞—é—Ç—Å—è –¥—Ä—É–≥ –ø–æ–¥ –¥—Ä—É–≥–æ–º

**–ö–æ–¥:**
```typescript
// DateRangeInput.tsx
<div className="space-y-2">
  <div className="flex items-center gap-2">
    <CalendarDays className="w-4 h-4" />
    <input className="flex-1" type="date" />
  </div>
  <div className="flex items-center gap-2">
    <ArrowRight className="w-4 h-4" />
    <input className="flex-1" type="date" />
  </div>
</div>
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –í–ª–µ–∑–∞–µ—Ç –≤ —É–∑–∫—É—é –∫–æ–ª–æ–Ω–∫—É
- ‚úÖ –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–≤—É—Ö–∫–æ–ª–æ–Ω–æ—á–Ω—É—é —Å–µ—Ç–∫—É

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –ò–∑–º–µ–Ω—è–µ—Ç UX –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- ‚ùå –ó–∞–Ω–∏–º–∞–µ—Ç –±–æ–ª—å—à–µ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞
- ‚ùå –ú–µ–Ω–µ–µ –ø—Ä–∏–≤—ã—á–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è range input

---

### üéØ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π

**–†–µ—à–µ–Ω–∏–µ:** –í–∞—Ä–∏–∞–Ω—Ç 1 (–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ "–ü–µ—Ä–∏–æ–¥" –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—É—é —Å—Ç—Ä–æ–∫—É)

**–®–∞–≥–∏:**

1. **–ò–∑–º–µ–Ω–∏—Ç—å layout –≤ StageModal.tsx (—Å—Ç—Ä–æ–∫–∏ 404-439)**
   ```typescript
   <div className="space-y-3">
     {/* Status - Full Width */}
     <div>
       <label className="block text-[10px] font-medium text-muted-foreground uppercase tracking-wide mb-1.5">
         –°—Ç–∞—Ç—É—Å
       </label>
       <StatusDropdown
         id="stage-status"
         value={selectedStatus}
         options={statusOptions}
         onChange={handleStatusChange}
         isLoading={savingField === 'statusId'}
         disabled={statusesLoading}
       />
     </div>

     {/* Period - Full Width */}
     <div>
       <label className="block text-[10px] font-medium text-muted-foreground uppercase tracking-wide mb-1.5">
         –ü–µ—Ä–∏–æ–¥
       </label>
       <DateRangeInput
         idPrefix="stage-date"
         startDate={watchedStartDate ?? null}
         endDate={watchedEndDate ?? null}
         onStartDateChange={(v) => handleDateChange('startDate', v)}
         onEndDateChange={(v) => handleDateChange('endDate', v)}
         savingField={
           savingField === 'startDate' || savingField === 'endDate'
             ? (savingField as 'startDate' | 'endDate')
             : null
         }
       />
     </div>
   </div>
   ```

2. **–£–¥–∞–ª–∏—Ç—å:**
   ```typescript
   // –£–î–ê–õ–ò–¢–¨:
   <div className="grid grid-cols-2 gap-3">
   ```

3. **–ó–∞–º–µ–Ω–∏—Ç—å –Ω–∞:**
   ```typescript
   // –î–û–ë–ê–í–ò–¢–¨:
   <div className="space-y-3">
   ```

4. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –û—Ç–∫—Ä—ã—Ç—å –ø–∞–Ω–µ–ª—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —ç—Ç–∞–ø–∞
   - –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª –ø—Ä–æ–ø–∞–ª
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –≤–∏–¥–Ω—ã –±–µ–∑ —Å–∫—Ä–æ–ª–ª–∞
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è—Ö —ç–∫—Ä–∞–Ω–∞
   - –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

5. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å**
   - –ü–∞–Ω–µ–ª—å –¥–æ–ª–∂–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –Ω–∞ —à–∏—Ä–∏–Ω–µ –æ—Ç 1280px
   - –í—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã

---

### üìä –í—ã–≤–æ–¥—ã

**Root cause:**
- –î–≤—É—Ö–∫–æ–ª–æ–Ω–æ—á–Ω–∞—è —Å–µ—Ç–∫–∞ —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —à–∏—Ä–∏–Ω–æ–π –ø–∞–Ω–µ–ª–∏ (420px)
- DateRangeInput —Ç—Ä–µ–±—É–µ—Ç –º–∏–Ω–∏–º—É–º ~270px, –∞ –¥–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ ~200px
- –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —à–∏—Ä–∏–Ω–∞ date inputs (`w-[110px]`) –Ω–µ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è

**Impact:**
- **Users affected:** –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–∞–Ω–µ–ª–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —ç—Ç–∞–ø–∞
- **Severity:** Medium ‚Äî –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç, –Ω–æ —É—Ö—É–¥—à–∞–µ—Ç UX
- **Frequency:** –ö–∞–∂–¥—ã–π —Ä–∞–∑ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –ø–∞–Ω–µ–ª–∏

**Solution:**
- –£–±—Ä–∞—Ç—å –¥–≤—É—Ö–∫–æ–ª–æ–Ω–æ—á–Ω—É—é —Å–µ—Ç–∫—É –¥–ª—è –°—Ç–∞—Ç—É—Å/–ü–µ—Ä–∏–æ–¥
- –†–∞–∑–º–µ—Å—Ç–∏—Ç—å –æ–±–∞ –ø–æ–ª—è –Ω–∞ –ø–æ–ª–Ω—É—é —à–∏—Ä–∏–Ω—É –¥—Ä—É–≥ –ø–æ–¥ –¥—Ä—É–≥–æ–º
- –í—Ä–µ–º—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è: ~5 –º–∏–Ω—É—Ç

**Prevention:**
- UI review checklist: –ø—Ä–æ–≤–µ—Ä—è—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é —à–∏—Ä–∏–Ω—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤ grid layout
- –ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —à–∏—Ä–∏–Ω—ã –±–µ–∑ —Ä–∞—Å—á—ë—Ç–∞ min-width –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–æ—Ä–º—ã –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è—Ö

**Related:**
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥—Ä—É–≥–∏–µ –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ —Å DateRangeInput –≤ grid layout
- Audit: –µ—Å—Ç—å –ª–∏ –µ—â—ë –º–µ—Å—Ç–∞ –≥–¥–µ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —à–∏—Ä–∏–Ω—ã –≤—ã–∑—ã–≤–∞—é—Ç overflow?

**–°—Å—ã–ª–∫–∏:**

- [modules/modals/components/stage/StageModal.tsx:32](../modules/modals/components/stage/StageModal.tsx#L32) ‚Äî PANEL_WIDTH = 420
- [modules/modals/components/stage/StageModal.tsx:405-439](../modules/modals/components/stage/StageModal.tsx#L405-L439) ‚Äî grid grid-cols-2 layout
- [modules/modals/components/section/DateRangeInput.tsx:44-45](../modules/modals/components/section/DateRangeInput.tsx#L44-L45) ‚Äî w-[110px] —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —à–∏—Ä–∏–Ω–∞
- [modules/modals/components/section/DateRangeInput.tsx:73](../modules/modals/components/section/DateRangeInput.tsx#L73) ‚Äî –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å gap-2

---

## –ë–ê–ì #21: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–µ—Ñ–æ–ª—Ç–Ω–æ–≥–æ –±—Ä–∞—É–∑–µ—Ä–Ω–æ–≥–æ –∫–∞–ª–µ–Ω–¥–∞—Ä—è –≤ –ø–∞–Ω–µ–ª–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —ç—Ç–∞–ø–∞

### üìã –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

**–ß—Ç–æ –¥–µ–ª–∞–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:**
- –û—Ç–∫—Ä—ã–ª –±–æ–∫–æ–≤—É—é –ø–∞–Ω–µ–ª—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —ç—Ç–∞–ø–∞ (StageModal)
- –ö–ª–∏–∫–Ω—É–ª –Ω–∞ –ø–æ–ª–µ –≤–≤–æ–¥–∞ –¥–∞—Ç—ã –≤ —Ä–∞–∑–¥–µ–ª–µ "–ü–µ—Ä–∏–æ–¥"
- –ü—ã—Ç–∞–ª—Å—è –≤—ã–±—Ä–∞—Ç—å –¥–∞—Ç—É –Ω–∞—á–∞–ª–∞ –∏–ª–∏ –æ–∫–æ–Ω—á–∞–Ω–∏—è —ç—Ç–∞–ø–∞

**–ß—Ç–æ –Ω–∞–±–ª—é–¥–∞–ª:**
- –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –Ω–∞—Ç–∏–≤–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä–Ω—ã–π date picker (Chrome/Edge/Firefox)
- –í–Ω–µ—à–Ω–∏–π –≤–∏–¥ date picker –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –±—Ä–∞—É–∑–µ—Ä–∞ –∏ –û–°
- Date picker –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –¥–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –ù–µ—Ç –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ —Å –¥—Ä—É–≥–∏–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ –≤—ã–±–æ—Ä–∞ –¥–∞—Ç—ã –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
- –í –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö (–æ—Å–æ–±–µ–Ω–Ω–æ —Å—Ç–∞—Ä—ã—Ö) UX date picker –æ—á–µ–Ω—å –ø–ª–æ—Ö–æ–π

**–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –∫–∞–ª–µ–Ω–¥–∞—Ä—è, –∫–∞–∫ –≤ –¥—Ä—É–≥–∏—Ö —á–∞—Å—Ç—è—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–π UX –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –±—Ä–∞—É–∑–µ—Ä–∞
- –ö–∞–ª–µ–Ω–¥–∞—Ä—å –≤ —Å—Ç–∏–ª–µ –¥–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (—Ç–µ–º–∏–∑–∞—Ü–∏—è, —Ü–≤–µ—Ç–∞, —à—Ä–∏—Ñ—Ç—ã)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–±–µ–∏—Ö —Ç–µ–º (—Å–≤–µ—Ç–ª–∞—è/—Ç—ë–º–Ω–∞—è)

**–ö–∞—Ç–µ–≥–æ—Ä–∏—è:** UX/Consistency
**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** Medium
**–ú–æ–¥—É–ª—å:** `modules/modals`

---

### üîç –ü—Ä–∏—á–∏–Ω–∞

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ø—Ä–∏—á–∏–Ω–∞:**
–ö–æ–º–ø–æ–Ω–µ–Ω—Ç `DateRangeInput` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–∞—Ç–∏–≤–Ω—ã–π HTML `<input type="date">` –≤–º–µ—Å—Ç–æ –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –∫–∞–ª–µ–Ω–¥–∞—Ä—è.

**–ü—Ä–æ–±–ª–µ–º–Ω—ã–π –∫–æ–¥ (DateRangeInput.tsx:81-111):**
```typescript
<input
  id={`${idPrefix}-start`}
  type="date"                              // ‚Üê –ù–∞—Ç–∏–≤–Ω—ã–π date input
  value={formatDateForInput(startDate)}
  onChange={(e) => onStartDateChange(e.target.value)}
  disabled={disabled || isStartSaving}
  aria-label="–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞"
  className={cn(
    dateInputClasses,
    isStartSaving && 'opacity-60'
  )}
/>
```

**–ü–æ—á–µ–º—É —Ç–∞–∫ —Å–¥–µ–ª–∞–Ω–æ:**
- –ü—Ä–æ—Å—Ç–æ—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ ‚Äî –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –∫–∞—Å—Ç–æ–º–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- –ù–∞—Ç–∏–≤–Ω—ã–π date picker "—Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑ –∫–æ—Ä–æ–±–∫–∏"
- –ù–∞ –º–æ–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω–∏—è –Ω–µ –±—ã–ª–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏—è UI

**Inconsistency issue:**
–í –ø—Ä–æ–µ–∫—Ç–µ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç **–¥–≤–∞ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞**:

1. **`modules/projects/components/DatePicker.tsx`**
   - –ü–æ–ª–Ω–æ—Å—Ç—å—é –∫–∞—Å—Ç–æ–º–Ω—ã–π calendar UI
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–µ–º–∏–∑–∞—Ü–∏–∏
   - –ì–∏–±–∫–æ–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (auto, top, bottom, left, right)
   - –†—É—á–Ω–æ–π –≤–≤–æ–¥ —Å –ø–∞—Ä—Å–∏–Ω–≥–æ–º (DD.MM.YYYY, YYYY-MM-DD)
   - Portal —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥

2. **`components/ui/calendar.tsx`**
   - Shadcn/ui –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `react-day-picker`
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º–æ–π
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ range selection

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–º–µ–µ—Ç 3 —Ä–∞–∑–Ω—ã—Ö —Å–ø–æ—Å–æ–±–∞ –≤—ã–±–æ—Ä–∞ –¥–∞—Ç—ã:
- –ù–∞—Ç–∏–≤–Ω—ã–π `<input type="date">` (DateRangeInput)
- –ö–∞—Å—Ç–æ–º–Ω—ã–π DatePicker (projects)
- Shadcn Calendar (ui components)

---

### üìÇ –õ–æ–∫–∞—Ü–∏—è –∫–æ–¥–∞

**–§–∞–π–ª—ã:**
- `modules/modals/components/section/DateRangeInput.tsx`
- `modules/modals/components/stage/StageModal.tsx` (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç DateRangeInput)

**–ü—Ä–æ–±–ª–µ–º–Ω—ã–µ –æ–±–ª–∞—Å—Ç–∏:**

1. **DateRangeInput.tsx:81-92** ‚Äî Start date input (–Ω–∞—Ç–∏–≤–Ω—ã–π)
   ```typescript
   <input
     id={`${idPrefix}-start`}
     type="date"
     value={formatDateForInput(startDate)}
     onChange={(e) => onStartDateChange(e.target.value)}
     disabled={disabled || isStartSaving}
     aria-label="–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞"
     className={cn(
       dateInputClasses,
       isStartSaving && 'opacity-60'
     )}
   />
   ```

2. **DateRangeInput.tsx:100-111** ‚Äî End date input (–Ω–∞—Ç–∏–≤–Ω—ã–π)
   ```typescript
   <input
     id={`${idPrefix}-end`}
     type="date"
     value={formatDateForInput(endDate)}
     onChange={(e) => onEndDateChange(e.target.value)}
     disabled={disabled || isEndSaving}
     aria-label="–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è"
     className={cn(
       dateInputClasses,
       isEndSaving && 'opacity-60'
     )}
   />
   ```

3. **DateRangeInput.tsx:44-53** ‚Äî –°—Ç–∏–ª–∏ –¥–ª—è –Ω–∞—Ç–∏–≤–Ω–æ–≥–æ input
   ```typescript
   const dateInputClasses = cn(
     'w-[110px] px-2 py-1 text-xs',
     'bg-slate-800/60 border border-slate-700/50',        // ‚Üê –•–∞—Ä–¥–∫–æ–¥ slate
     'rounded-md text-slate-300',
     'focus:outline-none focus:border-amber-500/50',
     'transition-colors',
     '[&::-webkit-calendar-picker-indicator]:invert',     // ‚Üê –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –Ω–∞—Ç–∏–≤–Ω–æ–π –∏–∫–æ–Ω–∫–∏
     '[&::-webkit-calendar-picker-indicator]:opacity-40',
     '[&::-webkit-calendar-picker-indicator]:hover:opacity-70'
   )
   ```

**–°–≤—è–∑–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–∏—Å–ø–æ–ª—å–∑—É—é—Ç DateRangeInput):**
- `modules/modals/components/stage/StageModal.tsx:426` ‚Äî Stage period
- –î—Ä—É–≥–∏–µ –º–æ–¥–∞–ª–∫–∏ –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å DateRangeInput

**–°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–∞—Å—Ç–æ–º–Ω—ã–µ –∫–∞–ª–µ–Ω–¥–∞—Ä–∏:**
- `modules/projects/components/DatePicker.tsx` ‚Äî –∫–∞—Å—Ç–æ–º–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- `components/ui/calendar.tsx` ‚Äî Shadcn/ui calendar

---

### üí° –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ—à–µ–Ω–∏—è

#### ‚úÖ –í–∞—Ä–∏–∞–Ω—Ç 1: –ó–∞–º–µ–Ω–∏—Ç—å –Ω–∞ DatePicker –∏–∑ projects (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

**–û–ø–∏—Å–∞–Ω–∏–µ:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–∞—Å—Ç–æ–º–Ω—ã–π `DatePicker` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–ª—è range input (–¥–≤–∞ DatePicker'–∞ —Ä—è–¥–æ–º)
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç–µ–º–∏–∑–∞—Ü–∏—é, —Ä—É—á–Ω–æ–π –≤–≤–æ–¥, –≥–∏–±–∫–æ–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ö–æ–¥:**
```typescript
import { DatePicker } from '@/modules/projects/components/DatePicker'

export function DateRangeInput({
  startDate,
  endDate,
  onStartDateChange,
  onEndDateChange,
  savingField,
  disabled = false,
  idPrefix = 'date',
}: DateRangeInputProps) {
  const isStartSaving = savingField === 'startDate'
  const isEndSaving = savingField === 'endDate'
  const isSaving = isStartSaving || isEndSaving

  return (
    <div className="flex items-center gap-2 text-sm">
      <CalendarDays className="w-4 h-4 text-muted-foreground" aria-hidden="true" />

      <div className="flex items-center gap-1.5">
        {/* Start date */}
        <DatePicker
          value={startDate ? new Date(startDate) : null}
          onChange={(date) => onStartDateChange(date.toISOString().split('T')[0])}
          placeholder="–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞"
          inputWidth="110px"
          calendarWidth="260px"
          placement="auto"
          variant="minimal"
          inputClassName={cn(
            'text-xs px-2 py-1 border border-border rounded-md bg-muted',
            isStartSaving && 'opacity-60'
          )}
        />

        <ArrowRight className="w-3.5 h-3.5 text-muted-foreground" aria-hidden="true" />

        {/* End date */}
        <DatePicker
          value={endDate ? new Date(endDate) : null}
          onChange={(date) => onEndDateChange(date.toISOString().split('T')[0])}
          placeholder="–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è"
          inputWidth="110px"
          calendarWidth="260px"
          placement="auto"
          variant="minimal"
          inputClassName={cn(
            'text-xs px-2 py-1 border border-border rounded-md bg-muted',
            isEndSaving && 'opacity-60'
          )}
        />
      </div>

      {/* Loading indicator */}
      {isSaving && (
        <Loader2 className="w-3.5 h-3.5 animate-spin text-amber-400" aria-label="–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ..." />
      )}
    </div>
  )
}
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (DRY)
- ‚úÖ –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–µ–º–∏–∑–∞—Ü–∏–∏
- ‚úÖ –ì–∏–±–∫–æ–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ calendar popup
- ‚úÖ –†—É—á–Ω–æ–π –≤–≤–æ–¥ —Å –ø–∞—Ä—Å–∏–Ω–≥–æ–º –¥–∞—Ç
- ‚úÖ –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–π UX —Å –¥—Ä—É–≥–∏–º–∏ —á–∞—Å—Ç—è–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- ‚úÖ –ù–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –±—Ä–∞—É–∑–µ—Ä–∞

**–ú–∏–Ω—É—Å—ã:**
- ‚ö†Ô∏è DatePicker –∏–∑ projects –∏–º–µ–µ—Ç —Ö–∞—Ä–¥–∫–æ–¥ slate –∫–ª–∞—Å—Å–æ–≤ (–Ω—É–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å)
- ‚ö†Ô∏è –ù—É–∂–Ω–æ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∏–ª–∏ –ø–æ–¥ –∫–æ–Ω—Ç–µ–∫—Å—Ç StageModal

---

#### ‚ö†Ô∏è –í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Shadcn Calendar + Popover

**–û–ø–∏—Å–∞–Ω–∏–µ:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `Calendar` –∏–∑ `components/ui/calendar.tsx`
- –û–±–µ—Ä–Ω—É—Ç—å –≤ `Popover` –¥–ª—è –ø–æ–∫–∞–∑–∞/—Å–∫—Ä—ã—Ç–∏—è
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ–¥—Ö–æ–¥ Shadcn/ui

**–ö–æ–¥:**
```typescript
import { Calendar } from '@/components/ui/calendar'
import { Popover, PopoverContent, PopoverTrigger } from '@/components/ui/popover'
import { Button } from '@/components/ui/button'
import { format } from 'date-fns'

<Popover>
  <PopoverTrigger asChild>
    <Button variant="outline" className="w-[110px] justify-start text-xs">
      {startDate ? format(new Date(startDate), 'dd.MM.yyyy') : '–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞'}
    </Button>
  </PopoverTrigger>
  <PopoverContent className="w-auto p-0">
    <Calendar
      mode="single"
      selected={startDate ? new Date(startDate) : undefined}
      onSelect={(date) => date && onStartDateChange(date.toISOString().split('T')[0])}
    />
  </PopoverContent>
</Popover>
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ Shadcn –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- ‚úÖ –•–æ—Ä–æ—à–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- ‚úÖ react-day-picker –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå Button –∫–∞–∫ trigger –º–æ–∂–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –Ω–µ –∫–∞–∫ input
- ‚ùå –ù—É–∂–Ω–æ –∫–∞—Å—Ç–æ–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∏–ª–∏ –ø–æ–¥ input-like –≤–∏–¥
- ‚ùå –ú–µ–Ω–µ–µ –≥–∏–±–∫–æ–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ–º DatePicker

---

#### ‚ö†Ô∏è –í–∞—Ä–∏–∞–Ω—Ç 3: –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π DateRangePicker

**–û–ø–∏—Å–∞–Ω–∏–µ:**
- –°–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è range selection
- –û–±—ä–µ–¥–∏–Ω–∏—Ç—å –ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –∏–∑ DatePicker –∏ Calendar
- –°–¥–µ–ª–∞—Ç—å –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–º

**–ü–ª—é—Å—ã:**
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è range input
- ‚úÖ –ú–æ–∂–µ—Ç —Å—Ç–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–º –¥–ª—è –≤—Å–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- ‚ùå –ù—É–∂–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ —Ç–µ—Å—Ç—ã
- ‚ùå –ú–æ–∂–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

---

### üéØ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π

**–†–µ—à–µ–Ω–∏–µ:** –í–∞—Ä–∏–∞–Ω—Ç 1 (–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å DatePicker –∏–∑ projects)

**–®–∞–≥–∏:**

1. **–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ DatePicker –≤ shared –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**
   ```bash
   # –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –∏–∑ modules/projects –≤ components/ui
   modules/projects/components/DatePicker.tsx ‚Üí components/ui/date-picker.tsx
   ```

2. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å —Ç–µ–º–∏–∑–∞—Ü–∏—é –≤ DatePicker**
   - –ó–∞–º–µ–Ω–∏—Ç—å —Ö–∞—Ä–¥–∫–æ–¥ `border-slate-*` ‚Üí `border-border`
   - –ó–∞–º–µ–Ω–∏—Ç—å `bg-slate-*` ‚Üí `bg-background` / `bg-muted`
   - –ó–∞–º–µ–Ω–∏—Ç—å `text-slate-*` ‚Üí `text-foreground` / `text-muted-foreground`
   - –ó–∞–º–µ–Ω–∏—Ç—å `dark:bg-slate-*` ‚Üí –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

3. **–û–±–Ω–æ–≤–∏—Ç—å DateRangeInput –∫–æ–º–ø–æ–Ω–µ–Ω—Ç**
   ```typescript
   // modules/modals/components/section/DateRangeInput.tsx
   import { DatePicker } from '@/components/ui/date-picker'

   export function DateRangeInput({ ... }) {
     return (
       <div className="flex items-center gap-2 text-sm">
         <CalendarDays className="w-4 h-4 text-muted-foreground" />

         <div className="flex items-center gap-1.5">
           <DatePicker
             value={startDate ? new Date(startDate) : null}
             onChange={(date) => onStartDateChange(date.toISOString().split('T')[0])}
             placeholder="–ù–∞—á–∞–ª–æ"
             inputWidth="110px"
             calendarWidth="240px"
             placement="auto"
             variant="minimal"
           />

           <ArrowRight className="w-3.5 h-3.5 text-muted-foreground" />

           <DatePicker
             value={endDate ? new Date(endDate) : null}
             onChange={(date) => onEndDateChange(date.toISOString().split('T')[0])}
             placeholder="–ö–æ–Ω–µ—Ü"
             inputWidth="110px"
             calendarWidth="240px"
             placement="auto"
             variant="minimal"
           />
         </div>

         {isSaving && <Loader2 className="w-3.5 h-3.5 animate-spin text-amber-400" />}
       </div>
     )
   }
   ```

4. **–û–±–Ω–æ–≤–∏—Ç—å imports –≤ –ø—Ä–æ–µ–∫—Ç–µ**
   - –ù–∞–π—Ç–∏ –≤—Å–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `modules/projects/components/DatePicker`
   - –ó–∞–º–µ–Ω–∏—Ç—å –Ω–∞ `@/components/ui/date-picker`

5. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –û—Ç–∫—Ä—ã—Ç—å StageModal ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É date picker'–æ–≤
   - –ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ start date ‚Üí –¥–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å—Å—è –∫–∞—Å—Ç–æ–º–Ω—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å
   - –ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ end date ‚Üí –¥–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å—Å—è –∫–∞—Å—Ç–æ–º–Ω—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä—É—á–Ω–æ–π –≤–≤–æ–¥ –¥–∞—Ç (DD.MM.YYYY, YYYY-MM-DD)
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ —Å–≤–µ—Ç–ª–æ–π –∏ —Ç—ë–º–Ω–æ–π —Ç–µ–º–µ
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è—Ö —ç–∫—Ä–∞–Ω–∞
   - –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –∫–∞–ª–µ–Ω–¥–∞—Ä—å –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

6. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥—Ä—É–≥–∏–µ –º–µ—Å—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è DateRangeInput**
   - Grep –ø–æ–∏—Å–∫: `import.*DateRangeInput`
   - –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –≤–µ–∑–¥–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

### üìä –í—ã–≤–æ–¥—ã

**Root cause:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–∞—Ç–∏–≤–Ω–æ–≥–æ `<input type="date">` –≤–º–µ—Å—Ç–æ –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –∫–∞–ª–µ–Ω–¥–∞—Ä—è
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –µ–¥–∏–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞ –∫ date picking –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Å–∫–æ—Ä–æ—Å—Ç–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞–¥ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å—é UI

**Impact:**
- **Users affected:** –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–∞–Ω–µ–ª–µ–π —Å date range input
- **Severity:** Medium ‚Äî –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É, –Ω–æ —É—Ö—É–¥—à–∞–µ—Ç UX
- **Frequency:** –ö–∞–∂–¥—ã–π —Ä–∞–∑ –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –¥–∞—Ç –≤ –º–æ–¥–∞–ª–∫–∞—Ö
- **Browsers:** –û—Å–æ–±–µ–Ω–Ω–æ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å—Ç–∞—Ä—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤

**Solution:**
- –ó–∞–º–µ–Ω–∏—Ç—å –Ω–∞—Ç–∏–≤–Ω—ã–π date input –Ω–∞ –∫–∞—Å—Ç–æ–º–Ω—ã–π DatePicker
- –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥—Ö–æ–¥ –∫ date picking –≤–æ –≤—Å—ë–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
- –í—Ä–µ–º—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è: ~1-2 —á–∞—Å–∞ (—Å —É—á—ë—Ç–æ–º —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ DatePicker)

**Prevention:**
- UI component library: –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- Code review checklist: –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞—Ç–∏–≤–Ω—ã–µ date inputs
- Design system guideline: –µ–¥–∏–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ date/time picking
- –°–æ–∑–¥–∞—Ç—å wrapper –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è —Ç–∏–ø–æ–≤—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ (single date, date range)

**Related:**
- Audit: –Ω–∞–π—Ç–∏ –≤—Å–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `<input type="date">` –≤ –ø—Ä–æ–µ–∫—Ç–µ
- Audit: –Ω–∞–π—Ç–∏ –≤—Å–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `<input type="time">` (–∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞?)
- –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –µ–¥–∏–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –¥–ª—è –≤—Å–µ—Ö date pickers

**Benefits –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- ‚úÖ –ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–π UX –≤–æ –≤—Å—ë–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
- ‚úÖ –ù–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –±—Ä–∞—É–∑–µ—Ä–∞
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–µ–º–∏–∑–∞—Ü–∏–∏
- ‚úÖ –õ—É—á—à–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ UX (shortcuts, ranges, validation)
- ‚úÖ Accessibility improvements

**–°—Å—ã–ª–∫–∏:**

- [modules/modals/components/section/DateRangeInput.tsx:81-111](../modules/modals/components/section/DateRangeInput.tsx#L81-L111) ‚Äî –Ω–∞—Ç–∏–≤–Ω—ã–µ date inputs
- [modules/modals/components/section/DateRangeInput.tsx:44-53](../modules/modals/components/section/DateRangeInput.tsx#L44-L53) ‚Äî —Å—Ç–∏–ª–∏ —Å —Ö–∞—Ä–¥–∫–æ–¥–æ–º
- [modules/projects/components/DatePicker.tsx](../modules/projects/components/DatePicker.tsx) ‚Äî —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–∞—Å—Ç–æ–º–Ω—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å
- [components/ui/calendar.tsx](../components/ui/calendar.tsx) ‚Äî Shadcn/ui calendar –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

---

## –ë–ê–ì #22: –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–∞–∑–¥–µ–ª–∞ —Ç—ë–º–Ω–∞—è –≤ —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–µ

### üìã –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

**–ß—Ç–æ –¥–µ–ª–∞–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:**
- –†–∞–±–æ—Ç–∞–ª –≤ —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –û—Ç–∫—Ä—ã–ª –±–æ–∫–æ–≤—É—é –ø–∞–Ω–µ–ª—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–∞–∑–¥–µ–ª–∞ (SectionModal)
- –ö–ª–∏–∫–Ω—É–ª –Ω–∞ —Ä–∞–∑–¥–µ–ª –≤ –≥—Ä–∞—Ñ–∏–∫–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –∏–ª–∏ –∫–∞–Ω–±–∞–Ω–µ

**–ß—Ç–æ –Ω–∞–±–ª—é–¥–∞–ª:**
- –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–∞–∑–¥–µ–ª–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å —Ç—ë–º–Ω—ã–º —Ñ–æ–Ω–æ–º
- –ü–∞–Ω–µ–ª—å –∏–º–µ–µ—Ç –≥—Ä–∞–¥–∏–µ–Ω—Ç `from-slate-900 via-slate-900 to-slate-950`
- –ì—Ä–∞–Ω–∏—Ü—ã –∏ —Ç–µ–∫—Å—Ç –≤ —Ç—ë–º–Ω—ã—Ö –æ—Ç—Ç–µ–Ω–∫–∞—Ö slate
- –ö–æ–Ω—Ç—Ä–∞—Å—Ç –Ω–∞—Ä—É—à–µ–Ω: –æ—á–µ–Ω—å —Ç—ë–º–Ω–∞—è –ø–∞–Ω–µ–ª—å –Ω–∞ —Å–≤–µ—Ç–ª–æ–º —Ñ–æ–Ω–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –í–∏–∑—É–∞–ª—å–Ω–æ –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ —Å–µ—Ä—å—ë–∑–Ω—ã–π –±–∞–≥ –¥–∏–∑–∞–π–Ω–∞

**–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å –¥–æ–ª–∂–Ω–∞ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –ø–æ–¥ —Ç–µ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –í —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–µ: —Å–≤–µ—Ç–ª—ã–π —Ñ–æ–Ω, —Ç—ë–º–Ω—ã–π —Ç–µ–∫—Å—Ç
- –í —Ç—ë–º–Ω–æ–π —Ç–µ–º–µ: —Ç—ë–º–Ω—ã–π —Ñ–æ–Ω, —Å–≤–µ—Ç–ª—ã–π —Ç–µ–∫—Å—Ç
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ–º—ã –≤–º–µ—Å—Ç–æ —Ö–∞—Ä–¥–∫–æ–¥–∞ —Ü–≤–µ—Ç–æ–≤

**–ö–∞—Ç–µ–≥–æ—Ä–∏—è:** UI/Theme
**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** High
**–ú–æ–¥—É–ª—å:** `modules/modals`

---

### üîç –ü—Ä–∏—á–∏–Ω–∞

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ø—Ä–∏—á–∏–Ω–∞:**
–í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ `SectionModal` –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ö–∞—Ä–¥–∫–æ–¥–Ω—ã–µ Tailwind –∫–ª–∞—Å—Å—ã —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Ü–≤–µ—Ç–∞–º–∏ slate, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —Ä–µ–∞–≥–∏—Ä—É—é—Ç –Ω–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

**–ü—Ä–æ–±–ª–µ–º–Ω—ã–µ –º–µ—Å—Ç–∞:**

1. **–ì–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–∞–Ω–µ–ª–∏ (—Å—Ç—Ä–æ–∫–∏ 328-330):**
```typescript
className={cn(
  'fixed inset-y-0 right-0 z-50',
  'bg-gradient-to-b from-slate-900 via-slate-900 to-slate-950',  // ‚Üê –•–∞—Ä–¥–∫–æ–¥ –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞
  'border-l border-slate-800/80',                                 // ‚Üê –•–∞—Ä–¥–∫–æ–¥ –≥—Ä–∞–Ω–∏—Ü—ã
  'shadow-[-8px_0_40px_-15px_rgba(0,0,0,0.6)]',                 // ‚Üê –•–∞—Ä–¥–∫–æ–¥ —Ç–µ–Ω–∏
  'flex flex-col',
  'transition-all duration-300 ease-out',
  isAnimating ? 'translate-x-0 opacity-100' : 'translate-x-full opacity-95'
)}
```

2. **Header border (—Å—Ç—Ä–æ–∫–∞ 339):**
```typescript
<header className="relative px-5 pt-5 pb-4 border-b border-slate-800/60">
```

3. **–ú–Ω–æ–∂–µ—Å—Ç–≤–æ slate –∫–ª–∞—Å—Å–æ–≤ –ø–æ –≤—Å–µ–º—É —Ñ–∞–π–ª—É:**
   - `text-slate-*` –¥–ª—è —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
   - `bg-slate-*` –¥–ª—è —Ñ–æ–Ω–æ–≤
   - `border-slate-*` –¥–ª—è –≥—Ä–∞–Ω–∏—Ü
   - –í–µ—Ä–æ—è—Ç–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ tabs, inputs, –∏ –¥—Ä—É–≥–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–∞—Ö

**–ü–æ—á–µ–º—É —Ç–∞–∫ —Å–¥–µ–ª–∞–Ω–æ:**
- Modal –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–ª—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç—ë–º–Ω–æ–π —Ç–µ–º—ã
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π —Ñ–æ–Ω –¥–ª—è "–ø—Ä–µ–º–∏—É–º" –≤–∏–¥–∞
- –ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞—Å—å —Å–∏—Å—Ç–µ–º–∞ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏–∑ `globals.css`
- Resource Graph style –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç dark/amber –¥–∏–∑–∞–π–Ω

**Pattern issue:**
–≠—Ç–æ —É–∂–µ **—Ç—Ä–µ—Ç—å—è** –º–æ–¥–∞–ª–∫–∞ —Å –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–π –ø—Ä–æ–±–ª–µ–º–æ–π:
- –ë–ê–ì #12: `BudgetCreateModal`
- –ë–ê–ì #19: `StageModal`
- –ë–ê–ì #22: `SectionModal` (—Ç–µ–∫—É—â–∏–π)

**–°–∏—Å—Ç–µ–º–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:** –í–µ—Å—å –º–æ–¥—É–ª—å `modules/modals/` –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–µ–º–∏–∑–∞—Ü–∏—é.

---

### üìÇ –õ–æ–∫–∞—Ü–∏—è –∫–æ–¥–∞

**–§–∞–π–ª:** `modules/modals/components/section/SectionModal.tsx`

**–ü—Ä–æ–±–ª–µ–º–Ω—ã–µ –æ–±–ª–∞—Å—Ç–∏:**

1. **SectionModal.tsx:36** ‚Äî –®–∏—Ä–∏–Ω–∞ –ø–∞–Ω–µ–ª–∏ (–æ—á–µ–Ω—å —à–∏—Ä–æ–∫–∞—è)
   ```typescript
   const PANEL_WIDTH = 1100
   ```

2. **SectionModal.tsx:328-330** ‚Äî –ì–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–æ–º
   ```typescript
   'bg-gradient-to-b from-slate-900 via-slate-900 to-slate-950',
   'border-l border-slate-800/80',
   'shadow-[-8px_0_40px_-15px_rgba(0,0,0,0.6)]',
   ```

3. **SectionModal.tsx:339** ‚Äî Header border
   ```typescript
   <header className="relative px-5 pt-5 pb-4 border-b border-slate-800/60">
   ```

4. **–í—Å–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –∏ UI —ç–ª–µ–º–µ–Ω—Ç—ã:**
   - –í–µ—Ä–æ—è—Ç–Ω–æ –º–Ω–æ–∂–µ—Å—Ç–≤–æ `text-slate-*`, `bg-slate-*`, `border-slate-*` –ø–æ –≤—Å–µ–º—É —Ñ–∞–π–ª—É
   - Tabs styling
   - Input fields
   - Buttons
   - Metrics cards

**–°–≤—è–∑–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–º–æ–≥—É—Ç –∏–º–µ—Ç—å –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã):**
- `SectionMetrics` (—Å—Ç—Ä–æ–∫–∞ 25) ‚Äî –º–µ—Ç—Ä–∏–∫–∏ —Ä–∞–∑–¥–µ–ª–∞
- `StatusDropdown` (—Å—Ç—Ä–æ–∫–∞ 26) ‚Äî –≤—ã–±–æ—Ä —Å—Ç–∞—Ç—É—Å–∞
- `ResponsibleDropdown` (—Å—Ç—Ä–æ–∫–∞ 27) ‚Äî –≤—ã–±–æ—Ä –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ
- `DateRangeInput` (—Å—Ç—Ä–æ–∫–∞ 28) ‚Äî –ø–µ—Ä–∏–æ–¥ (—É–∂–µ –∏–º–µ–µ—Ç —Ö–∞—Ä–¥–∫–æ–¥ –∏–∑ –ë–ê–ì #21)
- `OverviewTab, TasksTab, ReadinessTab` (—Å—Ç—Ä–æ–∫–∞ 29) ‚Äî –≤–∫–ª–∞–¥–∫–∏

---

### üí° –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ—à–µ–Ω–∏—è

#### ‚úÖ –í–∞—Ä–∏–∞–Ω—Ç 1: –ó–∞–º–µ–Ω–∞ –≤—Å–µ—Ö slate –∫–ª–∞—Å—Å–æ–≤ –Ω–∞ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

**–û–ø–∏—Å–∞–Ω–∏–µ:**
- –°–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–º–µ–Ω–∞ –≤—Å–µ—Ö `bg-slate-*`, `border-slate-*`, `text-slate-*` –Ω–∞ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ–º—ã
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω –∏–∑ `BudgetCreateModal` –∏ `StageModal` (–ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ë–ê–ì #12 –∏ #19)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–±–µ–∏—Ö —Ç–µ–º –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞

**–ú–∞–ø–ø–∏–Ω–≥ –∑–∞–º–µ–Ω:**

| –°—Ç–∞—Ä—ã–π –∫–ª–∞—Å—Å | –ù–æ–≤—ã–π –∫–ª–∞—Å—Å | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|--------------|-------------|------------|
| `bg-gradient-to-b from-slate-900 via-slate-900 to-slate-950` | `bg-background` | –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–æ–Ω (–±–µ–∑ –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞) |
| `border-slate-800/80` | `border-border/50` | –ì—Ä–∞–Ω–∏—Ü—ã –ø–∞–Ω–µ–ª–∏ |
| `shadow-[...rgba(0,0,0,0.6)]` | `shadow-foreground/10` | –¢–µ–Ω–∏ |
| `border-slate-800/60` | `border-border/50` | Header border |
| `text-slate-*` | `text-foreground` / `text-muted-foreground` | –¢–µ–∫—Å—Ç |
| `bg-slate-*` | `bg-background` / `bg-muted` | –§–æ–Ω—ã —ç–ª–µ–º–µ–Ω—Ç–æ–≤ |

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ –ø–æ –≥—Ä–∞–¥–∏–µ–Ω—Ç—É:**
–ì—Ä–∞–¥–∏–µ–Ω—Ç `from-slate-900 via-slate-900 to-slate-950` –≤–∏–∑—É–∞–ª—å–Ω–æ –ø–æ—á—Ç–∏ –Ω–µ–∑–∞–º–µ—Ç–µ–Ω (–≤—Å–µ –æ—Ç—Ç–µ–Ω–∫–∏ –æ—á–µ–Ω—å –±–ª–∏–∑–∫–∏). –ú–æ–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ `bg-background` –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∞.

**–ü–ª—é—Å—ã:**
- ‚úÖ –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–±–µ–∏—Ö —Ç–µ–º
- ‚úÖ –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å —Å –æ—Å—Ç–∞–ª—å–Ω—ã–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º
- ‚úÖ –ù–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ü–≤–µ—Ç–æ–≤
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –±—É–¥—É—â–∏—Ö —Ç–µ–º

**–ú–∏–Ω—É—Å—ã:**
- ‚ö†Ô∏è –ù—É–∂–Ω–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å –≤–µ—Å—å —Ñ–∞–π–ª –∏ –Ω–∞–π—Ç–∏ –≤—Å–µ slate –∫–ª–∞—Å—Å—ã
- ‚ö†Ô∏è –ë–æ–ª—å—à–æ–π —Ñ–∞–π–ª (~500+ —Å—Ç—Ä–æ–∫), –º–Ω–æ–≥–æ –∑–∞–º–µ–Ω
- ‚ö†Ô∏è –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (Tabs, Metrics, etc.)

---

#### ‚ö†Ô∏è –í–∞—Ä–∏–∞–Ω—Ç 2: –ì–ª–æ–±–∞–ª—å–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è –≤—Å–µ–≥–æ –º–æ–¥—É–ª—è modals

**–û–ø–∏—Å–∞–Ω–∏–µ:**
- –ò—Å–ø—Ä–∞–≤–∏—Ç—å –≤—Å–µ –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ –≤ `modules/modals/` –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- –°–æ–∑–¥–∞—Ç—å –µ–¥–∏–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç —Ç–µ–º–∏–∑–∞—Ü–∏–∏ –¥–ª—è –º–æ–¥–∞–ª–æ–∫
- –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ –¥–æ—á–µ—Ä–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (StatusDropdown, DateRangeInput, etc.)

**–ü–ª—é—Å—ã:**
- ‚úÖ –†–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É —Å–∏—Å—Ç–µ–º–Ω–æ –¥–ª—è –≤—Å–µ—Ö –º–æ–¥–∞–ª–æ–∫
- ‚úÖ –ï–¥–∏–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ —Ç–µ–º–∏–∑–∞—Ü–∏–∏
- ‚úÖ –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—ã–µ –±–∞–≥–∏

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –ë–æ–ª—å—à–æ–π –æ–±—ä—ë–º —Ä–∞–±–æ—Ç—ã (~10+ —Ñ–∞–π–ª–æ–≤)
- ‚ùå –†–∏—Å–∫ —Ä–µ–≥—Ä–µ—Å—Å–∏–∏ –≤ –¥—Ä—É–≥–∏—Ö –º–æ–¥–∞–ª–∫–∞—Ö
- ‚ùå –¢—Ä–µ–±—É–µ—Ç –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

---

### üéØ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π

**–†–µ—à–µ–Ω–∏–µ:** –í–∞—Ä–∏–∞–Ω—Ç 1 (–ó–∞–º–µ–Ω–∞ –Ω–∞ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ SectionModal)

**–®–∞–≥–∏:**

1. **–ü—Ä–æ—á–∏—Ç–∞—Ç—å –ø–æ–ª–Ω—ã–π —Ñ–∞–π–ª SectionModal.tsx**
   - –ù–∞–π—Ç–∏ –≤—Å–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `slate-*` –∫–ª–∞—Å—Å–æ–≤
   - –°–æ—Å—Ç–∞–≤–∏—Ç—å –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∑–∞–º–µ–Ω

2. **–ó–∞–º–µ–Ω–∏—Ç—å –≥–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (—Å—Ç—Ä–æ–∫–∏ 328-330)**
   ```typescript
   className={cn(
     'fixed inset-y-0 right-0 z-50',
     'bg-background',                              // ‚Üê –£–±—Ä–∞–ª–∏ –≥—Ä–∞–¥–∏–µ–Ω—Ç
     'border-l border-border/50',                  // ‚Üê CSS –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è
     'shadow-2xl shadow-foreground/10',            // ‚Üê CSS –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è
     'flex flex-col',
     'transition-all duration-300 ease-out',
     isAnimating ? 'translate-x-0 opacity-100' : 'translate-x-full opacity-95'
   )}
   ```

3. **–ó–∞–º–µ–Ω–∏—Ç—å header border (—Å—Ç—Ä–æ–∫–∞ 339)**
   ```typescript
   <header className="relative px-5 pt-5 pb-4 border-b border-border/50">
   ```

4. **–ó–∞–º–µ–Ω–∏—Ç—å –≤—Å–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã**
   - `text-slate-300` ‚Üí `text-foreground`
   - `text-slate-500` ‚Üí `text-muted-foreground`
   - `text-slate-200` ‚Üí `text-foreground`
   - `text-slate-400` ‚Üí `text-muted-foreground`
   - `text-slate-600` ‚Üí `text-muted-foreground/50`

5. **–ó–∞–º–µ–Ω–∏—Ç—å –≤—Å–µ —Ñ–æ–Ω–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã**
   - `bg-slate-800` ‚Üí `bg-muted`
   - `bg-slate-900` ‚Üí `bg-background`
   - `bg-slate-700` ‚Üí `bg-muted`

6. **–ó–∞–º–µ–Ω–∏—Ç—å –≤—Å–µ –≥—Ä–∞–Ω–∏—Ü—ã**
   - `border-slate-*` ‚Üí `border-border`

7. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å Tabs styling**
   - Radix Tabs –º–æ–≥—É—Ç –∏–º–µ—Ç—å —Ö–∞—Ä–¥–∫–æ–¥ —Å—Ç–∏–ª–µ–π
   - –ó–∞–º–µ–Ω–∏—Ç—å –Ω–∞ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

8. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**
   - `SectionMetrics` ‚Äî –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–º–∏–∑–∞—Ü–∏—é
   - `StatusDropdown` ‚Äî –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–º–∏–∑–∞—Ü–∏—é
   - `ResponsibleDropdown` ‚Äî –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–º–∏–∑–∞—Ü–∏—é
   - `DateRangeInput` ‚Äî —É–∂–µ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –≤ –ë–ê–ì #21
   - `OverviewTab, TasksTab, ReadinessTab` ‚Äî –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–º–∏–∑–∞—Ü–∏—é

9. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –û—Ç–∫—Ä—ã—Ç—å –ø–∞–Ω–µ–ª—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–∞–∑–¥–µ–ª–∞ –≤ —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–µ
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã: header, tabs, inputs, metrics, buttons
   - –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ —Ç—ë–º–Ω—É—é —Ç–µ–º—É ‚Üí —É–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –≤–∫–ª–∞–¥–∫–∏ (Overview, Tasks, Readiness)
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏—è: hover, focus, disabled, loading
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è—Ö —ç–∫—Ä–∞–Ω–∞ (–ø–∞–Ω–µ–ª—å 1100px —à–∏—Ä–æ–∫–∞—è!)

10. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**
    - –û–±–Ω–æ–≤–∏—Ç—å README –º–æ–¥—É–ª—è modals (–µ—Å–ª–∏ –µ—Å—Ç—å)
    - –î–æ–±–∞–≤–∏—Ç—å –≤ checklist code review —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

---

### üìä –í—ã–≤–æ–¥—ã

**Root cause:**
- –•–∞—Ä–¥–∫–æ–¥–Ω—ã–µ Tailwind slate –∫–ª–∞—Å—Å—ã –≤–º–µ—Å—Ç–æ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ç–µ–º—ã
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º—ã –ø—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
- –ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ç–µ–º–∏–∑–∞—Ü–∏–∏
- –ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π —Ñ–æ–Ω –¥–ª—è "–ø—Ä–µ–º–∏—É–º" –≤–∏–¥–∞ –±–µ–∑ —É—á—ë—Ç–∞ —Ç–µ–º–∏–∑–∞—Ü–∏–∏

**Impact:**
- **Users affected:** –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º—ã (–æ—Å–æ–±–µ–Ω–Ω–æ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è SectionModal - –æ—Å–Ω–æ–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å —Ä–∞–±–æ—Ç—ã —Å —Ä–∞–∑–¥–µ–ª–∞–º–∏)
- **Severity:** High ‚Äî –Ω–∞—Ä—É—à–∞–µ—Ç UX, –≤–∏–∑—É–∞–ª—å–Ω–æ –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –±–∞–≥
- **Frequency:** –ö–∞–∂–¥—ã–π —Ä–∞–∑ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –ø–∞–Ω–µ–ª–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–∞–∑–¥–µ–ª–∞
- **Scope:** –ó–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç –æ—Å–Ω–æ–≤–Ω–æ–π —Ä–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å (—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–æ–≤)

**Solution:**
- –°–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–º–µ–Ω–∞ slate –∫–ª–∞—Å—Å–æ–≤ –Ω–∞ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
- –£–¥–∞–ª–∏—Ç—å –≥—Ä–∞–¥–∏–µ–Ω—Ç (–≤–∏–∑—É–∞–ª—å–Ω–æ –Ω–µ–∑–Ω–∞—á–∏—Ç–µ–ª–µ–Ω, —É—Å–ª–æ–∂–Ω—è–µ—Ç —Ç–µ–º–∏–∑–∞—Ü–∏—é)
- –í—Ä–µ–º—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è: ~1-2 —á–∞—Å–∞ (–±–æ–ª—å—à–æ–π —Ñ–∞–π–ª, –º–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤)

**Prevention:**
- Code review checklist: –≤—Å–µ –Ω–æ–≤—ã–µ –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ –¥–æ–ª–∂–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
- Lint rule: –∑–∞–ø—Ä–µ—Ç–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `bg-slate-*`, `text-slate-*` –≤ –º–æ–¥–∞–ª–∫–∞—Ö
- Design system guideline: –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å—ã –¥–ª—è —Ç–µ–º–∏–∑–∞—Ü–∏–∏
- Component library: —Å–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—ã–π `Modal` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ç–µ–º–∏–∑–∞—Ü–∏–µ–π

**Related:**
- –ë–ê–ì #12 ‚Äî –∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –≤ `BudgetCreateModal`
- –ë–ê–ì #19 ‚Äî –∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –≤ `StageModal`
- **–°–ò–°–¢–ï–ú–ù–ê–Ø –ü–†–û–ë–õ–ï–ú–ê:** –í–µ—Å—å –º–æ–¥—É–ª—å `modules/modals/` —Ç—Ä–µ–±—É–µ—Ç –∞—É–¥–∏—Ç–∞ —Ç–µ–º–∏–∑–∞—Ü–∏–∏
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Å—Ç–∏ –ø–æ–ª–Ω—ã–π Module Audit –¥–ª—è `modules/modals/`

**Module Audit Required:**
```
modules/modals/components/
‚îú‚îÄ‚îÄ budget/BudgetCreateModal.tsx       ‚ùå –ë–ê–ì #12
‚îú‚îÄ‚îÄ stage/StageModal.tsx               ‚ùå –ë–ê–ì #19
‚îú‚îÄ‚îÄ section/SectionModal.tsx           ‚ùå –ë–ê–ì #22 (—Ç–µ–∫—É—â–∏–π)
‚îú‚îÄ‚îÄ section/DateRangeInput.tsx         ‚ùå –ë–ê–ì #21 (slate + native input)
‚îú‚îÄ‚îÄ worklog/WorkLogCreateModal.tsx     ‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
‚îú‚îÄ‚îÄ checkpoint/CheckpointCreateModal   ‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
‚îú‚îÄ‚îÄ loading/LoadingModal.tsx           ‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
‚îî‚îÄ‚îÄ ... (–¥—Ä—É–≥–∏–µ –º–æ–¥–∞–ª–∫–∏)               ‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ
```

**–°—Å—ã–ª–∫–∏:**

- [modules/modals/components/section/SectionModal.tsx:328-330](../modules/modals/components/section/SectionModal.tsx#L328-L330) ‚Äî –≥–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–æ–º
- [modules/modals/components/section/SectionModal.tsx:339](../modules/modals/components/section/SectionModal.tsx#L339) ‚Äî header border
- [modules/modals/components/section/SectionModal.tsx:36](../modules/modals/components/section/SectionModal.tsx#L36) ‚Äî PANEL_WIDTH = 1100
- [modules/modals/components/budget/BudgetCreateModal.tsx](../modules/modals/components/budget/BudgetCreateModal.tsx) ‚Äî –ë–ê–ì #12, –∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞
- [modules/modals/components/stage/StageModal.tsx](../modules/modals/components/stage/StageModal.tsx) ‚Äî –ë–ê–ì #19, –∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞

---

## –ë–∞–≥ #23: –≠—Ç–∞–ø—ã –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ –±–µ–∑ –æ–±–µ–∏—Ö –¥–∞—Ç

### üìã –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

**–ü—Ä–æ–±–ª–µ–º–∞:**
–ü—Ä–∏ –≤–≤–æ–¥–µ –¥–∞—Ç –≤ —ç—Ç–∞–ø –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ —á–µ—Ä–µ–∑ –±–æ–∫–æ–≤—É—é –ø–∞–Ω–µ–ª—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, —ç—Ç–∞–ø –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–∂–∏–¥–∞–µ—Ç, —á—Ç–æ –ø–æ—Å–ª–µ –≤–≤–æ–¥–∞ –¥–∞—Ç –ø–æ—è–≤–∏—Ç—Å—è –≤–∏–∑—É–∞–ª—å–Ω–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è –ø–µ—Ä–∏–æ–¥–∞ —ç—Ç–∞–ø–∞ –Ω–∞ timeline.

**–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ:**
1. –û—Ç–∫—Ä—ã—Ç—å –±–æ–∫–æ–≤—É—é –ø–∞–Ω–µ–ª—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —ç—Ç–∞–ø–∞ –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ (–∫–ª–∏–∫ –Ω–∞ —ç—Ç–∞–ø)
2. –í–≤–µ—Å—Ç–∏ –¥–∞—Ç—É –Ω–∞—á–∞–ª–∞ (Start Date)
3. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
4. **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –≠—Ç–∞–ø –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ
5. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –≤–≤–µ—Å—Ç–∏ –¥–∞—Ç—É –æ–∫–æ–Ω—á–∞–Ω–∏—è (End Date)
6. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
7. **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –≠—Ç–∞–ø –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ

**–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
–≠—Ç–∞–ø –¥–æ–ª–∂–µ–Ω –ª–∏–±–æ:
- –û—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è —á–∞—Å—Ç–∏—á–Ω–æ (—Ç–æ–ª—å–∫–æ –æ—Ç –¥–∞—Ç—ã –Ω–∞—á–∞–ª–∞ –¥–æ –∫–æ–Ω—Ü–∞ –≤–∏–¥–∏–º–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞)
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤–∏–∑—É–∞–ª—å–Ω—É—é –ø–æ–¥—Å–∫–∞–∑–∫—É –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∑–∞–ø–æ–ª–Ω–∏—Ç—å –æ–±–µ –¥–∞—Ç—ã
- –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å —Ñ–æ—Ä–º—É –∏ —Ç—Ä–µ–±–æ–≤–∞—Ç—å –∑–∞–ø–æ–ª–Ω–∏—Ç—å –æ–±–µ –¥–∞—Ç—ã —Å—Ä–∞–∑—É

**–§–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
–≠—Ç–∞–ø –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ, –ø–æ–∫–∞ –Ω–µ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã **–æ–±–µ** –¥–∞—Ç—ã (startDate –ò endDate). –ù–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω–æ–π –∏–Ω–¥–∏–∫–∞—Ü–∏–∏ –ø–æ—á–µ–º—É —ç—Ç–∞–ø –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è.

---

### üîç –ü—Ä–∏—á–∏–Ω–∞

**Root cause:**
–§—É–Ω–∫—Ü–∏—è `calculateBarPosition()` –≤ [modules/resource-graph/components/timeline/TimelineBar.tsx:27-52](../modules/resource-graph/components/timeline/TimelineBar.tsx#L27-L52) –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `null` –µ—Å–ª–∏ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–∞ –∏–∑ –¥–∞—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç:

```typescript
export function calculateBarPosition(
  startDate: string | null,
  endDate: string | null,
  range: TimelineRange
): BarPosition | null {
  if (!startDate || !endDate) return null  // ‚Üê –¢—Ä–µ–±—É—é—Ç—Å—è –û–ë–ï –¥–∞—Ç—ã

  const start = startOfDay(parseISO(startDate))
  const end = startOfDay(parseISO(endDate))

  // –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ –±–∞—Ä –≤ –≤–∏–¥–∏–º–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ
  if (end < range.start || start > range.end) return null

  // ... —Ä–∞—Å—á—ë—Ç –ø–æ–∑–∏—Ü–∏–∏
}
```

**–õ–æ–≥–∏–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è:**

1. `DecompositionStageRow` —Ä–µ–Ω–¥–µ—Ä–∏—Ç `PeriodBackground` (—Å—Ç—Ä–æ–∫–∞ 458-465):
   ```typescript
   <PeriodBackground
     startDate={stage.startDate}
     endDate={stage.finishDate}
     range={range}
     color="#64748b"
     onResize={handleStageResize}
   />
   ```

2. `PeriodBackground` –≤—ã–∑—ã–≤–∞–µ—Ç `calculateBarPosition()` (—Å—Ç—Ä–æ–∫–∞ 29):
   ```typescript
   const position = calculateBarPosition(startDate, endDate, range)
   if (!position) return null  // ‚Üê –ù–µ —Ä–µ–Ω–¥–µ—Ä–∏—Ç –µ—Å–ª–∏ position = null
   ```

3. –ï—Å–ª–∏ `startDate` –∏–ª–∏ `endDate` —Ä–∞–≤–Ω–æ `null` ‚Üí `position = null` ‚Üí –Ω–∏—á–µ–≥–æ –Ω–µ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è

**UX –ø—Ä–æ–±–ª–µ–º–∞:**
- –ù–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ñ–æ—Ä–º—ã (–æ–±–µ –¥–∞—Ç—ã –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã –≤ StageModal)
- –ù–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω–æ–π –ø–æ–¥—Å–∫–∞–∑–∫–∏ –ø–æ—á–µ–º—É —ç—Ç–∞–ø –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø–æ–¥—É–º–∞—Ç—å —á—Ç–æ —ç—Ç–æ –±–∞–≥, –∞ –Ω–µ –æ–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ
- –ù–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–µ –∏–ª–∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è

---

### üìÇ –õ–æ–∫–∞—Ü–∏—è –∫–æ–¥–∞

**–§–∞–π–ª—ã:**

1. **[modules/resource-graph/components/timeline/TimelineBar.tsx:32](../modules/resource-graph/components/timeline/TimelineBar.tsx#L32)**
   - –§—É–Ω–∫—Ü–∏—è `calculateBarPosition()` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ `if (!startDate || !endDate) return null`

2. **[modules/resource-graph/components/timeline/shared/PeriodBackground.tsx:29-31](../modules/resource-graph/components/timeline/shared/PeriodBackground.tsx#L29-L31)**
   - –í—ã–∑–æ–≤ `calculateBarPosition()` –∏ —Ä–∞–Ω–Ω–∏–π –≤—ã—Ö–æ–¥ –µ—Å–ª–∏ `position = null`

3. **[modules/resource-graph/components/timeline/rows/DecompositionStageRow.tsx:458-465](../modules/resource-graph/components/timeline/rows/DecompositionStageRow.tsx#L458-L465)**
   - –†–µ–Ω–¥–µ—Ä `<PeriodBackground>` —Å –¥–∞—Ç–∞–º–∏ —ç—Ç–∞–ø–∞

4. **[modules/modals/components/stage/StageModal.tsx](../modules/modals/components/stage/StageModal.tsx)**
   - –§–æ—Ä–º–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞—Ç —ç—Ç–∞–ø–∞
   - –û–±–µ –¥–∞—Ç—ã `startDate` –∏ `endDate` –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã (`string | null`)
   - –ù–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ "–æ–±–µ –¥–∞—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø–æ–ª–Ω–µ–Ω—ã"

---

### üõ† –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ—à–µ–Ω–∏—è

#### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–∞—Å—Ç–∏—á–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —ç—Ç–∞–ø–∞ (—Å–ª–æ–∂–Ω–æ)

–ò–∑–º–µ–Ω–∏—Ç—å `calculateBarPosition()` —á—Ç–æ–±—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —á–∞—Å—Ç–∏—á–Ω—ã–µ –ø–µ—Ä–∏–æ–¥—ã:

```typescript
export function calculateBarPosition(
  startDate: string | null,
  endDate: string | null,
  range: TimelineRange
): BarPosition | null {
  // –ï—Å–ª–∏ –æ–±–µ –¥–∞—Ç—ã null ‚Äî –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å
  if (!startDate && !endDate) return null

  // –ï—Å–ª–∏ —Ç–æ–ª—å–∫–æ –Ω–∞—á–∞–ª–æ ‚Äî –æ—Ç –Ω–∞—á–∞–ª–∞ –¥–æ –∫–æ–Ω—Ü–∞ –≤–∏–¥–∏–º–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞
  if (startDate && !endDate) {
    const start = startOfDay(parseISO(startDate))
    if (start > range.end) return null
    const visibleStart = start < range.start ? range.start : start
    const dayFromStart = differenceInDays(visibleStart, range.start)
    const duration = differenceInDays(range.end, visibleStart) + 1
    return { left: dayFromStart * DAY_CELL_WIDTH, width: duration * DAY_CELL_WIDTH, days: duration }
  }

  // –ï—Å–ª–∏ —Ç–æ–ª—å–∫–æ –∫–æ–Ω–µ—Ü ‚Äî –æ—Ç –Ω–∞—á–∞–ª–∞ –≤–∏–¥–∏–º–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –¥–æ –∫–æ–Ω—Ü–∞
  if (!startDate && endDate) {
    const end = startOfDay(parseISO(endDate))
    if (end < range.start) return null
    const visibleEnd = end > range.end ? range.end : end
    const duration = differenceInDays(visibleEnd, range.start) + 1
    return { left: 0, width: duration * DAY_CELL_WIDTH, days: duration }
  }

  // –û–±–µ –¥–∞—Ç—ã –∑–∞–ø–æ–ª–Ω–µ–Ω—ã ‚Äî –æ–±—ã—á–Ω–∞—è –ª–æ–≥–∏–∫–∞
  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥
}
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –≠—Ç–∞–ø –≤—Å–µ–≥–¥–∞ –≤–∏–∑—É–∞–ª—å–Ω–æ –≤–∏–¥–µ–Ω –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —á–∞—Å—Ç–∏—á–Ω—ã–π –ø–µ—Ä–∏–æ–¥

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Å —Ç—Ä–µ–º—è –∫–µ–π—Å–∞–º–∏
- ‚ùå –ú–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–≥–¥–µ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —ç—Ç–∞–ø?)
- ‚ùå –ù—É–∂–Ω–∞ –≤–∏–∑—É–∞–ª—å–Ω–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è "–Ω–µ–ø–æ–ª–Ω–æ–≥–æ" –ø–µ—Ä–∏–æ–¥–∞ (–ø—É–Ω–∫—Ç–∏—Ä, –∑–∞—Ç–µ–º–Ω–µ–Ω–∏–µ)
- ‚ùå –ó–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–µ `calculateBarPosition()`

---

#### –í–∞—Ä–∏–∞–Ω—Ç 2: –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º—ã "–æ–±–µ –¥–∞—Ç—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã" (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –≤ `StageModal` —á—Ç–æ–±—ã —Ç—Ä–µ–±–æ–≤–∞—Ç—å –∑–∞–ø–æ–ª–Ω–∏—Ç—å –æ–±–µ –¥–∞—Ç—ã:

**modules/modals/components/stage/StageModal.tsx:**

```typescript
// –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –≤ —Ñ–æ—Ä–º—É
const handleSave = async () => {
  // –ï—Å–ª–∏ –æ–¥–Ω–∞ –¥–∞—Ç–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω–∞, –∞ –¥—Ä—É–≥–∞—è –Ω–µ—Ç ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å –æ—à–∏–±–∫—É
  if ((localStartDate && !localEndDate) || (!localStartDate && localEndDate)) {
    // –ü–æ–∫–∞–∑–∞—Ç—å toast –∏–ª–∏ inline –æ—à–∏–±–∫—É
    toast.error('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞–ø–æ–ª–Ω–∏—Ç—å –æ–±–µ –¥–∞—Ç—ã: –Ω–∞—á–∞–ª–æ –∏ –æ–∫–æ–Ω—á–∞–Ω–∏–µ —ç—Ç–∞–ø–∞')
    return
  }

  // ... –æ—Å—Ç–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
}
```

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: –≤–∏–∑—É–∞–ª—å–Ω–∞—è –ø–æ–¥—Å–∫–∞–∑–∫–∞ –ø–æ–¥ DateRangeInput:**

```tsx
{((localStartDate && !localEndDate) || (!localStartDate && localEndDate)) && (
  <p className="text-xs text-red-400 mt-1">
    ‚ö†Ô∏è –î–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞–ø–æ–ª–Ω–∏—Ç—å –æ–±–µ –¥–∞—Ç—ã
  </p>
)}
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –ü—Ä–æ—Å—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ (1 —Ñ–∞–π–ª, ~5-10 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞)
- ‚úÖ –Ø–≤–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- ‚úÖ –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø—É—Ç–∞–Ω–∏—Ü—É
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –ª–æ–≥–∏–∫–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è

**–ú–∏–Ω—É—Å—ã:**
- ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –≥–∏–±–∫–æ—Å—Ç—å (–Ω–µ–ª—å–∑—è —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–Ω—É –¥–∞—Ç—É)

---

#### –í–∞—Ä–∏–∞–Ω—Ç 3: –í–∏–∑—É–∞–ª—å–Ω–∞—è –ø–æ–¥—Å–∫–∞–∑–∫–∞ –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ (—Ö–æ—Ä–æ—à–µ–µ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫ –í–∞—Ä–∏–∞–Ω—Ç—É 2)

–ï—Å–ª–∏ –¥–∞—Ç—ã –Ω–µ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã, –ø–æ–∫–∞–∑–∞—Ç—å placeholder –Ω–∞ –º–µ—Å—Ç–µ —ç—Ç–∞–ø–∞:

```typescript
// DecompositionStageRow.tsx
{!stage.startDate || !stage.finishDate ? (
  <div className="absolute inset-0 flex items-center justify-center">
    <div className="flex items-center gap-2 px-3 py-1 bg-muted/50 border border-border rounded-md text-xs text-muted-foreground">
      <Calendar className="w-3 h-3" />
      <span>–î–æ–±–∞–≤—å—Ç–µ –¥–∞—Ç—ã –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è</span>
    </div>
  </div>
) : (
  <PeriodBackground ... />
)}
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –í–∏–∑—É–∞–ª—å–Ω–∞—è –ø–æ–¥—Å–∫–∞–∑–∫–∞ –ø—Ä—è–º–æ –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–Ω–∏–º–∞–µ—Ç –ø–æ—á–µ–º—É —ç—Ç–∞–ø –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- ‚úÖ –ù–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É–µ—Ç —Å –¥—Ä—É–≥–∏–º–∏ —Ä–µ—à–µ–Ω–∏—è–º–∏

**–ú–∏–Ω—É—Å—ã:**
- ‚ö†Ô∏è –î–æ–±–∞–≤–ª—è–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω—ã–π —à—É–º –µ—Å–ª–∏ –º–Ω–æ–≥–æ —ç—Ç–∞–ø–æ–≤ –±–µ–∑ –¥–∞—Ç
- ‚ö†Ô∏è –ú–æ–∂–µ—Ç –ø–µ—Ä–µ–∫—Ä—ã–≤–∞—Ç—å—Å—è —Å –¥—Ä—É–≥–∏–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏

---

#### –í–∞—Ä–∏–∞–Ω—Ç 4: –î–µ–ª–∞—Ç—å –¥–∞—Ç—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —ç—Ç–∞–ø–∞ (—Å–∞–º–æ–µ —Å—Ç—Ä–æ–≥–æ–µ)

–ò–∑–º–µ–Ω–∏—Ç—å —Å—Ö–µ–º—É –ë–î:

```sql
ALTER TABLE decomposition_stages
ALTER COLUMN start_date SET NOT NULL,
ALTER COLUMN finish_date SET NOT NULL;
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —á—Ç–æ –≤—Å–µ —ç—Ç–∞–ø—ã –∏–º–µ—é—Ç –¥–∞—Ç—ã
- ‚úÖ –£–ø—Ä–æ—â–∞–µ—Ç –ª–æ–≥–∏–∫—É –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå **–ù–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è MVP** (—Å–ª–∏—à–∫–æ–º —Å—Ç—Ä–æ–≥–æ)
- ‚ùå –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç workflow (–Ω–µ–ª—å–∑—è —Å–æ–∑–¥–∞—Ç—å —ç—Ç–∞–ø –±–µ–∑ –¥–∞—Ç)
- ‚ùå –¢—Ä–µ–±—É–µ—Ç –º–∏–≥—Ä–∞—Ü–∏—é —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚ùå –ú–æ–∂–µ—Ç –±—ã—Ç—å workflow –∫–æ–≥–¥–∞ –¥–∞—Ç—ã –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã –Ω–∞ –º–æ–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω–∏—è

---

### üìù –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π

**–ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥: –í–∞—Ä–∏–∞–Ω—Ç 2 + –í–∞—Ä–∏–∞–Ω—Ç 3**

#### –®–∞–≥ 1: –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é —Ñ–æ—Ä–º—ã –≤ StageModal

1. –û—Ç–∫—Ä—ã—Ç—å [modules/modals/components/stage/StageModal.tsx](../modules/modals/components/stage/StageModal.tsx)

2. –ù–∞–π—Ç–∏ —Ñ—É–Ω–∫—Ü–∏—é `handleSave()` (–ø—Ä–∏–º–µ—Ä–Ω–æ —Å—Ç—Ä–æ–∫–∞ 150-200)

3. –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º:
   ```typescript
   const handleSave = async () => {
     // –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞—Ç
     if ((localStartDate && !localEndDate) || (!localStartDate && localEndDate)) {
       // –ü–æ–∫–∞–∑–∞—Ç—å –æ—à–∏–±–∫—É (toast –∏–ª–∏ inline)
       // TODO: –¥–æ–±–∞–≤–∏—Ç—å toast library –µ—Å–ª–∏ –Ω–µ—Ç
       console.error('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞–ø–æ–ª–Ω–∏—Ç—å –æ–±–µ –¥–∞—Ç—ã')
       return
     }

     // ... –æ—Å—Ç–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞
   }
   ```

4. –î–æ–±–∞–≤–∏—Ç—å –≤–∏–∑—É–∞–ª—å–Ω—É—é –ø–æ–¥—Å–∫–∞–∑–∫—É –ø–æ–¥ DateRangeInput (–ø—Ä–∏–º–µ—Ä–Ω–æ —Å—Ç—Ä–æ–∫–∞ 405):
   ```tsx
   <DateRangeInput
     startDate={localStartDate}
     endDate={localEndDate}
     onStartDateChange={handleStartDateChange}
     onEndDateChange={handleEndDateChange}
     savingField={savingField}
     idPrefix="stage"
   />

   {/* –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫—É */}
   {((localStartDate && !localEndDate) || (!localStartDate && localEndDate)) && (
     <p className="text-xs text-amber-400 mt-1 flex items-center gap-1">
       <Calendar className="w-3 h-3" />
       –î–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞–ø–æ–ª–Ω–∏—Ç—å –æ–±–µ –¥–∞—Ç—ã
     </p>
   )}
   ```

5. –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∫–æ–Ω–∫—É:
   ```typescript
   import { Calendar } from 'lucide-react'
   ```

---

#### –®–∞–≥ 2: –î–æ–±–∞–≤–∏—Ç—å placeholder –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

1. –û—Ç–∫—Ä—ã—Ç—å [modules/resource-graph/components/timeline/rows/DecompositionStageRow.tsx:458](../modules/resource-graph/components/timeline/rows/DecompositionStageRow.tsx#L458)

2. –û–±–µ—Ä–Ω—É—Ç—å `<PeriodBackground>` –≤ —É—Å–ª–æ–≤–∏–µ:
   ```typescript
   {/* Period background (with resize support) */}
   {stage.startDate && stage.finishDate ? (
     <PeriodBackground
       startDate={stage.startDate}
       endDate={stage.finishDate}
       range={range}
       color="#64748b"
       onResize={handleStageResize}
     />
   ) : (
     <div className="absolute inset-y-0 flex items-center justify-center pointer-events-none">
       <div className="flex items-center gap-1.5 px-2 py-1 bg-muted/30 border border-dashed border-border rounded text-[10px] text-muted-foreground">
         <Calendar className="w-3 h-3" />
         <span>–î–æ–±–∞–≤—å—Ç–µ –¥–∞—Ç—ã</span>
       </div>
     </div>
   )}
   ```

3. –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∫–æ–Ω–∫—É (–µ—Å–ª–∏ –µ—â—ë –Ω–µ—Ç):
   ```typescript
   import { Calendar } from 'lucide-react'
   ```

---

#### –®–∞–≥ 3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–°—Ü–µ–Ω–∞—Ä–∏–π 1: –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º—ã**
- [ ] –û—Ç–∫—Ä—ã—Ç—å StageModal –¥–ª—è —ç—Ç–∞–ø–∞ –±–µ–∑ –¥–∞—Ç
- [ ] –í–≤–µ—Å—Ç–∏ —Ç–æ–ª—å–∫–æ –¥–∞—Ç—É –Ω–∞—á–∞–ª–∞
- [ ] –ü–æ–ø—ã—Ç–∞—Ç—å—Å—è —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å
- [ ] **–û–∂–∏–¥–∞–µ—Ç—Å—è:** –°–æ–æ–±—â–µ–Ω–∏–µ "–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞–ø–æ–ª–Ω–∏—Ç—å –æ–±–µ –¥–∞—Ç—ã"
- [ ] –í–≤–µ—Å—Ç–∏ –¥–∞—Ç—É –æ–∫–æ–Ω—á–∞–Ω–∏—è
- [ ] –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
- [ ] **–û–∂–∏–¥–∞–µ—Ç—Å—è:** –≠—Ç–∞–ø —Å–æ—Ö—Ä–∞–Ω–∏–ª—Å—è, –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ

**–°—Ü–µ–Ω–∞—Ä–∏–π 2: –í–∏–∑—É–∞–ª—å–Ω–∞—è –ø–æ–¥—Å–∫–∞–∑–∫–∞ –≤ —Ñ–æ—Ä–º–µ**
- [ ] –û—Ç–∫—Ä—ã—Ç—å StageModal
- [ ] –í–≤–µ—Å—Ç–∏ –¥–∞—Ç—É –Ω–∞—á–∞–ª–∞
- [ ] **–û–∂–∏–¥–∞–µ—Ç—Å—è:** –ü–æ–¥ DateRangeInput –ø–æ—è–≤–∏–ª–∞—Å—å –ø–æ–¥—Å–∫–∞–∑–∫–∞ "–î–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞–ø–æ–ª–Ω–∏—Ç—å –æ–±–µ –¥–∞—Ç—ã"
- [ ] –í–≤–µ—Å—Ç–∏ –¥–∞—Ç—É –æ–∫–æ–Ω—á–∞–Ω–∏—è
- [ ] **–û–∂–∏–¥–∞–µ—Ç—Å—è:** –ü–æ–¥—Å–∫–∞–∑–∫–∞ –∏—Å—á–µ–∑–ª–∞

**–°—Ü–µ–Ω–∞—Ä–∏–π 3: Placeholder –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ (–µ—Å–ª–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω)**
- [ ] –°–æ–∑–¥–∞—Ç—å —ç—Ç–∞–ø –±–µ–∑ –¥–∞—Ç
- [ ] **–û–∂–∏–¥–∞–µ—Ç—Å—è:** –ù–∞ –º–µ—Å—Ç–µ —ç—Ç–∞–ø–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è "–î–æ–±–∞–≤—å—Ç–µ –¥–∞—Ç—ã"
- [ ] –î–æ–±–∞–≤–∏—Ç—å –æ–±–µ –¥–∞—Ç—ã
- [ ] **–û–∂–∏–¥–∞–µ—Ç—Å—è:** Placeholder –∑–∞–º–µ–Ω–∏–ª—Å—è –Ω–∞ PeriodBackground

**–°—Ü–µ–Ω–∞—Ä–∏–π 4: –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —ç—Ç–∞–ø–æ–≤**
- [ ] –û—Ç–∫—Ä—ã—Ç—å —ç—Ç–∞–ø —Å –æ–±–µ–∏–º–∏ –¥–∞—Ç–∞–º–∏
- [ ] –£–¥–∞–ª–∏—Ç—å –æ–¥–Ω—É –¥–∞—Ç—É
- [ ] **–û–∂–∏–¥–∞–µ—Ç—Å—è:** –ü–æ–¥—Å–∫–∞–∑–∫–∞ –ø–æ—è–≤–∏–ª–∞—Å—å, –∫–Ω–æ–ø–∫–∞ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å" –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞ –∏–ª–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É
- [ ] –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–∞—Ç—É
- [ ] **–û–∂–∏–¥–∞–µ—Ç—Å—è:** –§–æ—Ä–º–∞ —Å–Ω–æ–≤–∞ –≤–∞–ª–∏–¥–Ω–∞

---

### üìä –í—ã–≤–æ–¥—ã

**Root cause:**
- –§—É–Ω–∫—Ü–∏—è `calculateBarPosition()` —Ç—Ä–µ–±—É–µ—Ç –æ–±–µ –¥–∞—Ç—ã –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ –ø–æ–∑–∏—Ü–∏–∏
- –§–æ—Ä–º–∞ `StageModal` –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —ç—Ç–∞–ø —Å –æ–¥–Ω–æ–π –¥–∞—Ç–æ–π
- –ù–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏ –≤–∏–∑—É–∞–ª—å–Ω–æ–π –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏
- **–≠—Ç–æ –Ω–µ –±–∞–≥ –≤ –∫–æ–¥–µ, –∞ UX –ø—Ä–æ–±–ª–µ–º–∞** ‚Äî –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø–æ –¥–∏–∑–∞–π–Ω—É, –Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –ø–æ–Ω–∏–º–∞–µ—Ç –ø–æ—á–µ–º—É —ç—Ç–∞–ø –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è

**Impact:**
- **Users affected:** –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–æ–∑–¥–∞—é—â–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä—É—é—â–∏–µ —ç—Ç–∞–ø—ã
- **Severity:** Medium ‚Äî –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ, –Ω–æ –≤—ã–∑—ã–≤–∞–µ—Ç –ø—É—Ç–∞–Ω–∏—Ü—É
- **Frequency:** –ü—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ —ç—Ç–∞–ø–∞ –∏–ª–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –±–µ–∑ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –æ–±–µ–∏—Ö –¥–∞—Ç
- **Scope:** UX –ø—Ä–æ–±–ª–µ–º–∞, –Ω–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –±–∞–≥

**Solution:**
- –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é —Ñ–æ—Ä–º—ã "–æ–±–µ –¥–∞—Ç—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã"
- –í–∏–∑—É–∞–ª—å–Ω–∞—è –ø–æ–¥—Å–∫–∞–∑–∫–∞ –≤ —Ñ–æ—Ä–º–µ –∏ –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ
- –í—Ä–µ–º—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è: ~30 –º–∏–Ω—É—Ç

**Prevention:**
- Form validation guidelines: –≤—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –ø–æ–ª—è –¥–æ–ª–∂–Ω—ã –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤–º–µ—Å—Ç–µ
- UX review: –ø—Ä–æ–≤–µ—Ä—è—Ç—å —á—Ç–æ –≤—Å–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è (empty, partial, full) –∏–º–µ—é—Ç –≤–∏–∑—É–∞–ª—å–Ω—É—é –∏–Ω–¥–∏–∫–∞—Ü–∏—é
- Design system: –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è "–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–∞—Ä" –ø–æ–ª–µ–π

**Alternative:**
–ï—Å–ª–∏ workflow –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ —ç—Ç–∞–ø–æ–≤ –±–µ–∑ –¥–∞—Ç, —Ç–æ –Ω—É–∂–Ω–æ:
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –í–∞—Ä–∏–∞–Ω—Ç 1 (—á–∞—Å—Ç–∏—á–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ)
- –î–æ–±–∞–≤–∏—Ç—å –≤–∏–∑—É–∞–ª—å–Ω—É—é –∏–Ω–¥–∏–∫–∞—Ü–∏—é "–Ω–µ–ø–æ–ª–Ω—ã—Ö" –ø–µ—Ä–∏–æ–¥–æ–≤
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤ UX guidelines

**Related:**
- –ë–ê–ì #21 ‚Äî DateRangeInput –∏—Å–ø–æ–ª—å–∑—É–µ—Ç native date picker
- –ë–ê–ì #19 ‚Äî StageModal —Ç–µ–º–Ω–∞—è –≤ —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–µ
- –§–æ—Ä–º–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —ç—Ç–∞–ø–∞ –∑–∞—Ç—Ä–æ–Ω—É—Ç–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –±–∞–≥–∞–º–∏ ‚Äî —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥

**–°—Å—ã–ª–∫–∏:**
- [modules/resource-graph/components/timeline/TimelineBar.tsx:32](../modules/resource-graph/components/timeline/TimelineBar.tsx#L32) ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ `if (!startDate || !endDate)`
- [modules/resource-graph/components/timeline/shared/PeriodBackground.tsx:29-31](../modules/resource-graph/components/timeline/shared/PeriodBackground.tsx#L29-L31) ‚Äî —Ä–∞–Ω–Ω–∏–π –≤—ã—Ö–æ–¥
- [modules/resource-graph/components/timeline/rows/DecompositionStageRow.tsx:458-465](../modules/resource-graph/components/timeline/rows/DecompositionStageRow.tsx#L458-L465) ‚Äî —Ä–µ–Ω–¥–µ—Ä PeriodBackground
- [modules/modals/components/stage/StageModal.tsx](../modules/modals/components/stage/StageModal.tsx) ‚Äî —Ñ–æ—Ä–º–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

---

## üîñ –ë–ê–ì #24: Duplicate React keys –ø—Ä–∏ —Ñ–∏–ª—å—Ç—Ä–µ "–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π" —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ –∏–º–µ–Ω–∞–º–∏

**–î–∞—Ç–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è:** 2025-12-30

**–õ–æ–∫–∞—Ü–∏—è:** `/tasks` ‚Üí –ò–Ω–ª–∞–π–Ω —Ñ–∏–ª—å—Ç—Ä ‚Üí –í—ã–±–æ—Ä –∑–Ω–∞—á–µ–Ω–∏—è "–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π"

### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

**–¢–µ–∫—É—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ü—Ä–∏ –≤–≤–æ–¥–µ —Ñ–∏–ª—å—Ç—Ä–∞ "–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π" –ø–æ—è–≤–ª—è—é—Ç—Å—è –ø–æ–¥—Å–∫–∞–∑–∫–∏ —Å –∏–º–µ–Ω–∞–º–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
- –ï—Å–ª–∏ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º –∏–º–µ–Ω–µ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–¢–∏—Ö–æ–º–∏—Ä–æ–≤ –í–∞–¥–∏–º")
- –í –∫–æ–Ω—Å–æ–ª–∏ –ø–æ—è–≤–ª—è—é—Ç—Å—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏: `Encountered two children with the same key, 'value-–¢–∏—Ö–æ–º–∏—Ä–æ–≤ –í–∞–¥–∏–º'`
- React –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞–µ—Ç, —á—Ç–æ duplicate keys –º–æ–≥—É—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–º—É –ø–æ–≤–µ–¥–µ–Ω–∏—é

**–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ö–∞–∂–¥–∞—è –æ–ø—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –∏–º–µ—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–π key
- –ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏
- –í—Å–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ –∏–º–µ–Ω–∞–º–∏ –¥–æ–ª–∂–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã

**–ì–¥–µ –ø—Ä–æ—è–≤–ª—è–µ—Ç—Å—è:**
- –°—Ç—Ä–∞–Ω–∏—Ü–∞ `/tasks`
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `InlineFilter`
- –ü—Ä–∏ –≤—ã–±–æ—Ä–µ —Ñ–∏–ª—å—Ç—Ä–∞ —Å –∫–ª—é—á–æ–º "–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π"
- –õ—é–±—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã, –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω—ã –¥—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è –∑–Ω–∞—á–µ–Ω–∏—è `label`

**–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ:**
1. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ `/tasks`
2. –ö–ª–∏–∫–Ω—É—Ç—å –≤ –ø–æ–ª–µ –∏–Ω–ª–∞–π–Ω —Ñ–∏–ª—å—Ç—Ä–∞
3. –í–≤–µ—Å—Ç–∏ "–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:"
4. –û—Ç–∫—Ä—ã—Ç—å –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞
5. **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ –æ duplicate keys `value-–¢–∏—Ö–æ–º–∏—Ä–æ–≤ –í–∞–¥–∏–º`

### –ü—Ä–∏—á–∏–Ω–∞

**Root cause:** React key —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ `label` (–∏–º–µ–Ω–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞), –∞ –Ω–µ —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ `id`, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –∫–æ–ª–ª–∏–∑–∏—è–º –ø—Ä–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –∏–º–µ–Ω–∞—Ö.

**–ü—Ä–æ–±–ª–µ–º–Ω—ã–π –∫–æ–¥:**

```typescript
// –§–∞–π–ª: modules/inline-filter/components/FilterSuggestions.tsx:100

// ‚ùå –ü—Ä–æ–±–ª–µ–º–Ω—ã–π –∫–æ–¥
<button
  key={`${suggestion.type}-${suggestion.label}`}  // label –º–æ–∂–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å—Å—è!
  id={optionId}
  type="button"
  // ...
>
```

**–ü–æ—á–µ–º—É —ç—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞:**

1. **–ù–∞—Ä—É—à–µ–Ω–∏–µ React contract:** Keys –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏ –≤ —Ä–∞–º–∫–∞—Ö –º–∞—Å—Å–∏–≤–∞ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ reconciliation
2. **–î—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è –¥–∞–Ω–Ω—ã–µ:** –í –ë–î –º–æ–≥—É—Ç –±—ã—Ç—å —Ä–∞–∑–Ω—ã–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ –§–ò–û (—Ä–∞–∑–Ω—ã–µ ID, –æ–¥–∏–Ω–∞–∫–æ–≤–æ–µ –∏–º—è)
3. **–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –±–∞–≥–∏:** React –º–æ–∂–µ—Ç –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ DOM-—É–∑–ª—ã, —á—Ç–æ –ø—Ä–∏–≤–µ–¥—ë—Ç –∫:
   - –ù–µ–≤–µ—Ä–Ω–æ–º—É –≤—ã–¥–µ–ª–µ–Ω–∏—é –ø—Ä–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ —Å—Ç—Ä–µ–ª–∫–∞–º–∏
   - –ö–ª–∏–∫—É –Ω–∞ –æ–¥–Ω–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞, –∞ –≤—ã–±–æ—Ä—É –¥—Ä—É–≥–æ–≥–æ
   - –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–º—É –æ–±–Ω–æ–≤–ª–µ–Ω–∏—é –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö

**–û—Ç–∫—É–¥–∞ –ø—Ä–∏—Ö–æ–¥—è—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã:**

```typescript
// modules/tasks/hooks/useTasksFilterOptions.ts:101-110
// –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–µ (parent = teamId)
if (orgStructure?.employees) {
  for (const item of orgStructure.employees) {
    result.push({
      id: item.id,           // ‚úÖ –£–Ω–∏–∫–∞–ª—å–Ω—ã–π UUID
      name: item.name,       // ‚ùå –ú–æ–∂–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å—Å—è
      key: '–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π',
      parentId: item.teamId || undefined,
    })
  }
}
```

–ù–∞ —É—Ä–æ–≤–Ω–µ Server Action (`getOrgStructure`) –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –Ω–µ—Ç ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `Map<employee_id>`. –ù–æ –Ω–∞ —É—Ä–æ–≤–Ω–µ UI –¥–ª—è key –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `name`, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ —É–Ω–∏–∫–∞–ª–µ–Ω.

### –õ–æ–∫–∞—Ü–∏—è –∫–æ–¥–∞

**–§–∞–π–ª—ã —Å –ø—Ä–æ–±–ª–µ–º–æ–π:**

1. **–û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª** ‚Äî —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ React key:
   - [modules/inline-filter/components/FilterSuggestions.tsx:100](../modules/inline-filter/components/FilterSuggestions.tsx#L100) ‚Äî `key={${suggestion.type}-${suggestion.label}}`
   - –ó–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç —Å—Ç—Ä–æ–∫–∏: 91-116 (map –ø–æ suggestions)

2. **–°–≤—è–∑–∞–Ω–Ω—ã–π —Ñ–∞–π–ª** ‚Äî —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö:
   - [modules/inline-filter/components/FilterSuggestions.tsx:38-43](../modules/inline-filter/components/FilterSuggestions.tsx#L38-L43) ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `FilterSuggestion`

3. **–ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö** ‚Äî —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ suggestions:
   - [modules/inline-filter/components/InlineFilter.tsx](../modules/inline-filter/components/InlineFilter.tsx) ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ suggestions –∏–∑ options
   - [modules/tasks/hooks/useTasksFilterOptions.ts:101-110](../modules/tasks/hooks/useTasksFilterOptions.ts#L101-L110) ‚Äî employees mapping

**–ó–∞—Ç—Ä–∞–≥–∏–≤–∞–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- `FilterSuggestions` ‚Äî –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –ø–æ–¥—Å–∫–∞–∑–æ–∫ —Å –¥—É–±–ª–∏—Ä—É—é—â–∏–º–∏—Å—è keys
- `InlineFilter` ‚Äî —Å–æ–∑–¥–∞—ë—Ç suggestions –Ω–∞ –æ—Å–Ω–æ–≤–µ options
- `TasksView` ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç InlineFilter —Å –¥–∞–Ω–Ω—ã–º–∏ –æ—Ç useTasksFilterOptions

**–ó–∞—Ç—Ä–∞–≥–∏–≤–∞–µ–º—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã:**
–ü—Ä–æ–±–ª–µ–º–∞ —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏ –º–æ–∂–µ—Ç –ø—Ä–æ—è–≤–∏—Ç—å—Å—è –≤ –ª—é–±—ã—Ö —Ñ–∏–ª—å—Ç—Ä–∞—Ö —Å –¥—É–±–ª–∏—Ä—É—é—â–∏–º–∏—Å—è –∏–º–µ–Ω–∞–º–∏:
- `–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π` ‚Äî —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ –§–ò–û ‚úÖ **–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ**
- `–∫–æ–º–∞–Ω–¥–∞` ‚Äî –µ—Å–ª–∏ –µ—Å—Ç—å –∫–æ–º–∞–Ω–¥—ã —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏
- `–æ—Ç–¥–µ–ª` ‚Äî –µ—Å–ª–∏ –µ—Å—Ç—å –æ—Ç–¥–µ–ª—ã —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏
- `–ø—Ä–æ–µ–∫—Ç` ‚Äî –µ—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–æ–µ–∫—Ç—ã —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏

### –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ—à–µ–Ω–∏—è

**‚ùå –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω–¥–µ–∫—Å –º–∞—Å—Å–∏–≤–∞ –∫–∞–∫ key ‚Äî —Ç–µ—Ä—è–µ–º —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏/—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–µ
- –î–æ–±–∞–≤–ª—è—Ç—å ID –∫ label –≤–∏–∑—É–∞–ª—å–Ω–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–¢–∏—Ö–æ–º–∏—Ä–æ–≤ –í–∞–¥–∏–º (ID: 123)") ‚Äî —É—Ö—É–¥—à–∞–µ—Ç UX
- –ó–∞–ø—Ä–µ—â–∞—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –∏–º–µ–Ω–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î ‚Äî –±–∏–∑–Ω–µ—Å-–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–µ–æ–±–æ—Å–Ω–æ–≤–∞–Ω–Ω–æ

**‚úÖ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:**

---

**–í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –≤ key ‚≠ê**

–°–∞–º–æ–µ –ø—Ä–æ—Å—Ç–æ–µ –∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–π `id` –≤–º–µ—Å—Ç–æ `label`.

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

```typescript
// –ë—ã–ª–æ (FilterSuggestions.tsx:100):
<button
  key={`${suggestion.type}-${suggestion.label}`}
  // ...
>

// –°—Ç–∞–ª–æ:
<button
  key={`${suggestion.type}-${suggestion.value || suggestion.label}`}
  // ...
>
```

**–ù–æ –ø—Ä–æ–±–ª–µ–º–∞:** –≤ —Ç–µ–∫—É—â–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ `FilterSuggestion` –Ω–µ—Ç –ø–æ–ª—è `value`:

```typescript
// modules/inline-filter/components/FilterSuggestions.tsx:38-43
export interface FilterSuggestion {
  type: 'key' | 'value'
  label: string          // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –∏–º—è (–º–æ–∂–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å—Å—è)
  insertText: string     // –¢–µ–∫—Å—Ç –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏
  key?: string           // –ö–ª—é—á —Ñ–∏–ª—å—Ç—Ä–∞ ('–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π')
  // ‚ùå –ù–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞!
}
```

–ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `id` –∏–ª–∏ `value`:

```typescript
// –°—Ç–∞–ª–æ:
export interface FilterSuggestion {
  type: 'key' | 'value'
  label: string
  insertText: string
  key?: string
  value?: string  // ‚úÖ –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID (UUID –¥–ª—è employees)
}
```

–ò –æ–±–Ω–æ–≤–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ suggestions –≤ `InlineFilter.tsx`:

```typescript
// InlineFilter.tsx (–≥–¥–µ —Å–æ–∑–¥–∞—é—Ç—Å—è suggestions)
const valueSuggestions: FilterSuggestion[] = matchingOptions.map(option => ({
  type: 'value',
  label: option.name,
  insertText: option.name,
  key: currentKey,
  value: option.id,  // ‚úÖ –î–æ–±–∞–≤–ª—è–µ–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID
}))
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –ü—Ä–æ—Å—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ ‚Äî –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ React keys
- ‚úÖ –†–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É –¥–ª—è –≤—Å–µ—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤, –Ω–µ —Ç–æ–ª—å–∫–æ "–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π"
- ‚úÖ –ù–µ –∏–∑–º–µ–Ω—è–µ—Ç UX ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –≤–∏–¥–∏—Ç —Ä–∞–∑–Ω–∏—Ü—ã

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –¢—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ —Ç–∏–ø–µ `FilterSuggestion` (–º–æ–∂–µ—Ç –∑–∞—Ç—Ä–æ–Ω—É—Ç—å –¥—Ä—É–≥–∏–µ –º–æ–¥—É–ª–∏)

---

**–í–∞—Ä–∏–∞–Ω—Ç 2: –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π key (type + key + label + index)**

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–π —Å–æ—Å—Ç–∞–≤–Ω–æ–π –∫–ª—é—á, –≤–∫–ª—é—á–∞—è –∏–Ω–¥–µ–∫—Å:

```typescript
// –°—Ç–∞–ª–æ (FilterSuggestions.tsx):
suggestions.map((suggestion, idx) => {
  return (
    <button
      key={`${suggestion.type}-${suggestion.key || 'nokey'}-${suggestion.label}-${idx}`}
      // ...
    >
  )
})
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ —Ç–∏–ø–∞—Ö
- ‚úÖ –ë—ã—Å—Ç—Ä–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–Ω–¥–µ–∫—Å ‚Äî –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø—Ä–æ–±–ª–µ–º–∞–º –ø—Ä–∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
- ‚ùå –ù–µ —Ä–µ—à–∞–µ—Ç root cause ‚Äî –≤—Å—ë –µ—â—ë –ø–æ–ª–∞–≥–∞–µ–º—Å—è –Ω–∞ –ø–æ—Ä—è–¥–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- ‚ùå –•—É–∂–µ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ React reconciliation

---

**–í–∞—Ä–∏–∞–Ω—Ç 3: –î–æ–±–∞–≤–∏—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–π postfix –∫ label –ø—Ä–∏ –∫–æ–ª–ª–∏–∑–∏—è—Ö**

–û–±–Ω–∞—Ä—É–∂–∏–≤–∞—Ç—å –¥—É–±–ª–∏–∫–∞—Ç—ã –∏ –¥–æ–±–∞–≤–ª—è—Ç—å —Å—É—Ñ—Ñ–∏–∫—Å —Ç–æ–ª—å–∫–æ –∫ –≤–∏–∑—É–∞–ª—å–Ω–æ–º—É –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—é –≤ suggestions:

```typescript
// InlineFilter.tsx
const valueSuggestions: FilterSuggestion[] = addUniqueSuffix(
  matchingOptions.map(option => ({
    type: 'value',
    label: option.name,
    insertText: option.name,
    key: currentKey,
  }))
)

function addUniqueSuffix(suggestions: FilterSuggestion[]): FilterSuggestion[] {
  const counts = new Map<string, number>()

  return suggestions.map(s => {
    const count = counts.get(s.label) || 0
    counts.set(s.label, count + 1)

    if (count > 0) {
      return {
        ...s,
        label: `${s.label} (${count + 1})`,  // "–¢–∏—Ö–æ–º–∏—Ä–æ–≤ –í–∞–¥–∏–º (2)"
      }
    }
    return s
  })
}
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ –∏–º–µ–Ω–∞–º–∏
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ —Ç–∏–ø–∞—Ö

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –ò–∑–º–µ–Ω—è–µ—Ç UX ‚Äî –¥–æ–±–∞–≤–ª—è–µ—Ç —Ü–∏—Ñ—Ä—ã –∫ –∏–º–µ–Ω–∞–º
- ‚ùå –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –ø–æ–Ω–∏–º–∞–µ—Ç, –ø–æ—á–µ–º—É –æ–¥–∏–Ω "–¢–∏—Ö–æ–º–∏—Ä–æ–≤ –í–∞–¥–∏–º (1)", –∞ –¥—Ä—É–≥–æ–π "(2)"
- ‚ùå –°–ª–æ–∂–Ω–µ–µ –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

---

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –í–∞—Ä–∏–∞–Ω—Ç 1** ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `value` –≤ `FilterSuggestion` –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –≤ key.

**–ü–ª–∞–Ω –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**

1. –î–æ–±–∞–≤–∏—Ç—å `value?: string` –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `FilterSuggestion`
2. –í `InlineFilter.tsx` –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ suggestions –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å `value: option.id`
3. –í `FilterSuggestions.tsx` –∏–∑–º–µ–Ω–∏—Ç—å key –Ω–∞ `${suggestion.type}-${suggestion.value || suggestion.label}`
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –≤—Å–µ—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤ (–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π, –∫–æ–º–∞–Ω–¥–∞, –æ—Ç–¥–µ–ª, –ø—Ä–æ–µ–∫—Ç)

**–í—Ä–µ–º—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:** ~15-20 –º–∏–Ω—É—Ç

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `modules/inline-filter/components/FilterSuggestions.tsx` (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å + key)
- `modules/inline-filter/components/InlineFilter.tsx` (—Å–æ–∑–¥–∞–Ω–∏–µ suggestions)

#### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–°—Ü–µ–Ω–∞—Ä–∏–π 1: –û—Å–Ω–æ–≤–Ω–æ–π —Ç–µ—Å—Ç**
- [ ] –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ `/tasks`
- [ ] –í–≤–µ—Å—Ç–∏ "–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:" –≤ —Ñ–∏–ª—å—Ç—Ä
- [ ] –û—Ç–∫—Ä—ã—Ç—å –∫–æ–Ω—Å–æ–ª—å
- [ ] **–û–∂–∏–¥–∞–µ—Ç—Å—è:** –ù–µ—Ç –æ—à–∏–±–æ–∫ –æ duplicate keys

**–°—Ü–µ–Ω–∞—Ä–∏–π 2: –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –¥—É–±–ª–∏–∫–∞—Ç—ã**
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤ –ë–î –µ—Å—Ç—å 2+ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º –∏–º–µ–Ω–µ–º
- [ ] –í–≤–µ—Å—Ç–∏ —Ñ–∏–ª—å—Ç—Ä "–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:"
- [ ] **–û–∂–∏–¥–∞–µ—Ç—Å—è:** –í—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è, –º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –ª—é–±–æ–≥–æ
- [ ] –í—ã–±—Ä–∞—Ç—å –æ–¥–Ω–æ–≥–æ –∏–∑ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
- [ ] **–û–∂–∏–¥–∞–µ—Ç—Å—è:** –í—ã–±—Ä–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ (–ø–æ ID)

**–°—Ü–µ–Ω–∞—Ä–∏–π 3: –ù–∞–≤–∏–≥–∞—Ü–∏—è —Å—Ç—Ä–µ–ª–∫–∞–º–∏**
- [ ] –í–≤–µ—Å—Ç–∏ "–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:"
- [ ] –ù–∞–≤–∏–≥–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä–µ–ª–∫–∞–º–∏ –≤–Ω–∏–∑/–≤–≤–µ—Ä—Ö –º–µ–∂–¥—É –¥—É–±–ª–∏–∫–∞—Ç–∞–º–∏
- [ ] **–û–∂–∏–¥–∞–µ—Ç—Å—è:** –í—ã–¥–µ–ª–µ–Ω–∏–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è, –Ω–µ—Ç "–ø—Ä—ã–∂–∫–æ–≤"

**–°—Ü–µ–Ω–∞—Ä–∏–π 4: –î—Ä—É–≥–∏–µ —Ñ–∏–ª—å—Ç—Ä—ã**
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã: –∫–æ–º–∞–Ω–¥–∞, –æ—Ç–¥–µ–ª, –ø—Ä–æ–µ–∫—Ç, –º–µ—Ç–∫–∞
- [ ] **–û–∂–∏–¥–∞–µ—Ç—Å—è:** –ï—Å–ª–∏ –≥–¥–µ-—Ç–æ –µ—Å—Ç—å –¥—É–±–ª–∏–∫–∞—Ç—ã –∏–º—ë–Ω, –æ—à–∏–±–æ–∫ –Ω–µ—Ç

---

### –í—ã–≤–æ–¥—ã

**Root cause:**
- React key —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ `label` –≤–º–µ—Å—Ç–æ —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞
- `FilterSuggestion` –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ ID
- –ü—Ä–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –∏–º–µ–Ω–∞—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤/–∫–æ–º–∞–Ω–¥/–æ—Ç–¥–µ–ª–æ–≤ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –∫–æ–ª–ª–∏–∑–∏–∏ keys

**Impact:**
- **Users affected:** –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã `/tasks`, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–µ —Ñ–∏–ª—å—Ç—Ä—ã
- **Severity:** Low-Medium ‚Äî —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ console errors –∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –±–∞–≥–∏ –≤ reconciliation
- **Frequency:** –ü—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤—Å–µ–≥–¥–∞ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –∏–º—ë–Ω –≤ –¥–∞–Ω–Ω—ã—Ö
- **Scope:** –ú–æ–¥—É–ª—å `inline-filter`, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ Tasks, Budgets, Resource Graph

**Solution:**
- –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `value` –≤ `FilterSuggestion`
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –≤ React key –≤–º–µ—Å—Ç–æ label
- –í—Ä–µ–º—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è: ~15-20 –º–∏–Ω—É—Ç

**Prevention:**
- Code review guideline: –≤—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å keys –≤ `.map()`
- TypeScript guideline: –¥–ª—è –æ–ø—Ü–∏–π –≤—Å–µ–≥–¥–∞ –∏–º–µ—Ç—å `id` + `label` (–Ω–µ —Ç–æ–ª—å–∫–æ `label`)
- Testing guideline: —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å UI —Å –¥—É–±–ª–∏—Ä—É—é—â–∏–º–∏—Å—è –¥–∞–Ω–Ω—ã–º–∏

**Related:**
- –ú–æ–¥—É–ª—å `inline-filter` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤:
  - `/tasks` (TasksView)
  - `/budgets` (BudgetsView)
  - Resource Graph —Ñ–∏–ª—å—Ç—Ä—ã
- –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –ø—Ä–æ–±–ª–µ–º–∞ –º–æ–∂–µ—Ç –ø—Ä–æ—è–≤–∏—Ç—å—Å—è –≤ –ª—é–±–æ–º –∏–∑ –Ω–∏—Ö –ø—Ä–∏ –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö—Å—è –∏–º–µ–Ω–∞—Ö

**–°—Å—ã–ª–∫–∏:**
- [modules/inline-filter/components/FilterSuggestions.tsx:100](../modules/inline-filter/components/FilterSuggestions.tsx#L100) ‚Äî —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ key
- [modules/inline-filter/components/FilterSuggestions.tsx:38-43](../modules/inline-filter/components/FilterSuggestions.tsx#L38-L43) ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å FilterSuggestion
- [modules/inline-filter/components/InlineFilter.tsx](../modules/inline-filter/components/InlineFilter.tsx) ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ suggestions
- [modules/tasks/hooks/useTasksFilterOptions.ts:101-110](../modules/tasks/hooks/useTasksFilterOptions.ts#L101-L110) ‚Äî —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ employee options

---

## üîñ –ë–ê–ì #25: –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∫–Ω–æ–ø–∫–∞ –æ—á–∏—Å—Ç–∫–∏ –ø—Ä–∏ –≤–≤–æ–¥–µ –∫–ª—é—á–∞ –±–µ–∑ –∑–Ω–∞—á–µ–Ω–∏—è

**–î–∞—Ç–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è:** 2025-12-30

**–õ–æ–∫–∞—Ü–∏—è:** `/tasks` ‚Üí –ò–Ω–ª–∞–π–Ω —Ñ–∏–ª—å—Ç—Ä ‚Üí –í–≤–æ–¥ –∫–ª—é—á–∞ –±–µ–∑ –∑–Ω–∞—á–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–∫–æ–º–∞–Ω–¥–∞:")

#### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

**–¢–µ–∫—É—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –∫–ª—é—á —Ñ–∏–ª—å—Ç—Ä–∞ —Å –¥–≤–æ–µ—Ç–æ—á–∏–µ–º, –Ω–∞–ø—Ä–∏–º–µ—Ä "–∫–æ–º–∞–Ω–¥–∞:"
- Input —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–µ–∫—Å—Ç, –Ω–æ –∫–Ω–æ–ø–∫–∞ –æ—á–∏—Å—Ç–∫–∏ (–∫—Ä–µ—Å—Ç–∏–∫) –≤ –∫–æ–Ω—Ü–µ —Å—Ç—Ä–æ–∫–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –≤—Ä—É—á–Ω—É—é —É–¥–∞–ª—è—Ç—å —Ç–µ–∫—Å—Ç –∫–ª–∞–≤–∏—à–µ–π Backspace
- –≠—Ç–æ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ, —Ç.–∫. –≤ –ø–æ–ª–µ –µ—Å—Ç—å –Ω–µ–ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞

**–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ï—Å–ª–∏ –≤ input –µ—Å—Ç—å –ª—é–±–æ–π —Ç–µ–∫—Å—Ç (–¥–∞–∂–µ —á–∞—Å—Ç–∏—á–Ω—ã–π –∫–ª—é—á –∏–ª–∏ –∫–ª—é—á –±–µ–∑ –∑–Ω–∞—á–µ–Ω–∏—è), –¥–æ–ª–∂–Ω–∞ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∫–Ω–æ–ø–∫–∞ –æ—á–∏—Å—Ç–∫–∏
- –ö–ª–∏–∫ –ø–æ –∫–Ω–æ–ø–∫–µ –¥–æ–ª–∂–µ–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—á–∏—â–∞—Ç—å input
- –≠—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ UX-–ø–æ–≤–µ–¥–µ–Ω–∏–µ –¥–ª—è –ø–æ–∏—Å–∫–æ–≤—ã—Ö/—Ñ–∏–ª—å—Ç—Ä–æ–≤—ã—Ö input'–æ–≤

**–ì–¥–µ –ø—Ä–æ—è–≤–ª—è–µ—Ç—Å—è:**
- –í—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å `InlineFilter`: `/tasks`, `/budgets`, Resource Graph
- –ü—Ä–∏ –≤–≤–æ–¥–µ –ª—é–±–æ–≥–æ –∫–ª—é—á–∞ —Å –¥–≤–æ–µ—Ç–æ—á–∏–µ–º –±–µ–∑ –∑–Ω–∞—á–µ–Ω–∏—è

**–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ:**
1. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ `/tasks`
2. –ö–ª–∏–∫–Ω—É—Ç—å –≤ –ø–æ–ª–µ –∏–Ω–ª–∞–π–Ω —Ñ–∏–ª—å—Ç—Ä–∞
3. –í–≤–µ—Å—Ç–∏ "–∫–æ–º–∞–Ω–¥–∞:" (–∏–ª–∏ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π –∫–ª—é—á —Å –¥–≤–æ–µ—Ç–æ—á–∏–µ–º)
4. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –ø—Ä–∞–≤—É—é —á–∞—Å—Ç—å input
5. **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ö–Ω–æ–ø–∫–∏ –æ—á–∏—Å—Ç–∫–∏ (–∫—Ä–µ—Å—Ç–∏–∫) –Ω–µ—Ç, —Ö–æ—Ç—è –ø–æ–ª–µ –Ω–µ –ø—É—Å—Ç–æ–µ

#### –ü—Ä–∏—á–∏–Ω–∞

**Root cause:** –ö–Ω–æ–ø–∫–∞ –æ—á–∏—Å—Ç–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ `filterCount > 0`, –Ω–æ –ø–∞—Ä—Å–µ—Ä –Ω–µ —Å—á–∏—Ç–∞–µ—Ç "–∫–ª—é—á:" (–±–µ–∑ –∑–Ω–∞—á–µ–Ω–∏—è) –≤–∞–ª–∏–¥–Ω—ã–º —Ç–æ–∫–µ–Ω–æ–º, –ø–æ—ç—Ç–æ–º—É `filterCount = 0`.

**–ü—Ä–æ–±–ª–µ–º–Ω—ã–π –∫–æ–¥:**

```typescript
// –§–∞–π–ª: modules/inline-filter/parser.ts:36

// ‚ùå Regex —Ç—Ä–µ–±—É–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ—Å–ª–µ –¥–≤–æ–µ—Ç–æ—á–∏—è
const TOKEN_REGEX = /([^\s:]+):(?:"([^"]+)"|([^\s]+))/g
//                                 ^^^^^^^^^^^^^^^^^^^^
//                          –ì—Ä—É–ø–ø–∞ 2 –∏–ª–∏ 3 –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞ (–∑–Ω–∞—á–µ–Ω–∏–µ)

// –ü—Ä–∏–º–µ—Ä—ã:
// "–∫–æ–º–∞–Ω–¥–∞:–ê–ª—å—Ñ–∞"     ‚Üí –º–∞—Ç—á–∏—Ç ‚úÖ (–≥—Ä—É–ø–ø–∞ 3 = "–ê–ª—å—Ñ–∞")
// '–∫–æ–º–∞–Ω–¥–∞:"–ë–µ—Ç–∞"'    ‚Üí –º–∞—Ç—á–∏—Ç ‚úÖ (–≥—Ä—É–ø–ø–∞ 2 = "–ë–µ—Ç–∞")
// "–∫–æ–º–∞–Ω–¥–∞:"          ‚Üí –ù–ï –º–∞—Ç—á–∏—Ç ‚ùå (–Ω–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è)
```

**–õ–æ–≥–∏–∫–∞ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ:**

```typescript
// –§–∞–π–ª: modules/inline-filter/components/InlineFilter.tsx:234

const parsedTokens = useMemo(
  () => parseFilterString(localValue, config).tokens,
  [localValue, config]
)
const filterCount = parsedTokens.length  // –î–ª—è "–∫–æ–º–∞–Ω–¥–∞:" = 0

// ...

// –§–∞–π–ª: modules/inline-filter/components/InlineFilter.tsx:379
{filterCount > 0 && (  // ‚ùå –î–ª—è "–∫–æ–º–∞–Ω–¥–∞:" = false
  <div className="flex items-center gap-1 pr-2">
    <span>{filterCount}</span>
    <button onClick={clearAll}>
      <X className="h-3.5 w-3.5" />  // –ö–Ω–æ–ø–∫–∞ –æ—á–∏—Å—Ç–∫–∏
    </button>
  </div>
)}
```

**–ü–æ—á–µ–º—É —ç—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞:**

1. **–ù–∞—Ä—É—à–µ–Ω–∏–µ UX –æ–∂–∏–¥–∞–Ω–∏–π:** –í –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å –ø–æ–∏—Å–∫–æ–º/—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –∫–Ω–æ–ø–∫–∞ –æ—á–∏—Å—Ç–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –ª—é–±–æ–º –Ω–µ–ø—É—Å—Ç–æ–º input
2. **–ù–µ–∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å:** –ï—Å–ª–∏ –≤–≤–µ—Å—Ç–∏ "–∫–æ–º–∞–Ω–¥–∞:–ê", –∫–Ω–æ–ø–∫–∞ –ø–æ—è–≤–∏—Ç—Å—è. –ï—Å–ª–∏ —É–¥–∞–ª–∏—Ç—å "–ê", –∫–Ω–æ–ø–∫–∞ –ø—Ä–æ–ø–∞–¥—ë—Ç ‚Äî –Ω–µ–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ
3. **–ù–µ—É–¥–æ–±—Å—Ç–≤–æ:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç "–∫–æ–º–∞–Ω–¥–∞:", –ø–æ–Ω–∏–º–∞–µ—Ç —á—Ç–æ –æ—à–∏–±—Å—è, –Ω–µ –≤–∏–¥–∏—Ç –∫–Ω–æ–ø–∫–∏ –æ—á–∏—Å—Ç–∫–∏, –≤—ã–Ω—É–∂–¥–µ–Ω –≤—Ä—É—á–Ω—É—é —É–¥–∞–ª—è—Ç—å
4. **–ù–µ –æ—á–µ–≤–∏–¥–Ω–æ:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –ø–æ–Ω–∏–º–∞–µ—Ç, –ø–æ—á–µ–º—É –≤ –æ–¥–Ω–æ–º —Å–ª—É—á–∞–µ –∫–Ω–æ–ø–∫–∞ –µ—Å—Ç—å, –≤ –¥—Ä—É–≥–æ–º –Ω–µ—Ç

#### –õ–æ–∫–∞—Ü–∏—è –∫–æ–¥–∞

**–§–∞–π–ª—ã —Å –ø—Ä–æ–±–ª–µ–º–æ–π:**

1. **–û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª** ‚Äî —É—Å–ª–æ–≤–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–Ω–æ–ø–∫–∏:
   - [modules/inline-filter/components/InlineFilter.tsx:379](../modules/inline-filter/components/InlineFilter.tsx#L379) ‚Äî `{filterCount > 0 && ...}`
   - [modules/inline-filter/components/InlineFilter.tsx:234](../modules/inline-filter/components/InlineFilter.tsx#L234) ‚Äî `const filterCount = parsedTokens.length`
   - –ó–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç —Å—Ç—Ä–æ–∫–∏: 378-396

2. **–ü–∞—Ä—Å–µ—Ä** ‚Äî –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —á—Ç–æ —Å—á–∏—Ç–∞–µ—Ç—Å—è —Ç–æ–∫–µ–Ω–æ–º:
   - [modules/inline-filter/parser.ts:36](../modules/inline-filter/parser.ts#L36) ‚Äî `TOKEN_REGEX` —Ç—Ä–µ–±—É–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ
   - [modules/inline-filter/parser.ts:75-122](../modules/inline-filter/parser.ts#L75-L122) ‚Äî —Ñ—É–Ω–∫—Ü–∏—è `parseFilterString`

3. **–õ–æ–≥–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏** ‚Äî —Ñ—É–Ω–∫—Ü–∏—è clearAll:
   - [modules/inline-filter/components/InlineFilter.tsx:223-227](../modules/inline-filter/components/InlineFilter.tsx#L223-L227) ‚Äî `clearAll()` callback

**–ó–∞—Ç—Ä–∞–≥–∏–≤–∞–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- `InlineFilter` ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å –ª–æ–≥–∏–∫–æ–π –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–Ω–æ–ø–∫–∏
- `parseFilterString` ‚Äî –ø–∞—Ä—Å–µ—Ä —Ñ–∏–ª—å—Ç—Ä–æ–≤, –æ–ø—Ä–µ–¥–µ–ª—è—é—â–∏–π `filterCount`

**–ó–∞—Ç—Ä–∞–≥–∏–≤–∞–µ–º—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã:**
- `/tasks` ‚Äî TasksView
- `/budgets` ‚Äî BudgetsView
- Resource Graph ‚Äî —Ñ–∏–ª—å—Ç—Ä—ã

#### –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ—à–µ–Ω–∏—è

**‚ùå –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:**
- –ò–∑–º–µ–Ω—è—Ç—å `TOKEN_REGEX` –¥–ª—è –º–∞—Ç—á–∏–Ω–≥–∞ –∫–ª—é—á–µ–π –±–µ–∑ –∑–Ω–∞—á–µ–Ω–∏–π ‚Äî –º–æ–∂–µ—Ç —Å–ª–æ–º–∞—Ç—å –ø–∞—Ä—Å–∏–Ω–≥ –∏ —Å–æ–∑–¥–∞—Ç—å "—Ñ–∞–Ω—Ç–æ–º–Ω—ã–µ" —Ñ–∏–ª—å—Ç—Ä—ã
- –°–æ–∑–¥–∞–≤–∞—Ç—å —Ç–æ–∫–µ–Ω—ã —Å –ø—É—Å—Ç—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ ‚Äî –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –±–∞–≥–∞–º –≤ query generation

**‚úÖ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:**

---

**–í–∞—Ä–∏–∞–Ω—Ç 1: –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–Ω–æ–ø–∫—É –ø—Ä–∏ –ª—é–±–æ–º –Ω–µ–ø—É—Å—Ç–æ–º input ‚≠ê**

–°–∞–º–æ–µ –ø—Ä–æ—Å—Ç–æ–µ –∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ UX-—Ä–µ—à–µ–Ω–∏–µ ‚Äî –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É –æ—á–∏—Å—Ç–∫–∏ –µ—Å–ª–∏ –≤ input –µ—Å—Ç—å –ª—é–±–æ–π —Ç–µ–∫—Å—Ç.

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

```typescript
// –ë—ã–ª–æ (InlineFilter.tsx:379):
{filterCount > 0 && (
  <div className="flex items-center gap-1 pr-2">
    <span className="text-xs text-muted-foreground tabular-nums">
      {filterCount}
    </span>
    <button onClick={clearAll}>
      <X className="h-3.5 w-3.5" />
    </button>
  </div>
)}

// –°—Ç–∞–ª–æ (–≤–∞—Ä–∏–∞–Ω—Ç –ê ‚Äî –∫–Ω–æ–ø–∫–∞ –≤—Å–µ–≥–¥–∞, —Å—á—ë—Ç—á–∏–∫ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –µ—Å—Ç—å —Ç–æ–∫–µ–Ω—ã):
{localValue.trim() && (
  <div className="flex items-center gap-1 pr-2">
    {filterCount > 0 && (
      <span className="text-xs text-muted-foreground tabular-nums">
        {filterCount}
      </span>
    )}
    <button onClick={clearAll}>
      <X className="h-3.5 w-3.5" />
    </button>
  </div>
)}

// –ò–ª–∏ (–≤–∞—Ä–∏–∞–Ω—Ç –ë ‚Äî –∫–Ω–æ–ø–∫–∞ –≤—Å–µ–≥–¥–∞, —Å—á—ë—Ç—á–∏–∫ —Å–∫—Ä—ã—Ç –µ—Å–ª–∏ –Ω–µ—Ç —Ç–æ–∫–µ–Ω–æ–≤):
{localValue.trim() && (
  <div className="flex items-center gap-1 pr-2">
    <span className="text-xs text-muted-foreground tabular-nums">
      {filterCount || ''}
    </span>
    <button onClick={clearAll}>
      <X className="h-3.5 w-3.5" />
    </button>
  </div>
)}
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –ü—Ä–æ—Å—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ ‚Äî –æ–¥–Ω–∞ —Å—Ç—Ä–æ–∫–∞ –∫–æ–¥–∞
- ‚úÖ –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ UX-–ø–æ–≤–µ–¥–µ–Ω–∏–µ (–∫–∞–∫ –≤ GitHub, Gmail, VS Code)
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—Å–µ–≥–¥–∞ –≤–∏–¥–∏—Ç –∫–Ω–æ–ø–∫—É –æ—á–∏—Å—Ç–∫–∏ –ø—Ä–∏ –Ω–µ–ø—É—Å—Ç–æ–º input
- ‚úÖ –ù–µ –∏–∑–º–µ–Ω—è–µ—Ç –ª–æ–≥–∏–∫—É –ø–∞—Ä—Å–∏–Ω–≥–∞ ‚Äî –Ω–µ—Ç —Ä–∏—Å–∫–∞ —Å–ª–æ–º–∞—Ç—å query generation

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –ù–µ—Ç (—ç—Ç–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ UX-—Ä–µ—à–µ–Ω–∏–µ)

---

**–í–∞—Ä–∏–∞–Ω—Ç 2: –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–Ω–æ–ø–∫—É –µ—Å–ª–∏ –µ—Å—Ç—å —Ç–æ–∫–µ–Ω—ã –ò–õ–ò –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π –≤–≤–æ–¥**

–î–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–∏—Ç—É–∞—Ü–∏—é "–µ—Å—Ç—å —Ç–µ–∫—Å—Ç, –Ω–æ –Ω–µ—Ç —Ç–æ–∫–µ–Ω–æ–≤" –∏ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–Ω–æ–ø–∫—É:

```typescript
// InlineFilter.tsx:
const hasContent = localValue.trim().length > 0
const hasInvalidInput = hasContent && filterCount === 0

{(filterCount > 0 || hasInvalidInput) && (
  <div className="flex items-center gap-1 pr-2">
    {filterCount > 0 && (
      <span className="text-xs text-muted-foreground tabular-nums">
        {filterCount}
      </span>
    )}
    <button onClick={clearAll}>
      <X className="h-3.5 w-3.5" />
    </button>
  </div>
)}
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –Ø–≤–Ω–æ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ –Ω–µ–≤–∞–ª–∏–¥–Ω–æ–≥–æ –≤–≤–æ–¥–∞
- ‚úÖ –°—á—ë—Ç—á–∏–∫ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –≤–∞–ª–∏–¥–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –ë–æ–ª–µ–µ —Å–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞
- ‚ùå –ù–µ –Ω—É–∂–Ω–∞ ‚Äî –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –í–∞—Ä–∏–∞–Ω—Ç–∞ 1

---

**–í–∞—Ä–∏–∞–Ω—Ç 3: –î–æ–±–∞–≤–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω—É—é –∫–Ω–æ–ø–∫—É –æ—á–∏—Å—Ç–∫–∏ –±–µ–∑ —Å—á—ë—Ç—á–∏–∫–∞**

–í—Å–µ–≥–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –∏–∫–æ–Ω–∫—É –æ—á–∏—Å—Ç–∫–∏, —Å—á—ë—Ç—á–∏–∫ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ:

```typescript
{/* –°—á—ë—Ç—á–∏–∫ —Ç–æ–∫–µ–Ω–æ–≤ */}
{filterCount > 0 && (
  <span className="text-xs text-muted-foreground tabular-nums">
    {filterCount}
  </span>
)}

{/* –ö–Ω–æ–ø–∫–∞ –æ—á–∏—Å—Ç–∫–∏ (–≤—Å–µ–≥–¥–∞ –µ—Å–ª–∏ –µ—Å—Ç—å —Ç–µ–∫—Å—Ç) */}
{localValue.trim() && (
  <button onClick={clearAll} className="...">
    <X className="h-3.5 w-3.5" />
  </button>
)}
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –ß–∏—Å—Ç–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
- ‚úÖ –°—á—ë—Ç—á–∏–∫ –∏ –∫–Ω–æ–ø–∫–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –¢—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã ‚Äî –¥–≤–µ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –≥—Ä—É–ø–ø—ã —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- ‚ùå –ú–æ–∂–µ—Ç –Ω–∞—Ä—É—à–∏—Ç—å –≤–∏–∑—É–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å

---

#### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –í–∞—Ä–∏–∞–Ω—Ç 1–ê** ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–Ω–æ–ø–∫—É –æ—á–∏—Å—Ç–∫–∏ –ø—Ä–∏ –ª—é–±–æ–º –Ω–µ–ø—É—Å—Ç–æ–º input, —Å—á—ë—Ç—á–∏–∫ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –µ—Å—Ç—å –≤–∞–ª–∏–¥–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã.

**–ü–ª–∞–Ω –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**

1. –ò–∑–º–µ–Ω–∏—Ç—å —É—Å–ª–æ–≤–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≥—Ä—É–ø–ø—ã "—Å—á—ë—Ç—á–∏–∫ + –∫–Ω–æ–ø–∫–∞" —Å `filterCount > 0` –Ω–∞ `localValue.trim()`
2. –í–Ω—É—Ç—Ä–∏ –≥—Ä—É–ø–ø—ã –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å—á—ë—Ç—á–∏–∫ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ `filterCount > 0`
3. –ö–Ω–æ–ø–∫–∞ –æ—á–∏—Å—Ç–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤—Å–µ–≥–¥–∞ –∫–æ–≥–¥–∞ –≥—Ä—É–ø–ø–∞ –≤–∏–¥–Ω–∞
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö —Å InlineFilter

**–í—Ä–µ–º—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:** ~5 –º–∏–Ω—É—Ç

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `modules/inline-filter/components/InlineFilter.tsx` (—Å—Ç—Ä–æ–∫–∏ 378-396)

#### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–°—Ü–µ–Ω–∞—Ä–∏–π 1: –í–≤–æ–¥ –∫–ª—é—á–∞ –±–µ–∑ –∑–Ω–∞—á–µ–Ω–∏—è**
- [ ] –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ `/tasks`
- [ ] –í–≤–µ—Å—Ç–∏ "–∫–æ–º–∞–Ω–¥–∞:" (–±–µ–∑ –∑–Ω–∞—á–µ–Ω–∏—è)
- [ ] **–û–∂–∏–¥–∞–µ—Ç—Å—è:** –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–Ω–æ–ø–∫–∞ –æ—á–∏—Å—Ç–∫–∏ (–∫—Ä–µ—Å—Ç–∏–∫)
- [ ] –ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ –∫–Ω–æ–ø–∫—É –æ—á–∏—Å—Ç–∫–∏
- [ ] **–û–∂–∏–¥–∞–µ—Ç—Å—è:** Input –æ—á–∏—â–µ–Ω

**–°—Ü–µ–Ω–∞—Ä–∏–π 2: –í–≤–æ–¥ –∫–ª—é—á–∞ —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º**
- [ ] –í–≤–µ—Å—Ç–∏ "–∫–æ–º–∞–Ω–¥–∞:–ê–ª—å—Ñ–∞"
- [ ] **–û–∂–∏–¥–∞–µ—Ç—Å—è:** –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å—á—ë—Ç—á–∏–∫ "1" –∏ –∫–Ω–æ–ø–∫–∞ –æ—á–∏—Å—Ç–∫–∏
- [ ] –£–¥–∞–ª–∏—Ç—å "–ê–ª—å—Ñ–∞" (–æ—Å—Ç–∞–≤–∏—Ç—å "–∫–æ–º–∞–Ω–¥–∞:")
- [ ] **–û–∂–∏–¥–∞–µ—Ç—Å—è:** –°—á—ë—Ç—á–∏–∫ –∏—Å—á–µ–∑, –∫–Ω–æ–ø–∫–∞ –æ—á–∏—Å—Ç–∫–∏ –û–°–¢–ê–õ–ê–°–¨

**–°—Ü–µ–Ω–∞—Ä–∏–π 3: –ü—É—Å—Ç–æ–π input**
- [ ] –û—á–∏—Å—Ç–∏—Ç—å input –ø–æ–ª–Ω–æ—Å—Ç—å—é
- [ ] **–û–∂–∏–¥–∞–µ—Ç—Å—è:** –ù–∏ —Å—á—ë—Ç—á–∏–∫–∞, –Ω–∏ –∫–Ω–æ–ø–∫–∏ –æ—á–∏—Å—Ç–∫–∏ –Ω–µ—Ç

**–°—Ü–µ–Ω–∞—Ä–∏–π 4: –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã**
- [ ] –í–≤–µ—Å—Ç–∏ "–ø—Ä–æ–µ–∫—Ç:A –æ—Ç–¥–µ–ª:–ë –∫–æ–º–∞–Ω–¥–∞:"
- [ ] **–û–∂–∏–¥–∞–µ—Ç—Å—è:** –°—á—ë—Ç—á–∏–∫ "2" (–¥–≤–∞ –≤–∞–ª–∏–¥–Ω—ã—Ö —Ç–æ–∫–µ–Ω–∞), –∫–Ω–æ–ø–∫–∞ –æ—á–∏—Å—Ç–∫–∏ –µ—Å—Ç—å
- [ ] –ö–ª–∏–∫–Ω—É—Ç—å –æ—á–∏—Å—Ç–∫—É
- [ ] **–û–∂–∏–¥–∞–µ—Ç—Å—è:** –í—Å—ë –æ—á–∏—â–µ–Ω–æ

**–°—Ü–µ–Ω–∞—Ä–∏–π 5: –ü—Ä–æ–±–µ–ª—ã**
- [ ] –í–≤–µ—Å—Ç–∏ —Ç–æ–ª—å–∫–æ –ø—Ä–æ–±–µ–ª—ã "   "
- [ ] **–û–∂–∏–¥–∞–µ—Ç—Å—è:** –ö–Ω–æ–ø–∫–∏ –æ—á–∏—Å—Ç–∫–∏ –Ω–µ—Ç (—Ç.–∫. `localValue.trim()` = '')

**–°—Ü–µ–Ω–∞—Ä–∏–π 6: –ß–∞—Å—Ç–∏—á–Ω—ã–π –≤–≤–æ–¥**
- [ ] –í–≤–µ—Å—Ç–∏ "–∫–æ–º" (–±–µ–∑ –¥–≤–æ–µ—Ç–æ—á–∏—è)
- [ ] **–û–∂–∏–¥–∞–µ—Ç—Å—è:** –ö–Ω–æ–ø–∫–∞ –æ—á–∏—Å—Ç–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è
- [ ] –ö–ª–∏–∫–Ω—É—Ç—å –æ—á–∏—Å—Ç–∫—É
- [ ] **–û–∂–∏–¥–∞–µ—Ç—Å—è:** Input –æ—á–∏—â–µ–Ω

**–°—Ü–µ–Ω–∞—Ä–∏–π 7: –î—Ä—É–≥–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã**
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `/budgets` ‚Äî —Ç–æ –∂–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Resource Graph —Ñ–∏–ª—å—Ç—Ä—ã ‚Äî —Ç–æ –∂–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ

---

#### –í—ã–≤–æ–¥—ã

**Root cause:**
- –ö–Ω–æ–ø–∫–∞ –æ—á–∏—Å—Ç–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ `filterCount > 0`
- –ü–∞—Ä—Å–µ—Ä –Ω–µ —Å—á–∏—Ç–∞–µ—Ç "–∫–ª—é—á:" –±–µ–∑ –∑–Ω–∞—á–µ–Ω–∏—è –≤–∞–ª–∏–¥–Ω—ã–º —Ç–æ–∫–µ–Ω–æ–º
- –ü—Ä–∏ –≤–≤–æ–¥–µ "–∫–æ–º–∞–Ω–¥–∞:" filterCount –æ—Å—Ç–∞—ë—Ç—Å—è 0, –∫–Ω–æ–ø–∫–∞ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è

**Impact:**
- **Users affected:** –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü `/tasks`, `/budgets`, Resource Graph
- **Severity:** Low ‚Äî –Ω–µ—É–¥–æ–±—Å—Ç–≤–æ, –Ω–æ –Ω–µ –±–ª–æ–∫–µ—Ä
- **Frequency:** –ü—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –≤–≤–æ–¥–µ –∫–ª—é—á–∞ –±–µ–∑ –∑–Ω–∞—á–µ–Ω–∏—è (—á–∞—Å—Ç–∞—è —Å–∏—Ç—É–∞—Ü–∏—è –ø—Ä–∏ –ø–µ—á–∞—Ç–∏ –∏–ª–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ —Ñ–∏–ª—å—Ç—Ä–∞)
- **Scope:** –ú–æ–¥—É–ª—å `inline-filter` ‚Äî –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å —ç—Ç–∏–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º

**Solution:**
- –ò–∑–º–µ–Ω–∏—Ç—å —É—Å–ª–æ–≤–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–Ω–æ–ø–∫–∏ —Å `filterCount > 0` –Ω–∞ `localValue.trim()`
- –°—á—ë—Ç—á–∏–∫ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ `filterCount > 0`
- –í—Ä–µ–º—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è: ~5 –º–∏–Ω—É—Ç

**Prevention:**
- UX review guideline: –≤—Å–µ input'—ã —Å –ø–æ–∏—Å–∫–æ–º/—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å –∫–Ω–æ–ø–∫—É –æ—á–∏—Å—Ç–∫–∏ –ø—Ä–∏ –Ω–µ–ø—É—Å—Ç–æ–º –∑–Ω–∞—á–µ–Ω–∏–∏
- Component testing: –ø—Ä–æ–≤–µ—Ä—è—Ç—å edge cases (–ø—É—Å—Ç–æ–π input, —á–∞—Å—Ç–∏—á–Ω—ã–π –≤–≤–æ–¥, –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π –≤–≤–æ–¥)

**Related:**
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤ –∞–Ω–∞–ª–æ–≥–∞—Ö:
  - GitHub search ‚Äî –∫–Ω–æ–ø–∫–∞ –æ—á–∏—Å—Ç–∫–∏ –ø—Ä–∏ –ª—é–±–æ–º —Ç–µ–∫—Å—Ç–µ
  - Gmail search ‚Äî –∫–Ω–æ–ø–∫–∞ –æ—á–∏—Å—Ç–∫–∏ –ø—Ä–∏ –ª—é–±–æ–º —Ç–µ–∫—Å—Ç–µ
  - VS Code search ‚Äî –∫–Ω–æ–ø–∫–∞ –æ—á–∏—Å—Ç–∫–∏ –ø—Ä–∏ –ª—é–±–æ–º —Ç–µ–∫—Å—Ç–µ

**–°—Å—ã–ª–∫–∏:**
- [modules/inline-filter/components/InlineFilter.tsx:379](../modules/inline-filter/components/InlineFilter.tsx#L379) ‚Äî —É—Å–ª–æ–≤–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–Ω–æ–ø–∫–∏
- [modules/inline-filter/components/InlineFilter.tsx:234](../modules/inline-filter/components/InlineFilter.tsx#L234) ‚Äî –ø–æ–¥—Å—á—ë—Ç filterCount
- [modules/inline-filter/components/InlineFilter.tsx:223-227](../modules/inline-filter/components/InlineFilter.tsx#L223-L227) ‚Äî —Ñ—É–Ω–∫—Ü–∏—è clearAll
- [modules/inline-filter/parser.ts:36](../modules/inline-filter/parser.ts#L36) ‚Äî TOKEN_REGEX

---

## üîñ –ë–ê–ì #26: –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —ç—Ç–∞–ø–∞ –∏–∑ Kanban –∫–∞—Ä—Ç–æ—á–∫–∏

**–î–∞—Ç–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è:** 2025-12-30

**–õ–æ–∫–∞—Ü–∏—è:** `/tasks` ‚Üí –í–∫–ª–∞–¥–∫–∞ "–ö–∞–Ω–±–∞–Ω" ‚Üí –ö–ª–∏–∫ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É —ç—Ç–∞–ø–∞

#### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

**–¢–µ–∫—É—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –í Kanban-–¥–æ—Å–∫–µ –µ—Å—Ç—å –∫–∞—Ä—Ç–æ—á–∫–∏ —ç—Ç–∞–ø–æ–≤ (KanbanCard)
- –ö–∞—Ä—Ç–æ—á–∫–∏ –º–æ–∂–Ω–æ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞—Ç—å –º–µ–∂–¥—É –∫–æ–ª–æ–Ω–∫–∞–º–∏ (drag & drop)
- –ú–æ–∂–Ω–æ —Ä–∞—Å–∫—Ä—ã—Ç—å —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á (–∫–ª–∏–∫ –Ω–∞ ChevronDown)
- –ú–æ–∂–Ω–æ –∫–ª–∏–∫–Ω—É—Ç—å –Ω–∞ –∑–∞–¥–∞—á—É –≤–Ω—É—Ç—Ä–∏ —ç—Ç–∞–ø–∞ ‚Äî –æ—Ç–∫—Ä–æ–µ—Ç—Å—è TaskSidebar –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–¥–∞—á–∏
- **–ù–û:** –ù–µ—Ç —Å–ø–æ—Å–æ–±–∞ –æ—Ç–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª–∫—É —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–∞–º–æ–≥–æ —ç—Ç–∞–ø–∞ (StageModal)

**–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ö–ª–∏–∫ –Ω–∞ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∫–∞—Ä—Ç–æ—á–∫–∏ —ç—Ç–∞–ø–∞ (–∏–ª–∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –∫–Ω–æ–ø–∫–∞/–∏–∫–æ–Ω–∫–∞) –¥–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã–≤–∞—Ç—å StageModal
- –í –º–æ–¥–∞–ª–∫–µ –º–æ–∂–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å: –Ω–∞–∑–≤–∞–Ω–∏–µ, –æ–ø–∏—Å–∞–Ω–∏–µ, –¥–∞—Ç—ã –Ω–∞—á–∞–ª–∞/–æ–∫–æ–Ω—á–∞–Ω–∏—è, —Å—Ç–∞—Ç—É—Å, –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã—Ö
- –≠—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π UX-–ø–∞—Ç—Ç–µ—Ä–Ω: –∫–∞—Ä—Ç–æ—á–∫–∞ ‚Üí –∫–ª–∏–∫ ‚Üí —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –∫–∞–∫ —Å –∑–∞–¥–∞—á–∞–º–∏: –∫–ª–∏–∫ –Ω–∞ –∑–∞–¥–∞—á—É ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è TaskSidebar

**–ì–¥–µ –ø—Ä–æ—è–≤–ª—è–µ—Ç—Å—è:**
- –°—Ç—Ä–∞–Ω–∏—Ü–∞ `/tasks`, –≤–∫–ª–∞–¥–∫–∞ "–ö–∞–Ω–±–∞–Ω"
- –í—Å–µ –∫–∞—Ä—Ç–æ—á–∫–∏ —ç—Ç–∞–ø–æ–≤ (KanbanCard)

**–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ:**
1. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ `/tasks`
2. –í—ã–±—Ä–∞—Ç—å –≤–∫–ª–∞–¥–∫—É "–ö–∞–Ω–±–∞–Ω"
3. –ù–∞–π—Ç–∏ –ª—é–±—É—é –∫–∞—Ä—Ç–æ—á–∫—É —ç—Ç–∞–ø–∞
4. –ü–æ–ø—ã—Ç–∞—Ç—å—Å—è –æ—Ç–∫—Ä—ã—Ç—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —ç—Ç–∞–ø–∞ (–Ω–∞–∑–≤–∞–Ω–∏–µ, –¥–∞—Ç—ã, —Å—Ç–∞—Ç—É—Å, –∏ —Ç.–¥.)
5. **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ù–µ—Ç UI —ç–ª–µ–º–µ–Ω—Ç–∞ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è ‚Äî —Ç–æ–ª—å–∫–æ drag & drop –∏ —Ä–∞—Å–∫—Ä—ã—Ç–∏–µ —Å–ø–∏—Å–∫–∞ –∑–∞–¥–∞—á

#### –ü—Ä–∏—á–∏–Ω–∞

**Root cause:** –í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ `KanbanCard` –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å–æ `StageModal` ‚Äî –Ω–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è, –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –∏ –∫–Ω–æ–ø–∫–∏ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª–∫–∏.

**–¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**

```typescript
// –§–∞–π–ª: modules/kanban/components/KanbanCard.tsx:377-560

export function KanbanCard({
  stage,
  section,
  onDragStart,
  onDragEnd,
  isDragging
}: KanbanCardProps) {
  const [isExpanded, setIsExpanded] = useState(false)

  // ‚ùå –ù–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è StageModal
  // ‚ùå –ù–µ—Ç –∏–º–ø–æ—Ä—Ç–∞ StageModal
  // ‚ùå –ù–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª–∫–∏

  return (
    <div
      draggable
      onDragStart={handleDragStart}
      onDragEnd={onDragEnd}
      className="..."
    >
      {/* Card Header */}
      <div className="p-3 pl-4">
        {/* Title row */}
        <div className="flex items-start gap-2 mb-2">
          <h4 className="...">
            {stage.name}  {/* ‚ùå –ù–µ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–æ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è */}
          </h4>

          {/* Expand/Collapse button */}
          {tasksCount > 0 && (
            <button onClick={handleToggle}>
              <ChevronDown />
            </button>
          )}
        </div>
        {/* ... */}
      </div>

      {/* ‚ùå –ù–µ—Ç —Ä–µ–Ω–¥–µ—Ä–∞ StageModal */}
    </div>
  )
}
```

**–î–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è ‚Äî TaskItem —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**

```typescript
// –§–∞–π–ª: modules/kanban/components/KanbanCard.tsx:27-232

function TaskItem({ task, section, stage }: TaskItemProps) {
  const [isTaskSidebarOpen, setIsTaskSidebarOpen] = useState(false)  // ‚úÖ –°–æ—Å—Ç–æ—è–Ω–∏–µ

  return (
    <>
      <div className="flex items-center gap-2 py-2">
        <span
          className="... cursor-pointer hover:text-primary"  // ‚úÖ –ö–ª–∏–∫–∞–±–µ–ª—å–Ω–æ
          onClick={() => setIsTaskSidebarOpen(true)}  // ‚úÖ –û—Ç–∫—Ä—ã—Ç–∏–µ sidebar
        >
          {task.description}
        </span>
      </div>

      {/* ‚úÖ –†–µ–Ω–¥–µ—Ä –º–æ–¥–∞–ª–∫–∏ */}
      <TaskSidebar
        isOpen={isTaskSidebarOpen}
        onClose={() => setIsTaskSidebarOpen(false)}
        onSuccess={() => { /* invalidate cache */ }}
        task={...}
        taskId={task.id}
        sectionId={section.id}
        stageId={stage.id}
      />
    </>
  )
}
```

**–ü–æ—á–µ–º—É —ç—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞:**

1. **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ä–∞–∑—Ä—ã–≤:** –ú–æ–∂–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–¥–∞—á–∏, –Ω–æ –Ω–µ–ª—å–∑—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–∞–ø ‚Äî –Ω–µ–ª–æ–≥–∏—á–Ω–æ
2. **–ù–µ—É–¥–æ–±—Å—Ç–≤–æ:** –î–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —ç—Ç–∞–ø–∞ –Ω—É–∂–Ω–æ –∏–¥—Ç–∏ –≤ –¥—Ä—É–≥–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ (Resource Graph) –∏–ª–∏ –Ω–∞–ø—Ä—è–º—É—é –≤ –ë–î
3. **–ù–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å UX:** –í –æ–¥–Ω–æ–º –º–æ–¥—É–ª–µ (Kanban) —Ä–∞–∑–Ω–∞—è –ª–æ–≥–∏–∫–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —É—Ä–æ–≤–Ω–µ–π –∏–µ—Ä–∞—Ä—Ö–∏–∏
4. **–ü–æ—Ç–µ—Ä—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ Kanban, –Ω–æ –¥–æ–ª–∂–µ–Ω –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –≤ –¥—Ä—É–≥–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —ç—Ç–∞–ø–∞

#### –õ–æ–∫–∞—Ü–∏—è –∫–æ–¥–∞

**–§–∞–π–ª—ã —Å –ø—Ä–æ–±–ª–µ–º–æ–π:**

1. **–û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª** ‚Äî –∫–æ–º–ø–æ–Ω–µ–Ω—Ç KanbanCard:
   - [modules/kanban/components/KanbanCard.tsx:377-560](../modules/kanban/components/KanbanCard.tsx#L377-L560) ‚Äî –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `KanbanCard`
   - –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç: —Å–æ—Å—Ç–æ—è–Ω–∏–µ modal, –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—Ç–∫—Ä—ã—Ç–∏—è, —Ä–µ–Ω–¥–µ—Ä StageModal
   - –ó–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç —Å—Ç—Ä–æ–∫–∏: 377-560 (–≤–µ—Å—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç)

2. **–ò–º–ø–æ—Ä—Ç—ã** ‚Äî –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏–º–ø–æ—Ä—Ç StageModal:
   - [modules/kanban/components/KanbanCard.tsx:1-19](../modules/kanban/components/KanbanCard.tsx#L1-L19) ‚Äî –∏–º–ø–æ—Ä—Ç—ã
   - –ï—Å—Ç—å: `WorkLogCreateModal, TaskSidebar`
   - –ù–µ—Ç: `StageModal`

3. **–ú–æ–¥–∞–ª–∫–∞ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏** ‚Äî —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç:
   - [modules/modals/components/stage/StageModal.tsx:62-69](../modules/modals/components/stage/StageModal.tsx#L62-L69) ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ props
   - [modules/modals/index.ts:142](../modules/modals/index.ts#L142) ‚Äî —ç–∫—Å–ø–æ—Ä—Ç StageModal

4. **–¢–∏–ø—ã** ‚Äî –º–∞–ø–ø–∏–Ω–≥ –º–µ–∂–¥—É KanbanStage –∏ DecompositionStage:
   - [modules/kanban/types/index.ts:39-54](../modules/kanban/types/index.ts#L39-L54) ‚Äî KanbanStage
   - [modules/modals/actions/getDecompositionStage.ts:57-66](../modules/modals/actions/getDecompositionStage.ts#L57-L66) ‚Äî DecompositionStage

**–ó–∞—Ç—Ä–∞–≥–∏–≤–∞–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- `KanbanCard` ‚Äî –∫–∞—Ä—Ç–æ—á–∫–∞ —ç—Ç–∞–ø–∞ –±–µ–∑ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- `StageModal` ‚Äî —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è –º–æ–¥–∞–ª–∫–∞, –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ Kanban

**–ó–∞—Ç—Ä–∞–≥–∏–≤–∞–µ–º—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã:**
- `/tasks` ‚Üí –≤–∫–ª–∞–¥–∫–∞ "–ö–∞–Ω–±–∞–Ω"

#### –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ—à–µ–Ω–∏—è

**‚ùå –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:**
- –ù–µ –¥–æ–±–∞–≤–ª—è—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –±—É–¥—É—Ç –∏—Å–∫–∞—Ç—å —Å–ø–æ—Å–æ–± —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–∞–ø—ã –∏ –Ω–µ –Ω–∞–π–¥—É—Ç
- –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ tooltip —Å –ø–æ–¥—Å–∫–∞–∑–∫–æ–π "–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Resource Graph" ‚Äî –Ω–µ—É–¥–æ–±–Ω—ã–π workaround

**‚úÖ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:**

---

**–í–∞—Ä–∏–∞–Ω—Ç 1: –ö–ª–∏–∫ –Ω–∞ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç StageModal ‚≠ê**

–°–∞–º–æ–µ –ø—Ä–æ—Å—Ç–æ–µ –∏ –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ ‚Äî –∫–ª–∏–∫ –Ω–∞ –∑–∞–≥–æ–ª–æ–≤–æ–∫ —ç—Ç–∞–ø–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª–∫—É —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

```typescript
// –§–∞–π–ª: modules/kanban/components/KanbanCard.tsx

// 1. –î–æ–±–∞–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç
import { WorkLogCreateModal, TaskSidebar, StageModal } from '@/modules/modals'

// 2. –î–æ–±–∞–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ
export function KanbanCard({...}: KanbanCardProps) {
  const [isExpanded, setIsExpanded] = useState(false)
  const [isStageModalOpen, setIsStageModalOpen] = useState(false)  // ‚úÖ –ù–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

  const queryClient = useQueryClient()
  const { getQueryParams } = useKanbanFiltersStore()

  // 3. –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –Ω–∞ –∑–∞–≥–æ–ª–æ–≤–æ–∫
  const handleTitleClick = (e: React.MouseEvent) => {
    e.stopPropagation()
    setIsStageModalOpen(true)
  }

  return (
    <>
      <div draggable onDragStart={...} onDragEnd={...}>
        <div className="p-3 pl-4">
          <div className="flex items-start gap-2 mb-2">
            {/* 4. –°–¥–µ–ª–∞—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–º */}
            <h4
              className="flex-1 text-sm font-medium leading-tight line-clamp-2 text-foreground cursor-pointer hover:text-primary transition-colors"
              onClick={handleTitleClick}
              title="–ù–∞–∂–º–∏—Ç–µ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —ç—Ç–∞–ø–∞"
            >
              {stage.name}
            </h4>

            {tasksCount > 0 && (
              <button onClick={handleToggle}>
                <ChevronDown />
              </button>
            )}
          </div>
          {/* ... */}
        </div>

        {/* Expanded Tasks List */}
        {isExpanded && tasksCount > 0 && (...)}
      </div>

      {/* 5. –†–µ–Ω–¥–µ—Ä StageModal */}
      <StageModal
        isOpen={isStageModalOpen}
        onClose={() => setIsStageModalOpen(false)}
        onSuccess={() => {
          setIsStageModalOpen(false)

          // –ò–Ω–≤–∞–ª–∏–¥–∏—Ä—É–µ–º –∫–µ—à –∫–∞–Ω–±–∞–Ω–∞
          queryClient.invalidateQueries({
            queryKey: queryKeys.kanban.infinite(getQueryParams())
          })
        }}
        stage={{
          id: stage.id,
          name: stage.name,
          startDate: stage.startDate || null,
          endDate: stage.endDate || null,
          description: stage.description || null,
          statusId: null,  // TODO: –º–∞–ø–ø–∏–Ω–≥ StageStatus ‚Üí statusId
          responsibles: [],  // TODO: –ø–æ–ª—É—á–∏—Ç—å –∏–∑ –¥–∞–Ω–Ω—ã—Ö
          decompositions: stage.tasks.map(task => ({
            id: task.id,
            description: task.description,
            // ... –º–∞–ø–ø–∏–Ω–≥ KanbanTask ‚Üí DecompositionItem
          }))
        }}
        stageId={stage.id}
        sectionId={section.id}
      />
    </>
  )
}
```

**–ü—Ä–æ–±–ª–µ–º–∞ –º–∞–ø–ø–∏–Ω–≥–∞ —Ç–∏–ø–æ–≤:**

`KanbanStage` –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –ø–æ–ª—è –¥–ª—è `DecompositionStage`:
- –ù–µ—Ç `statusId` (–µ—Å—Ç—å —Ç–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫–æ–≤—ã–π `status`)
- –ù–µ—Ç `responsibles` (–º–∞—Å—Å–∏–≤ user IDs)
- –ù–µ—Ç –ø–æ–ª–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö `decompositions` (–∑–∞–¥–∞—á–∏ –≤ —Å–æ–∫—Ä–∞—â—ë–Ω–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ)

**–†–µ—à–µ–Ω–∏–µ:** –ó–∞–≥—Ä—É–∂–∞—Ç—å –ø–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –º–æ–¥–∞–ª–∫–∏:

```typescript
const [stageData, setStageData] = useState<DecompositionStage | null>(null)
const [isLoading, setIsLoading] = useState(false)

const handleTitleClick = async (e: React.MouseEvent) => {
  e.stopPropagation()
  setIsStageModalOpen(true)

  // –ó–∞–≥—Ä—É–∂–∞–µ–º –ø–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —ç—Ç–∞–ø–∞
  setIsLoading(true)
  const result = await getDecompositionStage(stage.id)
  if (result.success) {
    setStageData(result.data)
  }
  setIsLoading(false)
}

// –†–µ–Ω–¥–µ—Ä –º–æ–¥–∞–ª–∫–∏ —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã
{stageData && (
  <StageModal
    isOpen={isStageModalOpen}
    onClose={() => {
      setIsStageModalOpen(false)
      setStageData(null)
    }}
    stage={stageData}
    stageId={stage.id}
    sectionId={section.id}
  />
)}
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ ‚Äî –∫–ª–∏–∫ –Ω–∞ –∑–∞–≥–æ–ª–æ–≤–æ–∫ = —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å —Å TaskItem (–∫–ª–∏–∫ –Ω–∞ –∑–∞–¥–∞—á—É ‚Üí —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ UI
- ‚úÖ –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π StageModal

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –ö–æ–Ω—Ñ–ª–∏–∫—Ç —Å drag & drop ‚Äî –∫–ª–∏–∫ –Ω–∞ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –º–æ–∂–µ—Ç –∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ
- ‚ùå –¢—Ä–µ–±—É–µ—Ç –∑–∞–≥—Ä—É–∑–∫–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (API call)

---

**–í–∞—Ä–∏–∞–Ω—Ç 2: –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É Edit –≤ header –∫–∞—Ä—Ç–æ—á–∫–∏**

–î–æ–±–∞–≤–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω—É—é –∫–Ω–æ–ø–∫—É (–∏–∫–æ–Ω–∫—É Edit/Pencil) —Ä—è–¥–æ–º —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º.

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

```typescript
// –í header –∫–∞—Ä—Ç–æ—á–∫–∏
<div className="flex items-start gap-2 mb-2">
  <h4 className="flex-1 ...">
    {stage.name}
  </h4>

  {/* –ö–Ω–æ–ø–∫–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è */}
  <button
    onClick={(e) => {
      e.stopPropagation()
      setIsStageModalOpen(true)
    }}
    className="flex-shrink-0 p-0.5 rounded hover:bg-muted/50 transition-colors text-muted-foreground hover:text-foreground opacity-0 group-hover:opacity-100"
    title="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–∞–ø"
  >
    <Pencil className="h-3.5 w-3.5" />
  </button>

  {/* Expand button */}
  {tasksCount > 0 && (
    <button onClick={handleToggle}>
      <ChevronDown />
    </button>
  )}
</div>
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –Ø–≤–Ω–∞—è –∫–Ω–æ–ø–∫–∞ ‚Äî –Ω–µ—Ç –¥–≤—É—Å–º—ã—Å–ª–µ–Ω–Ω–æ—Å—Ç–∏
- ‚úÖ –ù–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É–µ—Ç —Å drag & drop
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ hover (–Ω–µ –∑–∞–≥—Ä–æ–º–æ–∂–¥–∞–µ—Ç UI)

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –ú–µ–Ω–µ–µ –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ ‚Äî –Ω—É–∂–Ω–æ –Ω–∞–≤–µ—Å—Ç–∏ –º—ã—à—å —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –∫–Ω–æ–ø–∫—É
- ‚ùå –ï—â—ë –æ–¥–Ω–∞ –∫–Ω–æ–ø–∫–∞ –≤ header (—É–∂–µ –µ—Å—Ç—å ChevronDown)

---

**–í–∞—Ä–∏–∞–Ω—Ç 3: –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é –ø–æ –ø—Ä–∞–≤–æ–º—É –∫–ª–∏–∫—É**

–î–æ–±–∞–≤–∏—Ç—å context menu —Å –æ–ø—Ü–∏–µ–π "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–∞–ø".

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

```typescript
const [contextMenuOpen, setContextMenuOpen] = useState(false)
const [contextMenuPosition, setContextMenuPosition] = useState({ x: 0, y: 0 })

const handleContextMenu = (e: React.MouseEvent) => {
  e.preventDefault()
  e.stopPropagation()
  setContextMenuPosition({ x: e.clientX, y: e.clientY })
  setContextMenuOpen(true)
}

return (
  <div
    draggable
    onContextMenu={handleContextMenu}
    ...
  >
    {/* Card content */}
  </div>

  {/* Context Menu */}
  {contextMenuOpen && (
    <ContextMenu
      position={contextMenuPosition}
      onClose={() => setContextMenuOpen(false)}
      items={[
        {
          label: '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–∞–ø',
          icon: Pencil,
          onClick: () => {
            setIsStageModalOpen(true)
            setContextMenuOpen(false)
          }
        },
        // ... –¥—Ä—É–≥–∏–µ –¥–µ–π—Å—Ç–≤–∏—è
      ]}
    />
  )}
)
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –ù–µ –∑–∞–Ω–∏–º–∞–µ—Ç –º–µ—Å—Ç–∞ –≤ UI
- ‚úÖ –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –¥—Ä—É–≥–∏–µ –¥–µ–π—Å—Ç–≤–∏—è (–¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å, —É–¥–∞–ª–∏—Ç—å, –∏ —Ç.–¥.)
- ‚úÖ –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è –¥–µ—Å–∫—Ç–æ–ø –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –ù–µ –æ—á–µ–≤–∏–¥–Ω–æ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–ø—Ä–∞–≤—ã–π –∫–ª–∏–∫ –Ω–µ –æ–∂–∏–¥–∞–µ—Ç—Å—è –≤ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö)
- ‚ùå –¢—Ä–µ–±—É–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ ContextMenu
- ‚ùå –ú–æ–±–∏–ª—å–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –ø—Ä–∞–≤—ã–π –∫–ª–∏–∫

---

**–í–∞—Ä–∏–∞–Ω—Ç 4: –î–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É**

–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω: –æ–¥–∏–Ω–∞—Ä–Ω—ã–π –∫–ª–∏–∫ = –≤—ã–¥–µ–ª–µ–Ω–∏–µ/drag, –¥–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ = —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ.

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

```typescript
const handleDoubleClick = (e: React.MouseEvent) => {
  e.stopPropagation()
  e.preventDefault()
  setIsStageModalOpen(true)
}

return (
  <div
    draggable
    onDragStart={...}
    onDragEnd={...}
    onDoubleClick={handleDoubleClick}
    className="..."
  >
    {/* Card content */}
  </div>
)
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –¥–µ—Å–∫—Ç–æ–ø –ø–∞—Ç—Ç–µ—Ä–Ω (—Ñ–∞–π–ª–æ–≤—ã–µ –º–µ–Ω–µ–¥–∂–µ—Ä—ã, IDE)
- ‚úÖ –ù–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É–µ—Ç —Å drag & drop
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –î–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ –Ω–µ –æ—á–µ–≤–∏–¥–µ–Ω –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞—Ö
- ‚ùå –ú–æ–∂–µ—Ç —Å–ª—É—á–∞–π–Ω–æ —Å—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø—Ä–∏ –±—ã—Å—Ç—Ä–æ–º –∫–ª–∏–∫–∞–Ω–∏–∏
- ‚ùå –ú–æ–±–∏–ª—å–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –¥–≤–æ–π–Ω–æ–π –∫–ª–∏–∫

---

#### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–±–∏–Ω–∞—Ü–∏—é –í–∞—Ä–∏–∞–Ω—Ç 1 + –í–∞—Ä–∏–∞–Ω—Ç 2:**

1. **–ö–ª–∏–∫ –Ω–∞ –∑–∞–≥–æ–ª–æ–≤–æ–∫** (–í–∞—Ä–∏–∞–Ω—Ç 1) ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π —Å–ø–æ—Å–æ–± –¥–ª—è –¥–µ—Å–∫—Ç–æ–ø –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
2. **–ö–Ω–æ–ø–∫–∞ Edit –ø—Ä–∏ hover** (–í–∞—Ä–∏–∞–Ω—Ç 2) ‚Äî –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —è–≤–Ω—ã–π —Å–ø–æ—Å–æ–±

–≠—Ç–æ –¥–∞—ë—Ç:
- –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è –æ–ø—ã—Ç–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–∫–ª–∏–∫ –Ω–∞ –∑–∞–≥–æ–ª–æ–≤–æ–∫)
- –Ø–≤–Ω—É—é –ø–æ–¥—Å–∫–∞–∑–∫—É –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–∫–Ω–æ–ø–∫–∞ Edit –ø—Ä–∏ hover)
- –ù–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É–µ—Ç —Å drag & drop (–∫–ª–∏–∫ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç propagation)

**–ü–ª–∞–Ω –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**

1. –î–æ–±–∞–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç `StageModal` –∏–∑ `@/modules/modals`
2. –î–æ–±–∞–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ `isStageModalOpen` –∏ `stageData`
3. –°–æ–∑–¥–∞—Ç—å action `getDecompositionStage` (–µ—Å–ª–∏ –µ—â—ë –Ω–µ—Ç) –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ–ª–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —ç—Ç–∞–ø–∞
4. –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –Ω–∞ –∑–∞–≥–æ–ª–æ–≤–æ–∫ + –∫–Ω–æ–ø–∫—É Edit (–ø—Ä–∏ hover)
5. –†–µ–Ω–¥–µ—Ä–∏—Ç—å `StageModal` —Å –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
6. –ò–Ω–≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –∫–µ—à Kanban –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è

**–í—Ä–µ–º—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:** ~30-45 –º–∏–Ω—É—Ç

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `modules/kanban/components/KanbanCard.tsx` (–æ—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è)
- –í–æ–∑–º–æ–∂–Ω–æ: `modules/modals/actions/getDecompositionStage.ts` (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥ Kanban)

#### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–°—Ü–µ–Ω–∞—Ä–∏–π 1: –ö–ª–∏–∫ –Ω–∞ –∑–∞–≥–æ–ª–æ–≤–æ–∫**
- [ ] –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ `/tasks` ‚Üí "–ö–∞–Ω–±–∞–Ω"
- [ ] –ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –ª—é–±–æ–π –∫–∞—Ä—Ç–æ—á–∫–∏ —ç—Ç–∞–ø–∞
- [ ] **–û–∂–∏–¥–∞–µ—Ç—Å—è:** –û—Ç–∫—Ä—ã–ª–∞—Å—å StageModal —Å –¥–∞–Ω–Ω—ã–º–∏ —ç—Ç–∞–ø–∞
- [ ] –ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ, —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å
- [ ] **–û–∂–∏–¥–∞–µ—Ç—Å—è:** –ú–æ–¥–∞–ª–∫–∞ –∑–∞–∫—Ä—ã–ª–∞—Å—å, –∫–∞—Ä—Ç–æ—á–∫–∞ –æ–±–Ω–æ–≤–∏–ª–∞—Å—å —Å –Ω–æ–≤—ã–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º

**–°—Ü–µ–Ω–∞—Ä–∏–π 2: –ö–Ω–æ–ø–∫–∞ Edit –ø—Ä–∏ hover**
- [ ] –ù–∞–≤–µ—Å—Ç–∏ –º—ã—à—å –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É —ç—Ç–∞–ø–∞
- [ ] **–û–∂–∏–¥–∞–µ—Ç—Å—è:** –ü–æ—è–≤–∏–ª–∞—Å—å –∫–Ω–æ–ø–∫–∞ Edit (–∏–∫–æ–Ω–∫–∞ Pencil)
- [ ] –ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ –∫–Ω–æ–ø–∫—É Edit
- [ ] **–û–∂–∏–¥–∞–µ—Ç—Å—è:** –û—Ç–∫—Ä—ã–ª–∞—Å—å StageModal

**–°—Ü–µ–Ω–∞—Ä–∏–π 3: Drag & drop –Ω–µ —Å–ª–æ–º–∞–Ω**
- [ ] –ù–∞—á–∞—Ç—å –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É (mousedown + drag)
- [ ] **–û–∂–∏–¥–∞–µ—Ç—Å—è:** –ö–∞—Ä—Ç–æ—á–∫–∞ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–µ—Ç—Å—è (–Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –º–æ–¥–∞–ª–∫–∞)
- [ ] –û—Ç–ø—É—Å—Ç–∏—Ç—å –≤ –¥—Ä—É–≥–æ–π –∫–æ–ª–æ–Ω–∫–µ
- [ ] **–û–∂–∏–¥–∞–µ—Ç—Å—è:** –ö–∞—Ä—Ç–æ—á–∫–∞ –ø–µ—Ä–µ–º–µ—Å—Ç–∏–ª–∞—Å—å

**–°—Ü–µ–Ω–∞—Ä–∏–π 4: –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª–µ–π**
- [ ] –û—Ç–∫—Ä—ã—Ç—å StageModal —á–µ—Ä–µ–∑ –∫–ª–∏–∫ –Ω–∞ –∑–∞–≥–æ–ª–æ–≤–æ–∫
- [ ] –ò–∑–º–µ–Ω–∏—Ç—å: –Ω–∞–∑–≤–∞–Ω–∏–µ, –æ–ø–∏—Å–∞–Ω–∏–µ, –¥–∞—Ç—ã –Ω–∞—á–∞–ª–∞/–æ–∫–æ–Ω—á–∞–Ω–∏—è
- [ ] –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
- [ ] **–û–∂–∏–¥–∞–µ—Ç—Å—è:** –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∑–∏–ª–∏—Å—å –≤ –∫–∞—Ä—Ç–æ—á–∫–µ

**–°—Ü–µ–Ω–∞—Ä–∏–π 5: –ó–∞–∫—Ä—ã—Ç–∏–µ –±–µ–∑ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è**
- [ ] –û—Ç–∫—Ä—ã—Ç—å StageModal
- [ ] –ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ
- [ ] –ó–∞–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª–∫—É (–∫—Ä–µ—Å—Ç–∏–∫ –∏–ª–∏ Escape)
- [ ] **–û–∂–∏–¥–∞–µ—Ç—Å—è:** –ò–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ —Å–æ—Ö—Ä–∞–Ω–∏–ª–∏—Å—å

**–°—Ü–µ–Ω–∞—Ä–∏–π 6: –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö**
- [ ] –ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É
- [ ] **–û–∂–∏–¥–∞–µ—Ç—Å—è:** –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ (–µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –≥—Ä—É–∑—è—Ç—Å—è –¥–æ–ª–≥–æ)
- [ ] –î–æ–∂–¥–∞—Ç—å—Å—è –∑–∞–≥—Ä—É–∑–∫–∏
- [ ] **–û–∂–∏–¥–∞–µ—Ç—Å—è:** –ú–æ–¥–∞–ª–∫–∞ –æ—Ç–∫—Ä—ã–ª–∞—Å—å —Å –ø–æ–ª–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

**–°—Ü–µ–Ω–∞—Ä–∏–π 7: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–µ—à–∞**
- [ ] –û—Ç–∫—Ä—ã—Ç—å –¥–≤–∞ –æ–∫–Ω–∞/–≤–∫–ª–∞–¥–∫–∏ —Å Kanban
- [ ] –í –æ–¥–Ω–æ–º –æ–∫–Ω–µ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–∞–ø (–∏–∑–º–µ–Ω–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ)
- [ ] **–û–∂–∏–¥–∞–µ—Ç—Å—è:** –í–æ –≤—Ç–æ—Ä–æ–º –æ–∫–Ω–µ –∫–∞—Ä—Ç–æ—á–∫–∞ –ù–ï –æ–±–Ω–æ–≤–∏–ª–∞—Å—å (—Ä–∞–∑–Ω—ã–π –∫–µ—à)
- [ ] –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤–æ –≤—Ç–æ—Ä–æ–º –æ–∫–Ω–µ
- [ ] **–û–∂–∏–¥–∞–µ—Ç—Å—è:** –ù–æ–≤–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è

---

#### –í—ã–≤–æ–¥—ã

**Root cause:**
- –í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ `KanbanCard` –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å–æ `StageModal`
- –ù–µ—Ç UI —ç–ª–µ–º–µ–Ω—Ç–∞ (–∫–Ω–æ–ø–∫–∏, –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–æ–≥–æ –∑–∞–≥–æ–ª–æ–≤–∫–∞) –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —ç—Ç–∞–ø–∞
- –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç (StageModal), –Ω–æ –Ω–µ –ø–æ–¥–∫–ª—é—á—ë–Ω –∫ Kanban

**Impact:**
- **Users affected:** –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∫–ª–∞–¥–∫–∏ "–ö–∞–Ω–±–∞–Ω" –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ `/tasks`
- **Severity:** Medium ‚Äî –Ω–µ—É–¥–æ–±—Å—Ç–≤–æ, –Ω–æ –µ—Å—Ç—å workaround (—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ Resource Graph)
- **Frequency:** –ü—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤—Å–µ–≥–¥–∞ ‚Äî —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø—Ä–æ—Å—Ç–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
- **Scope:** –ú–æ–¥—É–ª—å Kanban, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç KanbanCard

**Solution:**
- –î–æ–±–∞–≤–∏—Ç—å –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ + –∫–Ω–æ–ø–∫—É Edit –ø—Ä–∏ hover
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å StageModal —Å –∑–∞–≥—Ä—É–∑–∫–æ–π –ø–æ–ª–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —ç—Ç–∞–ø–∞
- –ò–Ω–≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –∫–µ—à –ø–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
- –í—Ä–µ–º—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è: ~30-45 –º–∏–Ω—É—Ç

**Prevention:**
- UX review guideline: –≤—Å–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å —è–≤–Ω—ã–π —Å–ø–æ—Å–æ–± —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- Completeness checklist: –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ CRUD –æ–ø–µ—Ä–∞—Ü–∏–π –ø—Ä–æ–≤–µ—Ä—è—Ç—å –≤—Å–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è (–Ω–µ —Ç–æ–ª—å–∫–æ –æ—Å–Ω–æ–≤–Ω–æ–µ)
- Feature parity: –µ—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –µ—Å—Ç—å –≤ Resource Graph, –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏ –≤ Kanban (–∏ –Ω–∞–æ–±–æ—Ä–æ—Ç)

**Related:**
- TaskItem –≤ KanbanCard —É–∂–µ —Ä–µ–∞–ª–∏–∑—É–µ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω "–∫–ª–∏–∫ ‚Üí –æ—Ç–∫—Ä—ã—Ç–∏–µ sidebar"
- StageModal –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ Resource Graph ‚Äî –º–æ–∂–Ω–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω

**–°—Å—ã–ª–∫–∏:**
- [modules/kanban/components/KanbanCard.tsx:377-560](../modules/kanban/components/KanbanCard.tsx#L377-L560) ‚Äî –∫–æ–º–ø–æ–Ω–µ–Ω—Ç KanbanCard
- [modules/kanban/components/KanbanCard.tsx:27-232](../modules/kanban/components/KanbanCard.tsx#L27-L232) ‚Äî TaskItem —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π TaskSidebar
- [modules/modals/components/stage/StageModal.tsx:62-69](../modules/modals/components/stage/StageModal.tsx#L62-L69) ‚Äî StageModal interface
- [modules/modals/actions/getDecompositionStage.ts:57-66](../modules/modals/actions/getDecompositionStage.ts#L57-L66) ‚Äî DecompositionStage type
- [modules/kanban/types/index.ts:39-54](../modules/kanban/types/index.ts#L39-L54) ‚Äî KanbanStage type

---

## üîñ –ë–ê–ì #27: –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è "–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π" –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç ‚Äî —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–µ–µ

**–î–∞—Ç–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è:** 2025-12-30

**–õ–æ–∫–∞—Ü–∏—è:** `/tasks` ‚Üí –ò–Ω–ª–∞–π–Ω —Ñ–∏–ª—å—Ç—Ä ‚Üí –í–≤–æ–¥ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã—Ö

#### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

**–¢–µ–∫—É—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã—Ö –≤ –∏–Ω–ª–∞–π–Ω —Ñ–∏–ª—å—Ç—Ä
- –ù–∞–ø—Ä–∏–º–µ—Ä: `–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:"–ó–æ—Ä–∏–Ω–∫–∞ –ï–∫–∞—Ç–µ—Ä–∏–Ω–∫–∞" –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:"test2 test1"`
- –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç **—Ç–æ–ª—å–∫–æ –ø–æ –ø–æ—Å–ª–µ–¥–Ω–µ–º—É** –∑–Ω–∞—á–µ–Ω–∏—é ("test2 test1")
- –ü–µ—Ä–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ ("–ó–æ—Ä–∏–Ω–∫–∞ –ï–∫–∞—Ç–µ—Ä–∏–Ω–∫–∞") –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –∑–∞–¥–∞—á–∏ —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ, –∞ –Ω–µ –æ–±–æ–∏—Ö

**–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ü—Ä–∏ –≤–≤–æ–¥–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π `–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:` –¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è **OR** (–ò–õ–ò)
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–æ–ª–∂–Ω—ã –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –∑–∞–¥–∞—á–∏, –≥–¥–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π **–ª—é–±–æ–π** –∏–∑ —É–∫–∞–∑–∞–Ω–Ω—ã—Ö
- –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ñ–∏–ª—å—Ç—Ä "–º–µ—Ç–∫–∞" (–∫–æ—Ç–æ—Ä—ã–π —É–∂–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç `multiple: true`)

**–ü—Ä–∏–º–µ—Ä:**
```
–í–≤–æ–¥: –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:"–ò–≤–∞–Ω–æ–≤" –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:"–ü–µ—Ç—Ä–æ–≤"
–û–∂–∏–¥–∞–µ—Ç—Å—è: –ü–æ–∫–∞–∑–∞—Ç—å –∑–∞–¥–∞—á–∏ –≥–¥–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π –ò–≤–∞–Ω–æ–≤ –ò–õ–ò –ü–µ—Ç—Ä–æ–≤
–†–µ–∞–ª—å–Ω–æ—Å—Ç—å: –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∑–∞–¥–∞—á–∏ –ü–µ—Ç—Ä–æ–≤–∞
```

**–ì–¥–µ –ø—Ä–æ—è–≤–ª—è–µ—Ç—Å—è:**
- –í—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å `InlineFilter`: `/tasks`, `/budgets`, Resource Graph
- –ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –≤—ã–±—Ä–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã—Ö

**–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ:**
1. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ `/tasks`
2. –í –∏–Ω–ª–∞–π–Ω —Ñ–∏–ª—å—Ç—Ä–µ –≤–≤–µ—Å—Ç–∏: `–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:"–ó–æ—Ä–∏–Ω–∫–∞ –ï–∫–∞—Ç–µ—Ä–∏–Ω–∫–∞" –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:"test2 test1"`
3. –ù–∞–∂–∞—Ç—å Enter
4. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
5. **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–æ–∫–∞–∑–∞–Ω—ã —Ç–æ–ª—å–∫–æ –∑–∞–¥–∞—á–∏ —Å –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–º "test2 test1", –∑–∞–¥–∞—á–∏ "–ó–æ—Ä–∏–Ω–∫–∞ –ï–∫–∞—Ç–µ—Ä–∏–Ω–∫–∞" –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç

#### –ü—Ä–∏—á–∏–Ω–∞

**Root cause:** –ö–ª—é—á "–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π" –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Ñ–∏–ª—å—Ç—Ä–∞ –Ω–µ –∏–º–µ–µ—Ç —Ñ–ª–∞–≥–∞ `multiple: true`, –ø–æ—ç—Ç–æ–º—É –ø–∞—Ä—Å–µ—Ä –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –≤–º–µ—Å—Ç–æ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è –≤ –º–∞—Å—Å–∏–≤.

**–ü—Ä–æ–±–ª–µ–º–Ω—ã–π –∫–æ–¥:**

```typescript
// –§–∞–π–ª: modules/tasks/stores/index.ts:47-52

export const TASKS_FILTER_CONFIG: FilterConfig = {
  keys: {
    // ...
    '–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π': {
      field: 'responsible_id',
      label: '–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π',
      icon: UserCircle,
      color: 'rose',
      // ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç: multiple: true
    },
    // –î–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è - –º–µ—Ç–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ:
    '–º–µ—Ç–∫–∞': {
      field: 'tag_id',
      label: '–ú–µ—Ç–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞',
      multiple: true,  // ‚úÖ –ï—Å—Ç—å —Ñ–ª–∞–≥
      icon: Tag,
      color: 'emerald',
    },
  }
}
```

**–õ–æ–≥–∏–∫–∞ –ø–∞—Ä—Å–µ—Ä–∞:**

```typescript
// –§–∞–π–ª: modules/inline-filter/parser.ts:167-196

export function tokensToQueryParams(
  tokens: ParsedToken[],
  config: FilterConfig
): FilterQueryParams {
  const params: FilterQueryParams = {}

  for (const token of tokens) {
    const keyConfig = config.keys[token.key]
    if (!keyConfig) continue

    const field = keyConfig.field

    if (keyConfig.multiple) {
      // ‚úÖ –î–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π —Å–æ–±–∏—Ä–∞–µ–º –≤ –º–∞—Å—Å–∏–≤
      const existing = params[field]
      if (Array.isArray(existing)) {
        existing.push(token.value)
      } else if (typeof existing === 'string') {
        params[field] = [existing, token.value]
      } else {
        params[field] = [token.value]
      }
    } else {
      // ‚ùå –î–ª—è –æ–¥–∏–Ω–æ—á–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –ü–ï–†–ï–ó–ê–ü–ò–°–´–í–ê–ï–ú (–ø–æ—Å–ª–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ–±–µ–∂–¥–∞–µ—Ç)
      params[field] = token.value
    }
  }

  return params
}
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**

```typescript
// –í–≤–æ–¥: –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:"–ò–≤–∞–Ω–æ–≤" –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:"–ü–µ—Ç—Ä–æ–≤"

// –ü–∞—Ä—Å–∏–Ω–≥ —Ç–æ–∫–µ–Ω–æ–≤ (—Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ):
tokens = [
  { key: '–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π', value: '–ò–≤–∞–Ω–æ–≤' },
  { key: '–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π', value: '–ü–µ—Ç—Ä–æ–≤' }
]

// –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ query params:
// –ò—Ç–µ—Ä–∞—Ü–∏—è 1: params['responsible_id'] = '–ò–≤–∞–Ω–æ–≤'
// –ò—Ç–µ—Ä–∞—Ü–∏—è 2: params['responsible_id'] = '–ü–µ—Ç—Ä–æ–≤'  // ‚ùå –ü–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç!

// –†–µ–∑—É–ª—å—Ç–∞—Ç:
params = { responsible_id: '–ü–µ—Ç—Ä–æ–≤' }  // ‚ùå –ü–µ—Ä–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ—Ç–µ—Ä—è–Ω–æ

// –û–∂–∏–¥–∞–ª–æ—Å—å:
params = { responsible_id: ['–ò–≤–∞–Ω–æ–≤', '–ü–µ—Ç—Ä–æ–≤'] }  // ‚úÖ –ú–∞—Å—Å–∏–≤
```

**–ü–æ—á–µ–º—É —ç—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞:**

1. **–ü–æ—Ç–µ—Ä—è –¥–∞–Ω–Ω—ã—Ö:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–Ω–∞—á–µ–Ω–∏–π, –Ω–æ —á–∞—Å—Ç—å –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è
2. **–ù–µ–æ—á–µ–≤–∏–¥–Ω–æ—Å—Ç—å:** –í–∏–∑—É–∞–ª—å–Ω–æ –≤ —Å—Ç—Ä–æ–∫–µ —Ñ–∏–ª—å—Ç—Ä–∞ –≤–∏–¥–Ω—ã –æ–±–∞ –∑–Ω–∞—á–µ–Ω–∏—è, –Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ
3. **–ù–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å:** "–º–µ—Ç–∫–∞" –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è, "–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π" ‚Äî –Ω–µ—Ç (—Ö–æ—Ç—è use case –∏–¥–µ–Ω—Ç–∏—á–µ–Ω)
4. **–ù–µ–æ–∂–∏–¥–∞–Ω–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:** –í –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤—ã—Ö —Å–∏—Å—Ç–µ–º –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ OR

#### –õ–æ–∫–∞—Ü–∏—è –∫–æ–¥–∞

**–§–∞–π–ª—ã —Å –ø—Ä–æ–±–ª–µ–º–æ–π:**

1. **–û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª** ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ñ–∏–ª—å—Ç—Ä–∞:
   - [modules/tasks/stores/index.ts:47-52](../modules/tasks/stores/index.ts#L47-L52) ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–ª—é—á–∞ "–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π"
   - –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç: `multiple: true`
   - –ó–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç —Å—Ç—Ä–æ–∫–∏: 27-68 (–≤—Å—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è TASKS_FILTER_CONFIG)

2. **–ü–∞—Ä—Å–µ—Ä** ‚Äî –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π:
   - [modules/inline-filter/parser.ts:167-196](../modules/inline-filter/parser.ts#L167-L196) ‚Äî —Ñ—É–Ω–∫—Ü–∏—è `tokensToQueryParams`
   - [modules/inline-filter/parser.ts:179-188](../modules/inline-filter/parser.ts#L179-L188) ‚Äî –≤–µ—Ç–∫–∞ –¥–ª—è `multiple: true`
   - [modules/inline-filter/parser.ts:189-192](../modules/inline-filter/parser.ts#L189-L192) ‚Äî –≤–µ—Ç–∫–∞ –¥–ª—è –æ–¥–∏–Ω–æ—á–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π (–ø–µ—Ä–µ–∑–∞–ø–∏—Å—å)

3. **–¢–∏–ø—ã** ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å FilterKeyConfig:
   - [modules/inline-filter/types/index.ts](../modules/inline-filter/types/index.ts) ‚Äî –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

**–ó–∞—Ç—Ä–∞–≥–∏–≤–∞–µ–º—ã–µ –∫–ª—é—á–∏ —Ñ–∏–ª—å—Ç—Ä–∞:**

–ü—Ä–æ–±–ª–µ–º–∞ —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏ —É –¥—Ä—É–≥–∏—Ö –∫–ª—é—á–µ–π, –µ—Å–ª–∏ –æ–Ω–∏ –¥–æ–ª–∂–Ω—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:
- `–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π` ‚ùå **–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ** ‚Äî –Ω—É–∂–µ–Ω `multiple: true`
- `–∫–æ–º–∞–Ω–¥–∞` ‚ö†Ô∏è **–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ** ‚Äî –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω—É–∂–µ–Ω (—Ñ–∏–ª—å—Ç—Ä –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –∫–æ–º–∞–Ω–¥–∞–º)
- `–æ—Ç–¥–µ–ª` ‚ö†Ô∏è **–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ** ‚Äî –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω—É–∂–µ–Ω
- `–ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ` ‚ö†Ô∏è **–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ** ‚Äî –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω—É–∂–µ–Ω
- `–ø—Ä–æ–µ–∫—Ç` ‚ö†Ô∏è **–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ** ‚Äî –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω—É–∂–µ–Ω
- `–º–µ—Ç–∫–∞` ‚úÖ **–†–∞–±–æ—Ç–∞–µ—Ç** ‚Äî —É–∂–µ –µ—Å—Ç—å `multiple: true`

**–ó–∞—Ç—Ä–∞–≥–∏–≤–∞–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- `TASKS_FILTER_CONFIG` ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ñ–∏–ª—å—Ç—Ä–æ–≤ –¥–ª—è Tasks
- `tokensToQueryParams` ‚Äî –ø–∞—Ä—Å–µ—Ä —Ç–æ–∫–µ–Ω–æ–≤ –≤ query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- –í—Å–µ –º–æ–¥—É–ª–∏, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–µ InlineFilter

#### –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ—à–µ–Ω–∏—è

**‚ùå –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:**
- –û—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ —Å–º–æ–≥—É—Ç —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–º
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ ‚Äî –Ω–µ —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É UX

**‚úÖ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:**

---

**–í–∞—Ä–∏–∞–Ω—Ç 1: –î–æ–±–∞–≤–∏—Ç—å `multiple: true` –¥–ª—è "–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π" ‚≠ê**

–°–∞–º–æ–µ –ø—Ä–æ—Å—Ç–æ–µ –∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ ‚Äî –¥–æ–±–∞–≤–∏—Ç—å —Ñ–ª–∞–≥ `multiple: true` –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é.

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

```typescript
// –§–∞–π–ª: modules/tasks/stores/index.ts:47-52

// –ë—ã–ª–æ:
'–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π': {
  field: 'responsible_id',
  label: '–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π',
  icon: UserCircle,
  color: 'rose',
},

// –°—Ç–∞–ª–æ:
'–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π': {
  field: 'responsible_id',
  label: '–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π',
  icon: UserCircle,
  color: 'rose',
  multiple: true,  // ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ
},
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**

```typescript
// –í–≤–æ–¥: –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:"–ò–≤–∞–Ω–æ–≤" –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:"–ü–µ—Ç—Ä–æ–≤"

// –ü–∞—Ä—Å–∏–Ω–≥ ‚Üí tokens (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π):
tokens = [
  { key: '–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π', value: '–ò–≤–∞–Ω–æ–≤' },
  { key: '–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π', value: '–ü–µ—Ç—Ä–æ–≤' }
]

// Query params (—Ç–µ–ø–µ—Ä—å –º–∞—Å—Å–∏–≤):
params = { responsible_id: ['–ò–≤–∞–Ω–æ–≤', '–ü–µ—Ç—Ä–æ–≤'] }  // ‚úÖ –û–±–∞ –∑–Ω–∞—á–µ–Ω–∏—è

// SQL –∑–∞–ø—Ä–æ—Å (—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º IN –∏–ª–∏ ANY):
WHERE responsible_id IN ('–ò–≤–∞–Ω–æ–≤', '–ü–µ—Ç—Ä–æ–≤')
-- –ò–õ–ò
WHERE responsible_id = ANY(ARRAY['–ò–≤–∞–Ω–æ–≤', '–ü–µ—Ç—Ä–æ–≤'])
```

**–í–ê–ñ–ù–û:** –¢—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –±—ç–∫–µ–Ω–¥ (Supabase query builder) –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –º–∞—Å—Å–∏–≤ –∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è `responsible_id`. –ï—Å–ª–∏ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –º–∞—Å—Å–∏–≤, –∑–∞–ø—Ä–æ—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–∏–¥–∞:
```typescript
.in('responsible_id', ['id1', 'id2'])
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –ü—Ä–æ—Å—Ç–µ–π—à–µ–µ —Ä–µ—à–µ–Ω–∏–µ ‚Äî –æ–¥–Ω–∞ —Å—Ç—Ä–æ–∫–∞ –∫–æ–¥–∞
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É (–ª–æ–≥–∏–∫–∞ —É–∂–µ –µ—Å—Ç—å –≤ –ø–∞—Ä—Å–µ—Ä–µ)
- ‚úÖ –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å —Å –∫–ª—é—á–æ–º "–º–µ—Ç–∫–∞"
- ‚úÖ –û–∂–∏–¥–∞–µ–º–æ–µ UX –ø–æ–≤–µ–¥–µ–Ω–∏–µ

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –¢—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏, —á—Ç–æ –±—ç–∫–µ–Ω–¥ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –º–∞—Å—Å–∏–≤—ã (–º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ query builder)

---

**–í–∞—Ä–∏–∞–Ω—Ç 2: –î–æ–±–∞–≤–∏—Ç—å `multiple: true` –¥–ª—è –≤—Å–µ—Ö –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏—Ö –∫–ª—é—á–µ–π**

–†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ ‚Äî —Å–¥–µ–ª–∞—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –≤—Å–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã.

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

```typescript
// –î–æ–±–∞–≤–∏—Ç—å multiple: true –¥–ª—è:
'–ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ': {
  field: 'subdivision_id',
  label: '–ü–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ',
  icon: Building2,
  color: 'violet',
  multiple: true,  // ‚úÖ
},
'–æ—Ç–¥–µ–ª': {
  field: 'department_id',
  label: '–û—Ç–¥–µ–ª',
  icon: Users,
  color: 'blue',
  multiple: true,  // ‚úÖ
},
'–∫–æ–º–∞–Ω–¥–∞': {
  field: 'team_id',
  label: '–ö–æ–º–∞–Ω–¥–∞',
  icon: UsersRound,
  color: 'cyan',
  multiple: true,  // ‚úÖ
},
'–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π': {
  field: 'responsible_id',
  label: '–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π',
  icon: UserCircle,
  color: 'rose',
  multiple: true,  // ‚úÖ
},
'–ø—Ä–æ–µ–∫—Ç': {
  field: 'project_id',
  label: '–ü—Ä–æ–µ–∫—Ç',
  icon: FolderKanban,
  color: 'amber',
  multiple: true,  // ‚úÖ
},
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –ü–æ–ª–Ω–∞—è –≥–∏–±–∫–æ—Å—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
- ‚úÖ –ü–æ–∫—Ä—ã–≤–∞–µ—Ç –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ use cases

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –¢—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—Å–µ—Ö query builders –Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫—É –º–∞—Å—Å–∏–≤–æ–≤
- ‚ùå –ú–æ–∂–µ—Ç —É—Å–ª–æ–∂–Ω–∏—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∑–∞–ø—Ä–æ—Å—ã (–µ—Å–ª–∏ –æ–Ω–∏ –Ω–µ –≥–æ—Ç–æ–≤—ã –∫ –º–∞—Å—Å–∏–≤–∞–º)

---

**–í–∞—Ä–∏–∞–Ω—Ç 3: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ `multiple` –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤**

–ü–∞—Ä—Å–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–∏—Ä–∞–µ—Ç –≤ –º–∞—Å—Å–∏–≤ –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –∫–ª—é—á–∞.

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

```typescript
// –§–∞–π–ª: modules/inline-filter/parser.ts:167-196

export function tokensToQueryParams(
  tokens: ParsedToken[],
  config: FilterConfig
): FilterQueryParams {
  const params: FilterQueryParams = {}

  // –ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—Ö–æ–∂–¥–µ–Ω–∏–π –∫–∞–∂–¥–æ–≥–æ –∫–ª—é—á–∞
  const keyCounts = new Map<string, number>()
  for (const token of tokens) {
    const field = config.keys[token.key]?.field
    if (field) {
      keyCounts.set(field, (keyCounts.get(field) || 0) + 1)
    }
  }

  for (const token of tokens) {
    const keyConfig = config.keys[token.key]
    if (!keyConfig) continue

    const field = keyConfig.field
    const hasDuplicates = (keyCounts.get(field) || 0) > 1

    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º –º–∞—Å—Å–∏–≤ –µ—Å–ª–∏ –µ—Å—Ç—å –¥—É–±–ª–∏–∫–∞—Ç—ã –ò–õ–ò —è–≤–Ω–æ —É–∫–∞–∑–∞–Ω multiple
    if (keyConfig.multiple || hasDuplicates) {
      const existing = params[field]
      if (Array.isArray(existing)) {
        existing.push(token.value)
      } else if (typeof existing === 'string') {
        params[field] = [existing, token.value]
      } else {
        params[field] = [token.value]
      }
    } else {
      params[field] = token.value
    }
  }

  return params
}
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–ª—è –≤—Å–µ—Ö –∫–ª—é—á–µ–π
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –ù–µ—è–≤–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ ‚Äî –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–º
- ‚ùå –£—Å–ª–æ–∂–Ω—è–µ—Ç –ª–æ–≥–∏–∫—É –ø–∞—Ä—Å–µ—Ä–∞
- ‚ùå –í—Å—ë —Ä–∞–≤–Ω–æ —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ query builders

---

#### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –í–∞—Ä–∏–∞–Ω—Ç 1** ‚Äî –¥–æ–±–∞–≤–∏—Ç—å `multiple: true` –¥–ª—è –∫–ª—é—á–∞ "–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π".

**–ü–ª–∞–Ω –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**

1. –î–æ–±–∞–≤–∏—Ç—å `multiple: true` –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∫–ª—é—á–∞ "–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π" (modules/tasks/stores/index.ts:47-52)
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∫–∞–∫ query builder –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –º–∞—Å—Å–∏–≤—ã –¥–ª—è `responsible_id`:
   - –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `.eq()` ‚Äî –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ `.in()`
   - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ OR (–ª—é–±–æ–π –∏–∑ —É–∫–∞–∑–∞–Ω–Ω—ã—Ö)
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é —Å –æ–¥–Ω–∏–º –∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–º–∏
4. –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ `multiple: true` –¥–ª—è –¥—Ä—É–≥–∏—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã—Ö –∫–ª—é—á–µ–π (–∫–æ–º–∞–Ω–¥–∞, –æ—Ç–¥–µ–ª, –ø—Ä–æ–µ–∫—Ç) –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

**–í—Ä–µ–º—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:** ~10-15 –º–∏–Ω—É—Ç (–µ—Å–ª–∏ query builder —É–∂–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –º–∞—Å—Å–∏–≤—ã)

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `modules/tasks/stores/index.ts` (—Å—Ç—Ä–æ–∫–∞ 47-52) ‚Äî –¥–æ–±–∞–≤–∏—Ç—å `multiple: true`
- –í–æ–∑–º–æ–∂–Ω–æ: —Ñ–∞–π–ª—ã —Å query builders (–µ—Å–ª–∏ –Ω—É–∂–Ω–∞ –∞–¥–∞–ø—Ç–∞—Ü–∏—è –¥–ª—è –º–∞—Å—Å–∏–≤–æ–≤)

#### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–°—Ü–µ–Ω–∞—Ä–∏–π 1: –û–¥–∏–Ω –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π**
- [ ] –í–≤–µ—Å—Ç–∏: `–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:"–ò–≤–∞–Ω–æ–≤"`
- [ ] **–û–∂–∏–¥–∞–µ—Ç—Å—è:** –ü–æ–∫–∞–∑–∞–Ω—ã –∑–∞–¥–∞—á–∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ "–ò–≤–∞–Ω–æ–≤"

**–°—Ü–µ–Ω–∞—Ä–∏–π 2: –î–≤–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã—Ö**
- [ ] –í–≤–µ—Å—Ç–∏: `–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:"–ò–≤–∞–Ω–æ–≤" –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:"–ü–µ—Ç—Ä–æ–≤"`
- [ ] **–û–∂–∏–¥–∞–µ—Ç—Å—è:** –ü–æ–∫–∞–∑–∞–Ω—ã –∑–∞–¥–∞—á–∏ –≥–¥–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π "–ò–≤–∞–Ω–æ–≤" –ò–õ–ò "–ü–µ—Ç—Ä–æ–≤"
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∑–∞–¥–∞—á–∏ –æ–±–æ–∏—Ö –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö

**–°—Ü–µ–Ω–∞—Ä–∏–π 3: –¢—Ä–∏ –∏ –±–æ–ª–µ–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã—Ö**
- [ ] –í–≤–µ—Å—Ç–∏: `–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:"A" –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:"B" –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:"C"`
- [ ] **–û–∂–∏–¥–∞–µ—Ç—Å—è:** –ü–æ–∫–∞–∑–∞–Ω—ã –∑–∞–¥–∞—á–∏ –≤—Å–µ—Ö —Ç—Ä—ë—Ö –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã—Ö

**–°—Ü–µ–Ω–∞—Ä–∏–π 4: –ö–æ–º–±–∏–Ω–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º–∏ —Ñ–∏–ª—å—Ç—Ä–∞–º–∏**
- [ ] –í–≤–µ—Å—Ç–∏: `–ø—Ä–æ–µ–∫—Ç:"X" –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:"–ò–≤–∞–Ω–æ–≤" –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:"–ü–µ—Ç—Ä–æ–≤"`
- [ ] **–û–∂–∏–¥–∞–µ—Ç—Å—è:** –ü–æ–∫–∞–∑–∞–Ω—ã –∑–∞–¥–∞—á–∏ –ø—Ä–æ–µ–∫—Ç–∞ "X" –≥–¥–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π "–ò–≤–∞–Ω–æ–≤" –ò–õ–ò "–ü–µ—Ç—Ä–æ–≤"

**–°—Ü–µ–Ω–∞—Ä–∏–π 5: –°—á—ë—Ç—á–∏–∫ —Ñ–∏–ª—å—Ç—Ä–æ–≤**
- [ ] –í–≤–µ—Å—Ç–∏: `–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:"A" –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:"B"`
- [ ] –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ —Å—á—ë—Ç—á–∏–∫ –≤ –ø—Ä–∞–≤–æ–º —É–≥–ª—É —Ñ–∏–ª—å—Ç—Ä–∞
- [ ] **–û–∂–∏–¥–∞–µ—Ç—Å—è:** –°—á—ë—Ç—á–∏–∫ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "2" (–¥–≤–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ñ–∏–ª—å—Ç—Ä–∞)

**–°—Ü–µ–Ω–∞—Ä–∏–π 6: –û—á–∏—Å—Ç–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞**
- [ ] –í–≤–µ—Å—Ç–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã—Ö
- [ ] –ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ –∫–Ω–æ–ø–∫—É –æ—á–∏—Å—Ç–∫–∏ (–∫—Ä–µ—Å—Ç–∏–∫)
- [ ] **–û–∂–∏–¥–∞–µ—Ç—Å—è:** –í—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è –æ—á–∏—â–µ–Ω—ã

**–°—Ü–µ–Ω–∞—Ä–∏–π 7: Query params**
- [ ] –û—Ç–∫—Ä—ã—Ç—å DevTools ‚Üí Console
- [ ] –í–≤–µ—Å—Ç–∏: `–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:"A" –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:"B"`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å query params –≤ –ª–æ–≥–∞—Ö
- [ ] **–û–∂–∏–¥–∞–µ—Ç—Å—è:** `{ responsible_id: ['A', 'B'] }` (–º–∞—Å—Å–∏–≤)

**–°—Ü–µ–Ω–∞—Ä–∏–π 8: –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∫–ª—é—á "–º–µ—Ç–∫–∞" (—É–∂–µ –∏–º–µ–µ—Ç `multiple: true`) –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
- [ ] **–û–∂–∏–¥–∞–µ—Ç—Å—è:** –ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π

---

#### –í—ã–≤–æ–¥—ã

**Root cause:**
- –ö–ª—é—á "–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π" –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –Ω–µ –∏–º–µ–µ—Ç —Ñ–ª–∞–≥–∞ `multiple: true`
- –ü–∞—Ä—Å–µ—Ä `tokensToQueryParams` –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –≤–º–µ—Å—Ç–æ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è –≤ –º–∞—Å—Å–∏–≤
- –ü–æ—Å–ª–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ "–ø–æ–±–µ–∂–¥–∞–µ—Ç", –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Ç–µ—Ä—è—é—Ç—Å—è

**Impact:**
- **Users affected:** –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü `/tasks`, `/budgets`, Resource Graph
- **Severity:** Medium ‚Äî —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —á–∞—Å—Ç–∏—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç (–º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –æ–¥–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ), –Ω–æ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –≤—ã–±–æ—Ä –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω
- **Frequency:** –ü—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤—Å–µ–≥–¥–∞ –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –≤—ã–±—Ä–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã—Ö
- **Scope:** –ú–æ–¥—É–ª—å `inline-filter`, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è TASKS_FILTER_CONFIG

**Solution:**
- –î–æ–±–∞–≤–∏—Ç—å `multiple: true` –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∫–ª—é—á–∞ "–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π"
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ query builder –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –º–∞—Å—Å–∏–≤—ã (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç `.in()` –≤–º–µ—Å—Ç–æ `.eq()`)
- –í—Ä–µ–º—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è: ~10-15 –º–∏–Ω—É—Ç

**Prevention:**
- Config review guideline: –¥–ª—è –≤—Å–µ—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã—Ö/–∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏—Ö –∫–ª—é—á–µ–π –ø—Ä–æ–¥—É–º—ã–≤–∞—Ç—å, –Ω—É–∂–µ–Ω –ª–∏ `multiple: true`
- Testing checklist: —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã —Å –æ–¥–Ω–∏–º –∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
- Documentation: –¥–æ–±–∞–≤–∏—Ç—å –≤ README inline-filter –ø—Ä–∏–º–µ—Ä—ã —Å `multiple: true`

**Related:**
- –ö–ª—é—á "–º–µ—Ç–∫–∞" —É–∂–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å `multiple: true` ‚Äî –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ reference
- –ê–Ω–∞–ª–æ–≥–∏—á–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å —É –¥—Ä—É–≥–∏—Ö –∫–ª—é—á–µ–π (–∫–æ–º–∞–Ω–¥–∞, –æ—Ç–¥–µ–ª, –ø—Ä–æ–µ–∫—Ç, –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ)

**–°—Å—ã–ª–∫–∏:**
- [modules/tasks/stores/index.ts:47-52](../modules/tasks/stores/index.ts#L47-L52) ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è "–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π"
- [modules/tasks/stores/index.ts:59-65](../modules/tasks/stores/index.ts#L59-L65) ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è "–º–µ—Ç–∫–∞" (—Å `multiple: true`)
- [modules/inline-filter/parser.ts:167-196](../modules/inline-filter/parser.ts#L167-L196) ‚Äî —Ñ—É–Ω–∫—Ü–∏—è tokensToQueryParams
- [modules/inline-filter/parser.ts:179-188](../modules/inline-filter/parser.ts#L179-L188) ‚Äî –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ `multiple: true`

---
