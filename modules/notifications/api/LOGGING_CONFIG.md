# Конфигурация логирования уведомлений

## Описание

Модуль уведомлений теперь использует защищенное логирование для предотвращения утечки PII (персонально идентифицируемой информации) в продакшн логи.

## Переменные окружения

### DEBUG_NOTIFICATIONS
- **Тип**: boolean
- **По умолчанию**: false
- **Описание**: Включает подробное логирование для отладки уведомлений

```bash
# Включить логирование
DEBUG_NOTIFICATIONS=true

# Отключить логирование (по умолчанию)
DEBUG_NOTIFICATIONS=false
```

### NODE_ENV
- **Тип**: string
- **По умолчанию**: production
- **Описание**: Автоматически включает логирование в development режиме

```bash
# Автоматически включает DEBUG_NOTIFICATIONS=true
NODE_ENV=development

# Автоматически устанавливает DEBUG_NOTIFICATIONS=false
NODE_ENV=production
```

## Что логируется

### При включенном DEBUG_NOTIFICATIONS
- ID пользователей и уведомлений
- Количество записей
- Флаги наличия связанных данных
- Названия типов сущностей
- **НЕ логируется**: payload, полные объекты, чувствительные данные

### При отключенном DEBUG_NOTIFICATIONS
- Логирование полностью отключено
- Только console.error для критических ошибок

## Примеры использования

### Локальная разработка
```bash
# .env.local
DEBUG_NOTIFICATIONS=true
NODE_ENV=development
```

### Продакшн
```bash
# .env.production
DEBUG_NOTIFICATIONS=false
NODE_ENV=production
```

### Временное включение для отладки
```bash
# В командной строке
DEBUG_NOTIFICATIONS=true npm run dev
```

## Безопасность

- Все логи проходят через функцию `logNotificationDebug`
- Чувствительные данные (payload, полные объекты) не логируются
- Логируются только идентификаторы и метаданные
- В продакшне логирование по умолчанию отключено
