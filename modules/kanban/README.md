# Спецификация продукта: Модуль планирования Kanban

## 1. Общее описание

Модуль представляет собой инструмент визуального планирования и управления проектами. Система реализует структуру Kanban-доски с горизонтальными дорожками (Swimlanes).

Основная задача модуля — дать Пользователю наглядное представление о ходе работ, возможность управлять статусами этапов и детализировать прогресс вплоть до конкретных задач.

## 2. Структура доски

Интерфейс строится по матричному принципу:

### Вертикальные колонки (Статусы этапов)

Отражают текущее состояние конкретного этапа работы (карточки):

- **Backlog** (Бэклог/Очередь)
- **План** (Запланировано к выполнению)
- **В работе** (Активная фаза выполнения)
- **Пауза** (Временная остановка)
- **Проверка** (Этап завершен исполнителем, находится на проверке)
- **Готово** (Этап полностью закрыт)

### Горизонтальные дорожки (Разделы)

Группируют этапы по логическим блокам. Карточки этапов перемещаются только внутри своего горизонтального раздела.

## 3. Описание сущностей и параметров

### 3.1. Раздел (Section / Swimlane)

Верхний уровень группировки. Визуально представляет собой горизонтальную полосу, объединяющую связанные этапы работ.

**Основные параметры:**

- **Название раздела:** Наименование группы работ
- **Статус раздела:** Текущее состояние всего раздела (План; В работе; Пауза; Приостановлено; Готово)
- **Контекст:** Привязка к Проекту, Стадии и Объекту
- **Ответственный:** Пользователь, закрепленный за данным разделом

**Сводные показатели (рассчитываются автоматически):**

- **Суммарные плановые часы:** Общая сумма часов всех этапов в разделе
- **Суммарные фактические часы:** Накопленное фактическое время
- **Общий прогресс (%):** Взвешенный процент готовности всего раздела

### 3.2. Этап (Stage / Карточка)

Основной элемент управления на доске. Представлен в виде перетаскиваемой карточки. Этап является контейнером для списка задач.

**Основные параметры:**

- **Название этапа:** Заголовок карточки
- **Текущий статус:** Определяет положение карточки в одной из 6 колонок доски (Backlog — Готово)
- **Принадлежность:** Ссылка на родительский Раздел (дорожку)

**Показатели этапа (агрегируются из задач):**

- **Плановые часы:** Сумма трудозатрат всех вложенных задач
- **Прогресс (%):** Процент выполнения этапа (среднее или взвешенное значение выполнения задач)

### 3.3. Задача (Decomposition Item)

Элемент декомпозиции, находящийся внутри карточки Этапа. Это конкретная единица работы.

**Основные параметры:**

- **Описание задачи:** Текстовое описание того, что нужно сделать
- **Ответственный:** Пользователь, назначенный на выполнение данной задачи

**Параметры учета:**

- **Плановые часы:** Оценка времени на задачу (редактируется Пользователем)
- **Фактические часы:** Зафиксированное затраченное время
- **Процент выполнения:** Числовое значение от 0 до 100 (устанавливается Пользователем по мере выполнения)

## 4. Функциональные возможности

### Навигация и визуальный контроль

- Пользователь видит структуру проекта в разрезе разделов и статусов выполнения
- Визуальное отображение статуса всего Раздела и статусов отдельных Этапов

### Управление статусами этапов (Drag-and-Drop)

- Пользователь меняет статус этапа (например, переводит из "В работе" в "Проверка") путем перетаскивания карточки
- Перемещение ограничено горизонтальным разделом

### Детализация и редактирование

- При клике на карточку Этапа открывается детальный вид со списком Задач
- Пользователь управляет параметрами Задач: описание, ответственные, часы, процент выполнения

### Автоматический расчет прогресса

Изменение прогресса в Задаче → обновляет прогресс Этапа → обновляет общий прогресс Раздела
