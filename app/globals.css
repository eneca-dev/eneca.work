@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* üîÆ DEBUG MODE: –§–∏–æ–ª–µ—Ç–æ–≤—ã–µ —Ü–≤–µ—Ç–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ö–∞—Ä–¥–∫–æ–¥–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π */
    --background: 270 50% 98%;       /* –°–≤–µ—Ç–ª–æ-—Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π —Ñ–æ–Ω */
    --foreground: 270 80% 20%;       /* –¢–µ–º–Ω–æ-—Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π —Ç–µ–∫—Å—Ç */

    --card: 270 50% 95%;             /* –§–∏–æ–ª–µ—Ç–æ–≤–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ */
    --card-foreground: 270 80% 20%;  /* –¢–µ–º–Ω–æ-—Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π —Ç–µ–∫—Å—Ç */

    --popover: 270 50% 93%;          /* –§–∏–æ–ª–µ—Ç–æ–≤—ã–π popover */
    --popover-foreground: 270 80% 20%; /* –¢–µ–º–Ω–æ-—Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π —Ç–µ–∫—Å—Ç */

    --primary: 270 80% 50%;          /* –Ø—Ä–∫–∏–π —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π primary */
    --primary-foreground: 270 50% 98%; /* –°–≤–µ—Ç–ª–æ-—Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π —Ç–µ–∫—Å—Ç */

    --secondary: 270 40% 90%;        /* –°–≤–µ—Ç–ª—ã–π —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π secondary */
    --secondary-foreground: 270 80% 20%; /* –¢–µ–º–Ω–æ-—Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π —Ç–µ–∫—Å—Ç */

    --muted: 270 40% 90%;            /* –ü—Ä–∏–≥–ª—É—à–µ–Ω–Ω—ã–π —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π */
    --muted-foreground: 270 30% 50%; /* –°—Ä–µ–¥–Ω–µ-—Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π —Ç–µ–∫—Å—Ç */

    --accent: 270 40% 85%;           /* –§–∏–æ–ª–µ—Ç–æ–≤—ã–π accent */
    --accent-foreground: 270 80% 20%; /* –¢–µ–º–Ω–æ-—Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π —Ç–µ–∫—Å—Ç */

    --destructive: 0 84.2% 60.2%;    /* –ö—Ä–∞—Å–Ω—ã–π –æ—Å—Ç–∞–µ—Ç—Å—è –¥–ª—è –æ—à–∏–±–æ–∫ */
    --destructive-foreground: 270 50% 98%;

    --border: 270 40% 80%;           /* –§–∏–æ–ª–µ—Ç–æ–≤—ã–µ –≥—Ä–∞–Ω–∏—Ü—ã */
    --input: 270 40% 80%;            /* –§–∏–æ–ª–µ—Ç–æ–≤—ã–µ input */
    --ring: 270 80% 50%;             /* –§–∏–æ–ª–µ—Ç–æ–≤–æ–µ –∫–æ–ª—å—Ü–æ —Ñ–æ–∫—É—Å–∞ */

    --radius: 0.5rem;

    /* Sidebar light theme */
    --sidebar-background: 270 50% 96%;
    --sidebar-foreground: 270 80% 20%;
    --sidebar-primary: 270 80% 50%;
    --sidebar-primary-foreground: 270 50% 98%;
    --sidebar-accent: 270 40% 90%;
    --sidebar-accent-foreground: 270 80% 20%;
    --sidebar-border: 270 40% 85%;
    --sidebar-ring: 270 80% 50%;
  }

  .dark {
    /* üî• DEBUG MODE: –ö–ò–°–õ–û–¢–ù–´–ï –Ø–†–ö–ò–ï –¶–í–ï–¢–ê –î–õ–Ø –û–¢–õ–ê–î–ö–ò! */
    --background: 60 100% 50%;       /* üü® –Ø–†–ö–û-–ñ–ï–õ–¢–´–ô –§–û–ù */
    --foreground: 0 100% 50%;        /* üî¥ –Ø–†–ö–û-–ö–†–ê–°–ù–´–ô –¢–ï–ö–°–¢ */

    --card: 30 100% 50%;             /* üüß –Ø–†–ö–û-–û–†–ê–ù–ñ–ï–í–ê–Ø –ö–ê–†–¢–û–ß–ö–ê */
    --card-foreground: 0 100% 50%;   /* üî¥ –Ø–†–ö–û-–ö–†–ê–°–ù–´–ô –¢–ï–ö–°–¢ */

    --popover: 30 100% 60%;          /* üüß –°–í–ï–¢–õ–û-–û–†–ê–ù–ñ–ï–í–´–ô POPOVER */
    --popover-foreground: 0 100% 50%; /* üî¥ –Ø–†–ö–û-–ö–†–ê–°–ù–´–ô –¢–ï–ö–°–¢ */

    --primary: 300 100% 50%;         /* üå∏ –Ø–†–ö–û-–†–û–ó–û–í–´–ô PRIMARY */
    --primary-foreground: 60 100% 50%; /* üü® –Ø–†–ö–û-–ñ–ï–õ–¢–´–ô –¢–ï–ö–°–¢ */

    --secondary: 200 100% 50%;       /* üîµ –Ø–†–ö–û-–ì–û–õ–£–ë–û–ô SECONDARY */
    --secondary-foreground: 0 100% 50%; /* üî¥ –Ø–†–ö–û-–ö–†–ê–°–ù–´–ô –¢–ï–ö–°–¢ */

    --muted: 120 100% 70%;           /* üü¢ –°–í–ï–¢–õ–û-–ó–ï–õ–ï–ù–´–ô MUTED */
    --muted-foreground: 270 100% 50%; /* üü£ –Ø–†–ö–û-–§–ò–û–õ–ï–¢–û–í–´–ô –¢–ï–ö–°–¢ */

    --accent: 120 100% 50%;          /* üü¢ –Ø–†–ö–û-–ó–ï–õ–ï–ù–´–ô ACCENT */
    --accent-foreground: 0 100% 50%; /* üî¥ –Ø–†–ö–û-–ö–†–ê–°–ù–´–ô –¢–ï–ö–°–¢ */

    --destructive: 0 100% 50%;       /* üî¥ –Ø–†–ö–û-–ö–†–ê–°–ù–´–ô –î–õ–Ø –û–®–ò–ë–û–ö */
    --destructive-foreground: 60 100% 100%; /* ‚ö™ –ë–ï–õ–´–ô –¢–ï–ö–°–¢ */

    --border: 240 100% 50%;          /* üîµ –Ø–†–ö–û-–°–ò–ù–ò–ï –ì–†–ê–ù–ò–¶–´ */
    --input: 180 100% 50%;           /* ü©µ –Ø–†–ö–û-–ì–û–õ–£–ë–´–ï INPUT */
    --ring: 300 100% 50%;            /* üå∏ –Ø–†–ö–û-–†–û–ó–û–í–û–ï –ö–û–õ–¨–¶–û –§–û–ö–£–°–ê */

    /* Sidebar dark theme - –ö–ò–°–õ–û–¢–ù–´–ï –¶–í–ï–¢–ê */
    --sidebar-background: 30 100% 50%;    /* üüß –û–†–ê–ù–ñ–ï–í–´–ô SIDEBAR */
    --sidebar-foreground: 0 100% 50%;     /* üî¥ –ö–†–ê–°–ù–´–ô –¢–ï–ö–°–¢ */
    --sidebar-primary: 300 100% 50%;      /* üå∏ –†–û–ó–û–í–´–ô PRIMARY */
    --sidebar-primary-foreground: 60 100% 50%; /* üü® –ñ–ï–õ–¢–´–ô –¢–ï–ö–°–¢ */
    --sidebar-accent: 120 100% 50%;       /* üü¢ –ó–ï–õ–ï–ù–´–ô ACCENT */
    --sidebar-accent-foreground: 0 100% 50%; /* üî¥ –ö–†–ê–°–ù–´–ô –¢–ï–ö–°–¢ */
    --sidebar-border: 240 100% 50%;       /* üîµ –°–ò–ù–ò–ï –ì–†–ê–ù–ò–¶–´ */
    --sidebar-ring: 300 100% 50%;         /* üå∏ –†–û–ó–û–í–û–ï –ö–û–õ–¨–¶–û */
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
    min-width: 768px;
  }
}

@layer utilities {
  .animate-spin-slow {
    animation: spin 3s linear infinite;
  }

  @keyframes spin {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }

  /* –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å—Ç—Ä–æ–∫ */
  .line-clamp-1 {
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-4 {
    display: -webkit-box;
    -webkit-line-clamp: 4;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-5 {
    display: -webkit-box;
    -webkit-line-clamp: 5;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-6 {
    display: -webkit-box;
    -webkit-line-clamp: 6;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ —Å–∫—Ä–æ–ª–ª–±–∞—Ä—ã –±–µ–∑ —Ñ–æ–Ω–∞ */
  .no-scrollbar-bg::-webkit-scrollbar {
    width: 10px;
    height: 10px;
    background: transparent;
  }
  .no-scrollbar-bg::-webkit-scrollbar-track {
    background: transparent;
  }
  .no-scrollbar-bg::-webkit-scrollbar-thumb {
    background-color: rgba(148, 163, 184, 0.35);
    border-radius: 8px;
    border: 3px solid transparent;
    background-clip: padding-box;
  }
  .no-scrollbar-bg::-webkit-scrollbar-thumb:hover {
    background-color: rgba(148, 163, 184, 0.55);
  }
  .dark .no-scrollbar-bg::-webkit-scrollbar-thumb {
    background-color: rgba(148, 163, 184, 0.35);
  }
  .dark .no-scrollbar-bg::-webkit-scrollbar-thumb:hover {
    background-color: rgba(148, 163, 184, 0.6);
  }
  /* Firefox */
  .no-scrollbar-bg {
    scrollbar-width: thin;
    scrollbar-color: rgba(148, 163, 184, 0.45) transparent;
  }

  /* ContentEditable placeholder */
[contenteditable]:empty:before {
  content: attr(data-placeholder);
  color: hsl(var(--muted-foreground));
  font-style: italic;
  pointer-events: none;
}

[contenteditable]:focus:empty:before {
  content: attr(data-placeholder);
  color: hsl(var(--muted-foreground));
  font-style: italic;
  pointer-events: none;
}

/* Bullet and checkbox lines */
.bullet-line {
  display: flex !important;
  align-items: flex-start !important;
  gap: 8px !important;
  margin: 4px 0 !important;
}

.checkbox-line {
  display: flex !important;
  align-items: flex-start !important;
  gap: 8px !important;
  margin: 4px 0 !important;
}

.checkbox-line input[type="checkbox"] {
  margin-top: 2px !important;
  pointer-events: none !important;
}

  /* –°—Ç–∏–ª–∏ –¥–ª—è —É–º–Ω–æ–≥–æ textarea */
  .smart-textarea {
    /* –î–µ–ª–∞–µ–º markdown —Å–∏–º–≤–æ–ª—ã –º–µ–Ω–µ–µ –∑–∞–º–µ—Ç–Ω—ã–º–∏ */
    background-image: 
      /* –ñ–∏—Ä–Ω—ã–π —Ç–µ–∫—Å—Ç */
      linear-gradient(90deg, transparent 0%, transparent 100%);
  }

  .smart-textarea::placeholder {
    color: #9ca3af;
    font-style: italic;
  }

  /* –°—Ç–∏–ª–∏ –¥–ª—è –∫—Ä–∞—Å–∏–≤–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤ textarea */
  .smart-textarea {
    font-variant-ligatures: common-ligatures;
    font-feature-settings: "liga" 1, "calt" 1;
  }

  /* –°—Ç–∏–ª–∏ –¥–ª—è WYSIWYG —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ */
  .wysiwyg-editor {
    font-family: system-ui, -apple-system, sans-serif;
    color: inherit;
  }

  .wysiwyg-editor:empty::before {
    content: "–ù–∞—á–Ω–∏—Ç–µ –ø–µ—á–∞—Ç–∞—Ç—å...";
    color: #9ca3af;
    font-style: italic;
    pointer-events: none;
    position: absolute;
  }

  .wysiwyg-editor .placeholder {
    color: #9ca3af;
    font-style: italic;
    pointer-events: none;
  }

  .wysiwyg-editor .editor-h1 {
    font-size: 28px;
    font-weight: bold;
    margin: 24px 0 12px 0;
    line-height: 1.2;
  }

  .wysiwyg-editor .editor-h2 {
    font-size: 24px;
    font-weight: bold;
    margin: 20px 0 10px 0;
    line-height: 1.2;
  }

  .wysiwyg-editor .editor-h3 {
    font-size: 20px;
    font-weight: bold;
    margin: 16px 0 8px 0;
    line-height: 1.2;
  }

  .wysiwyg-editor .bullet-item {
    display: flex;
    align-items: flex-start;
    gap: 8px;
    margin: 8px 0;
  }

  .wysiwyg-editor .bullet {
    color: hsl(var(--muted-foreground));
    font-weight: bold;
    margin-top: 2px;
    user-select: none;
  }

  .wysiwyg-editor .checkbox-item {
    display: flex;
    align-items: center;
    gap: 8px;
    margin: 8px 0;
  }

  .wysiwyg-editor .checkbox-unchecked {
    color: hsl(var(--border));
    font-size: 16px;
    user-select: none;
  }

  .wysiwyg-editor .checkbox-checked {
    color: hsl(var(--primary));
    font-size: 16px;
    user-select: none;
  }

  .wysiwyg-editor .completed-text {
    text-decoration: line-through;
    color: hsl(var(--muted-foreground));
  }

  .wysiwyg-editor strong {
    font-weight: bold;
  }

  .wysiwyg-editor em {
    font-style: italic;
  }

  .wysiwyg-editor u {
    text-decoration: underline;
  }

  /* –°—Ç–∏–ª–∏ –¥–ª—è –≤—ã–¥–µ–ª–µ–Ω–∏—è */
  .wysiwyg-editor ::selection {
    background-color: #3b82f6;
    color: white;
  }

  .dark .wysiwyg-editor ::selection {
    background-color: #1d4ed8;
    color: white;
  }
}

/* –°—Ç–∏–ª–∏ –¥–ª—è –±–µ–π–¥–∂–µ–π —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è */
/* –û—Ñ–∏—Å (—Å–∏–Ω–∏–π) */
.bg-blue-50 {
  background-color: #eff6ff;
}
.text-blue-700 {
  color: #1d4ed8;
}
.border-blue-200 {
  border-color: #bfdbfe;
}
.dark .dark\:bg-blue-950 {
  background-color: #172554;
}
.dark .dark\:text-blue-300 {
  color: #93c5fd;
}
.dark .dark\:border-blue-800 {
  border-color: #1e40af;
}

/* –£–¥–∞–ª–µ–Ω–Ω–æ (–∑–µ–ª–µ–Ω—ã–π) */
.bg-green-50 {
  background-color: #f0fdf4;
}
.text-green-700 {
  color: #15803d;
}
.border-green-200 {
  border-color: #bbf7d0;
}
.dark .dark\:bg-green-950 {
  background-color: #052e16;
}
.dark .dark\:text-green-300 {
  color: #86efac;
}
.dark .dark\:border-green-800 {
  border-color: #166534;
}

/* –ì–∏–±—Ä–∏–¥–Ω—ã–π (—Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π) */
.bg-purple-50 {
  background-color: #faf5ff;
}
.text-purple-700 {
  color: #7e22ce;
}
.border-purple-200 {
  border-color: #e9d5ff;
}
.dark .dark\:bg-purple-950 {
  background-color: #3b0764;
}
.dark .dark\:text-purple-300 {
  color: #d8b4fe;
}
.dark .dark\:border-purple-800 {
  border-color: #6b21a8;
}

/* –°—Ç–∏–ª–∏ –¥–ª—è –±–µ–π–¥–∂–µ–π */
.badge-success {
  @apply bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300;
}

.badge-destructive {
  @apply bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300;
}

/* –°—Ç–∏–ª–∏ –¥–ª—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π */
.group-header {
  @apply bg-gray-50 dark:bg-gray-800/50 font-medium py-2 px-4 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800/70 transition-colors;
}

.group-content {
  @apply border-l-2 border-gray-200 dark:border-gray-700 ml-4;
}

.group-department {
  position: relative;
}

.group-department::after {
  content: "";
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 3px;
  background-color: hsl(var(--primary));
  opacity: 0.7;
}

.group-team {
  position: relative;
}

.group-team::after {
  content: "";
  position: absolute;
  left: 8px;
  top: 0;
  bottom: 0;
  width: 1px;
  background-color: hsl(var(--primary));
  opacity: 0.4;
}

/* –ö–∞—Å—Ç–æ–º–Ω—ã–π —Å–∫—Ä–æ–ª–ª–±–∞—Ä –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–æ–≤ */
.custom-scrollbar::-webkit-scrollbar {
  width: 5px;
  background: transparent;
}
.custom-scrollbar::-webkit-scrollbar-thumb {
  background: #e5e7eb;
  border-radius: 8px;
  min-height: 24px;
  transition: background 0.2s;
}
.custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background: #cbd5e1;
}
.custom-scrollbar {
  scrollbar-width: thin;
  scrollbar-color: #e5e7eb transparent;
}

/* –ï–¥–∏–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ç–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∏ */
@layer components {
  /* –ó–∞–≥–æ–ª–æ–≤–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü */
  .page-title {
    @apply text-2xl font-bold tracking-tight;
  }

  /* –ó–∞–≥–æ–ª–æ–≤–∫–∏ —Å–µ–∫—Ü–∏–π */
  .section-title {
    @apply text-lg font-semibold;
  }

  /* –ó–∞–≥–æ–ª–æ–≤–∫–∏ –ø–æ–¥—Å–µ–∫—Ü–∏–π */
  .subsection-title {
    @apply text-base font-medium;
  }

  /* –ó–∞–≥–æ–ª–æ–≤–∫–∏ –∫–∞—Ä—Ç–æ—á–µ–∫/–≤–∏–¥–∂–µ—Ç–æ–≤ */
  .card-title {
    @apply text-base font-medium;
  }

  /* –ó–∞–≥–æ–ª–æ–≤–∫–∏ –≤ —Å–ø–∏—Å–∫–∞—Ö/—Ç–∞–±–ª–∏—Ü–∞—Ö */
  .list-item-title {
    @apply text-sm font-medium;
  }

  /* –û—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–∫—Å—Ç */
  .body-text {
    @apply text-sm;
  }

  /* –í—Ç–æ—Ä–∏—á–Ω—ã–π —Ç–µ–∫—Å—Ç */
  .secondary-text {
    @apply text-xs text-muted-foreground;
  }

  /* –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ */
  .metadata {
    @apply text-xs text-muted-foreground;
  }

  /* –õ–µ–π–±–ª—ã —Ñ–æ—Ä–º */
  .form-label {
    @apply text-sm font-medium;
  }

  /* –ù–∞–≤–∏–≥–∞—Ü–∏—è */
  .nav-item {
    @apply text-sm font-medium;
  }

  /* –ö–Ω–æ–ø–∫–∏ */
  .button-text {
    @apply text-sm font-medium;
  }
}
